(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1086:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,ThemeProvider:()=>o});var r=n(5781),i=n(3072);let s=(0,i.createContext)(void 0);function o({children:e}){let[t,n]=(0,i.useState)("light"),[o,a]=(0,i.useState)(!1);return o?(0,r.jsx)(s.Provider,{value:{theme:t,toggleTheme:()=>{n("light"===t?"dark":"light")},setTheme:n},children:e}):null}function a(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},1364:(e,t,n)=>{"use strict";var r=n(7910).Stream,i=n(8354),s=n(2461),o=n(3171),a=n(6867),l=function(e){e=e||{},s.validateOptions(e,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var t=e.headers;if(t)for(var n in t)this._driver.setHeader(n,t[n]);var r=e.extensions;r&&[].concat(r).forEach(this._driver.addExtension,this._driver),this._ping=e.ping,this._pingId=0,this.readyState=l.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var i=this;this._driver.on("open",function(e){i._open()}),this._driver.on("message",function(e){i._receiveMessage(e.data)}),this._driver.on("close",function(e){i._beginClose(e.reason,e.code)}),this._driver.on("error",function(e){i._emitError(e.message)}),this.on("error",function(){}),this._driver.messages.on("drain",function(){i.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){i._pingId+=1,i.ping(i._pingId.toString())},1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};i.inherits(l,r),l.CONNECTING=0,l.OPEN=1,l.CLOSING=2,l.CLOSED=3,l.CLOSE_TIMEOUT=3e4;var c={write:function(e){return this.send(e)},end:function(e){void 0!==e&&this.send(e),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(e){return!(this.readyState>l.OPEN)&&(e instanceof Buffer||(e=String(e)),this._driver.messages.write(e))},ping:function(e,t){return!(this.readyState>l.OPEN)&&this._driver.ping(e,t)},close:function(e,t){if(void 0===e&&(e=1e3),void 0===t&&(t=""),1e3!==e&&(e<3e3||e>4999))throw Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+e+" is neither.");if(this.readyState<l.CLOSING){var n=this;this._closeTimer=setTimeout(function(){n._beginClose("",1006)},l.CLOSE_TIMEOUT)}this.readyState!==l.CLOSED&&(this.readyState=l.CLOSING),this._driver.close(t,e)},_configureStream:function(){var e=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach(function(t){this._stream.on(t,function(){e._finalizeClose()})},this),this._stream.on("error",function(t){e._emitError("Network error: "+e.url+": "+t.message),e._finalizeClose()})},_open:function(){if(this.readyState===l.CONNECTING){this.readyState=l.OPEN,this.protocol=this._driver.protocol||"";var e=new a("open");e.initEvent("open",!1,!1),this.dispatchEvent(e)}},_receiveMessage:function(e){if(this.readyState>l.OPEN)return!1;this.readable&&this.emit("data",e);var t=new a("message",{data:e});t.initEvent("message",!1,!1),this.dispatchEvent(t)},_emitError:function(e){if(!(this.readyState>=l.CLOSING)){var t=new a("error",{message:e});t.initEvent("error",!1,!1),this.dispatchEvent(t)}},_beginClose:function(e,t){this.readyState!==l.CLOSED&&(this.readyState=l.CLOSING,this._closeParams=[e,t],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==l.CLOSED){this.readyState=l.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var e=this._closeParams?this._closeParams[0]:"",t=new a("close",{code:this._closeParams?this._closeParams[1]:1006,reason:e});t.initEvent("close",!1,!1),this.dispatchEvent(t)}}};for(var d in c)l.prototype[d]=c[d];for(var u in o)l.prototype[u]=o[u];e.exports=l},1645:e=>{"use strict";e.exports=require("net")},1657:e=>{"use strict";var t=function(e){this._bufferSize=e,this.clear()};t.prototype.clear=function(){this._buffer=Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},t.prototype.push=function(e){var t=!1,n=!1;this._ringSize<this._bufferSize?t=0===this._tail:this._ringOffset===this._ringSize&&(t=!0,n=0===this._tail),t&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(Array(this._bufferSize)),this._bufferSize=this._buffer.length,n&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=e,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},t.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},t.prototype.shift=function(){if(0!==this.length){var e=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,e}},e.exports=t},1902:(e,t)=>{function n(e){if(void 0!==e&&e!==n.REQUEST&&e!==n.RESPONSE)throw Error("type must be REQUEST or RESPONSE");void 0===e||this.initialize(e),this.maxHeaderSize=n.maxHeaderSize}t.e=n,n.prototype.initialize=function(e,t){if(e!==n.REQUEST&&e!==n.RESPONSE)throw Error("type must be REQUEST or RESPONSE");this.type=e,this.state=e+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},n.encoding="ascii",n.maxHeaderSize=81920,n.REQUEST="REQUEST",n.RESPONSE="RESPONSE";var r=n.kOnHeaders=1,i=n.kOnHeadersComplete=2,s=n.kOnBody=3,o=n.kOnMessageComplete=4;n.prototype[r]=n.prototype[i]=n.prototype[s]=n.prototype[o]=function(){};var a=!0;Object.defineProperty(n,"kOnExecute",{get:function(){return a=!1,99}});var l=n.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],c=l.indexOf("CONNECT");n.prototype.reinitialize=n,n.prototype.close=n.prototype.pause=n.prototype.resume=n.prototype.remove=n.prototype.free=function(){},n.prototype._compatMode0_11=!1,n.prototype.getAsyncId=function(){return 0};var d={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};n.prototype.execute=function(e,t,r){if(!(this instanceof n))throw TypeError("not a HTTPParser");t=t||0,r="number"==typeof r?r:e.length,this.chunk=e,this.offset=t;var i=this.end=t+r;try{for(;this.offset<i&&!this[this.state](););}catch(e){if(this.isUserCall)throw e;return this.hadError=!0,e}return(this.chunk=null,r=this.offset-t,d[this.state]&&(this.headerSize+=r,this.headerSize>(this.maxHeaderSize||n.maxHeaderSize)))?Error("max header size exceeded"):r};var u={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};n.prototype.finish=function(){if(!this.hadError){if(!u[this.state])return Error("invalid state for EOF");"BODY_RAW"===this.state&&this.userCall()(this[o]())}},n.prototype.consume=n.prototype.unconsume=n.prototype.getCurrentBuffer=function(){},n.prototype.userCall=function(){this.isUserCall=!0;var e=this;return function(t){return e.isUserCall=!1,t}},n.prototype.nextRequest=function(){this.userCall()(this[o]()),this.reinitialize(this.type)},n.prototype.consumeLine=function(){for(var e=this.end,t=this.chunk,r=this.offset;r<e;r++)if(10===t[r]){var i=this.line+t.toString(n.encoding,this.offset,r);return"\r"===i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)),this.line="",this.offset=r+1,i}this.line+=t.toString(n.encoding,this.offset,this.end),this.offset=this.end};var h=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,f=/^[ \t]+(.*[^ \t])/;n.prototype.parseHeader=function(e,t){if(-1!==e.indexOf("\r"))throw g("HPE_LF_EXPECTED");var n=h.exec(e),r=n&&n[1];if(r)t.push(r),t.push(n[2]);else{var i=f.exec(e);i&&t.length&&(t[t.length-1]&&(t[t.length-1]+=" "),t[t.length-1]+=i[1])}};var p=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;n.prototype.REQUEST_LINE=function(){var e=this.consumeLine();if(e){var t=p.exec(e);if(null===t)throw g("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?t[1]:l.indexOf(t[1]),-1===this.info.method)throw Error("invalid request method");this.info.url=t[2],this.info.versionMajor=+t[3],this.info.versionMinor=+t[4],this.body_bytes=0,this.state="HEADER"}};var m=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function g(e){var t=Error("Parse Error");return t.code=e,t}n.prototype.RESPONSE_LINE=function(){var e=this.consumeLine();if(e){var t=m.exec(e);if(null===t)throw g("HPE_INVALID_CONSTANT");this.info.versionMajor=+t[1],this.info.versionMinor=+t[2];var n=this.info.statusCode=+t[3];this.info.statusMessage=t[4],((n/100|0)==1||204===n||304===n)&&(this.body_bytes=0),this.state="HEADER"}},n.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return null!==this.body_bytes||!!this.isChunked},n.prototype.HEADER=function(){var e=this.consumeLine();if(void 0!==e){var t=this.info;if(e)this.parseHeader(e,t.headers);else{for(var r,s,o=t.headers,l=!1,d=!1,u=0;u<o.length;u+=2)switch(o[u].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===o[u+1].toLowerCase();break;case"content-length":if(r=+o[u+1],l){if(r!==this.body_bytes)throw g("HPE_UNEXPECTED_CONTENT_LENGTH")}else l=!0,this.body_bytes=r;break;case"connection":this.connection+=o[u+1].toLowerCase();break;case"upgrade":d=!0}if(this.isChunked&&l&&(l=!1,this.body_bytes=null),d&&-1!=this.connection.indexOf("upgrade")?t.upgrade=this.type===n.REQUEST||101===t.statusCode:t.upgrade=t.method===c,this.isChunked&&t.upgrade&&(this.isChunked=!1),t.shouldKeepAlive=this.shouldKeepAlive(),2===(s=a?this.userCall()(this[i](t)):this.userCall()(this[i](t.versionMajor,t.versionMinor,t.headers,t.method,t.url,t.statusCode,t.statusMessage,t.upgrade,t.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!s)this.state="BODY_CHUNKHEAD";else{if(s||0===this.body_bytes)return this.nextRequest(),t.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},n.prototype.BODY_CHUNKHEAD=function(){var e=this.consumeLine();void 0!==e&&(this.body_bytes=parseInt(e,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},n.prototype.BODY_CHUNK=function(){var e=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[s](this.chunk.slice(this.offset,this.offset+e),0,e)),this.offset+=e,this.body_bytes-=e,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},n.prototype.BODY_CHUNKEMPTYLINE=function(){var e=this.consumeLine();if(void 0!==e){if(""!==e)throw Error("Expected empty line");this.state="BODY_CHUNKHEAD"}},n.prototype.BODY_CHUNKTRAILERS=function(){var e=this.consumeLine();void 0!==e&&(e?this.parseHeader(e,this.trailers):(this.trailers.length&&this.userCall()(this[r](this.trailers,"")),this.nextRequest()))},n.prototype.BODY_RAW=function(){this.userCall()(this[s](this.chunk.slice(this.offset,this.end),0,this.end-this.offset)),this.offset=this.end},n.prototype.BODY_SIZED=function(){var e=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[s](this.chunk.slice(this.offset,this.offset+e),0,e)),this.offset+=e,this.body_bytes-=e,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach(function(e){var t=n["kOn"+e];Object.defineProperty(n.prototype,"on"+e,{get:function(){return this[t]},set:function(e){return this._compatMode0_11=!0,c="CONNECT",this[t]=e}})})},1921:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,5770,23)),Promise.resolve().then(n.t.bind(n,8204,23)),Promise.resolve().then(n.t.bind(n,2576,23)),Promise.resolve().then(n.t.bind(n,9507,23)),Promise.resolve().then(n.t.bind(n,1283,23)),Promise.resolve().then(n.t.bind(n,5147,23)),Promise.resolve().then(n.t.bind(n,3163,23)),Promise.resolve().then(n.t.bind(n,9773,23))},2193:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,140,23)),Promise.resolve().then(n.t.bind(n,8946,23)),Promise.resolve().then(n.t.bind(n,4178,23)),Promise.resolve().then(n.t.bind(n,6229,23)),Promise.resolve().then(n.t.bind(n,1281,23)),Promise.resolve().then(n.t.bind(n,3833,23)),Promise.resolve().then(n.t.bind(n,7857,23)),Promise.resolve().then(n.t.bind(n,4947,23))},2461:(e,t,n)=>{"use strict";var r=n(4061),i=n(5979),s=n(7751);e.exports={client:function(e,t){return void 0===(t=t||{}).masking&&(t.masking=!0),new i(e,t)},server:function(e){return void 0===(e=e||{}).requireMasking&&(e.requireMasking=!0),new s(e)},http:function(){return s.http.apply(s,arguments)},isSecureRequest:function(e){return s.isSecureRequest(e)},isWebSocket:function(e){return r.isWebSocket(e)},validateOptions:function(e,t){r.validateOptions(e,t)}}},2570:(e,t,n)=>{"use strict";var r=n(7910).Stream,i=n(8354),s=n(2461),o=n(7012),a=n(1364),l=n(3171),c=n(6867),d=function(e,t,n){this.writable=!0,n=n||{},this._stream=t.socket,this._ping=n.ping||this.DEFAULT_PING,this._retry=n.retry||this.DEFAULT_RETRY;var r=s.isSecureRequest(e)?"https:":"http:";this.url=r+"//"+e.headers.host+e.url,this.lastEventId=e.headers["last-event-id"]||"",this.readyState=a.CONNECTING;var i=new o,l=this;if(n.headers)for(var c in n.headers)i.set(c,n.headers[c]);if(this._stream&&this._stream.writable){process.nextTick(function(){l._open()}),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var d="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+i.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(d),this._stream.on("drain",function(){l.emit("drain")}),this._ping&&(this._pingTimer=setInterval(function(){l.ping()},1e3*this._ping)),["error","end"].forEach(function(e){l._stream.on(e,function(){l.close()})})}};i.inherits(d,r),d.isEventSource=function(e){return"GET"===e.method&&(e.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var u={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(e){if(!this.writable)return!1;try{return this._stream.write(e,"utf8")}catch(e){return!1}},_open:function(){if(this.readyState===a.CONNECTING){this.readyState=a.OPEN;var e=new c("open");e.initEvent("open",!1,!1),this.dispatchEvent(e)}},write:function(e){return this.send(e)},end:function(e){void 0!==e&&this.write(e),this.close()},send:function(e,t){if(this.readyState>a.OPEN)return!1;e=String(e).replace(/(\r\n|\r|\n)/g,"$1data: ");var n="";return(t=t||{}).event&&(n+="event: "+t.event+"\r\n"),t.id&&(n+="id: "+t.id+"\r\n"),n+="data: "+e+"\r\n\r\n",this._write(n)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>a.OPEN)return!1;this.readyState=a.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var e=new c("close");return e.initEvent("close",!1,!1),this.dispatchEvent(e),!0}};for(var h in u)d.prototype[h]=u[h];for(var f in l)d.prototype[f]=l[f];e.exports=d},2819:(e,t,n)=>{"use strict";var r=n(8354),i=n(2461),s=n(1364),o=function(e,t,n,r,o){o=o||{},this._stream=t,this._driver=i.http(e,{maxLength:o.maxLength,protocols:r});var a=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var l=function(){a._stream.removeListener("data",l)};this._stream.on("data",l),s.call(this,o),process.nextTick(function(){a._driver.start(),a._driver.io.write(n)})}};r.inherits(o,s),o.isWebSocket=function(e){return i.isWebSocket(e)},o.validateOptions=function(e,t){i.validateOptions(e,t)},o.WebSocket=o,o.Client=n(9313),o.EventSource=n(2570),e.exports=o},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3171:(e,t,n)=>{"use strict";var r=n(6867);e.exports={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(e,t,n){this.on(e,t)},removeEventListener:function(e,t,n){this.removeListener(e,t)},dispatchEvent:function(e){e.target=e.currentTarget=this,e.eventPhase=r.AT_TARGET,this["on"+e.type]&&this["on"+e.type](e),this.emit(e.type,e)}}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3559:(e,t,n)=>{Promise.resolve().then(n.bind(n,7355))},3699:(e,t,n)=>{"use strict";var r=n(1657),i=function(){this._complete=!1,this._callbacks=new r(i.QUEUE_SIZE)};i.QUEUE_SIZE=4,i.all=function(e){var t=new i,n=e.length,r=n;for(0===n&&t.done();r--;)e[r].then(function(){0==(n-=1)&&t.done()});return t},i.prototype.then=function(e){this._complete?e():this._callbacks.push(e)},i.prototype.done=function(){this._complete=!0;for(var e,t=this._callbacks;e=t.shift();)e()},e.exports=i},3873:e=>{"use strict";e.exports=require("path")},4061:(e,t,n)=>{"use strict";var r=n(6012).Buffer,i=n(4735).EventEmitter,s=n(8354),o=n(8970),a=n(7012),l=n(4920),c=function(e,t,n){i.call(this),c.validateOptions(n||{},["maxLength","masking","requireMasking","protocols"]),this._request=e,this._reader=new l,this._options=n||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new a,this.__queue=[],this.readyState=0,this.url=t,this.io=new o.IO(this),this.messages=new o.Messages(this),this._bindEventListeners()};s.inherits(c,i),c.isWebSocket=function(e){var t=e.headers.connection||"",n=e.headers.upgrade||"";return"GET"===e.method&&t.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===n.toLowerCase()},c.validateOptions=function(e,t){for(var n in e)if(0>t.indexOf(n))throw Error("Unrecognized option: "+n)};var d={MAX_LENGTH:0x3ffffff,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var e=this;this.messages.on("error",function(){}),this.on("message",function(t){var n=e.messages;n.readable&&n.emit("data",t.data)}),this.on("error",function(t){var n=e.messages;n.readable&&n.emit("error",t)}),this.on("close",function(){var t=e.messages;t.readable&&(t.readable=t.writable=!1,t.emit("end"))})},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(e){return!1},setHeader:function(e,t){return!(this.readyState>0)&&(this._headers.set(e,t),!0)},start:function(){var e;if(0!==this.readyState)return!1;if(!c.isWebSocket(this._request))return this._failHandshake(Error("Not a WebSocket request"));try{e=this._handshakeResponse()}catch(e){return this._failHandshake(e)}return this._write(e),-1!==this._stage&&this._open(),!0},_failHandshake:function(e){var t=new a;return t.set("Content-Type","text/plain"),t.set("Content-Length",r.byteLength(e.message,"utf8")),t=["HTTP/1.1 400 Bad Request",t.toString(),e.message],this._write(r.from(t.join("\r\n"),"utf8")),this._fail("protocol_error",e.message),!1},text:function(e){return this.frame(e)},binary:function(e){return!1},ping:function(){return!1},pong:function(){return!1},close:function(e,t){return 1===this.readyState&&(this.readyState=3,this.emit("close",new c.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach(function(e){this.frame.apply(this,e)},this),this.__queue=[],this.emit("open",new c.OpenEvent)},_queue:function(e){return this.__queue.push(e),!0},_write:function(e){var t=this.io;t.readable&&t.emit("data",e)},_fail:function(e,t){this.readyState=2,this.emit("error",Error(t)),this.close()}};for(var u in d)c.prototype[u]=d[u];c.ConnectEvent=function(){},c.OpenEvent=function(){},c.CloseEvent=function(e,t){this.code=e,this.reason=t},c.MessageEvent=function(e){this.data=e},c.PingEvent=function(e){this.data=e},c.PongEvent=function(e){this.data=e},e.exports=c},4496:(e,t,n)=>{"use strict";var r=n(5634),i=n(3699),s=function(e){this._cells=e.map(function(e){return new r(e)}),this._stopped={incoming:!1,outgoing:!1}};s.prototype.processIncomingMessage=function(e,t,n){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,e,t,n)},s.prototype.processOutgoingMessage=function(e,t,n){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,e,t,n)},s.prototype.close=function(e,t){this._stopped={incoming:!0,outgoing:!0};var n=this._cells.map(function(e){return e.close()});e&&i.all(n).then(function(){e.call(t)})},s.prototype._loop=function(e,t,n,r,i,s,o){for(var a=this._cells,l=a.length,c=this;l--;)a[l].pending(e);var d=function(t,i,l){if(t===n)return s.call(o,i,l);a[t][e](i,l,function(n,i){n&&(c._stopped[e]=!0),d(t+r,n,i)})};d(t,null,i)},e.exports=s},4631:e=>{"use strict";e.exports=require("tls")},4735:e=>{"use strict";e.exports=require("events")},4920:(e,t,n)=>{"use strict";var r=n(6012).Buffer,i=function(){this._queue=[],this._queueSize=0,this._offset=0};i.prototype.put=function(e){e&&0!==e.length&&(r.isBuffer(e)||(e=r.from(e)),this._queue.push(e),this._queueSize+=e.length)},i.prototype.read=function(e){if(e>this._queueSize)return null;if(0===e)return r.alloc(0);this._queueSize-=e;var t,n,i=this._queue,s=e,o=i[0];if(o.length>=e)return o.length===e?i.shift():(n=o.slice(0,e),i[0]=o.slice(e),n);for(var a=0,l=i.length;a<l&&!(s<i[a].length);a++)s-=i[a].length;return t=i.splice(0,a),s>0&&i.length>0&&(t.push(i[0].slice(0,s)),i[0]=i[0].slice(s)),r.concat(t,e)},i.prototype.eachByte=function(e,t){for(var n,r,i;this._queue.length>0;){for(r=(n=this._queue[0]).length;this._offset<r;)i=this._offset,this._offset+=1,e.call(t,n[i]);this._offset=0,this._queue.shift()}},e.exports=i},5290:()=>{},5296:(e,t,n)=>{"use strict";n.d(t,{ThemeProvider:()=>i});var r=n(1129);let i=(0,r.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Luxury\\Downloads\\luxury-dashboard-main\\contexts\\theme-context.tsx","ThemeProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Luxury\\Downloads\\luxury-dashboard-main\\contexts\\theme-context.tsx","useTheme")},5311:(e,t,n)=>{Promise.resolve().then(n.bind(n,9225))},5395:(e,t,n)=>{Promise.resolve().then(n.bind(n,1086)),Promise.resolve().then(n.bind(n,3032))},5511:e=>{"use strict";e.exports=require("crypto")},5634:(e,t,n)=>{"use strict";var r=n(6843),i=n(3699),s=function(e){this._ext=e[0],this._session=e[1],this._functors={incoming:new r(this._session,"processIncomingMessage"),outgoing:new r(this._session,"processOutgoingMessage")}};s.prototype.pending=function(e){var t=this._functors[e];t._stopped||(t.pending+=1)},s.prototype.incoming=function(e,t,n,r){this._exec("incoming",e,t,n,r)},s.prototype.outgoing=function(e,t,n,r){this._exec("outgoing",e,t,n,r)},s.prototype.close=function(){return this._closed=this._closed||new i,this._doClose(),this._closed},s.prototype._exec=function(e,t,n,r,i){this._functors[e].call(t,n,function(e,t){e&&(e.message=this._ext.name+": "+e.message),r.call(i,e,t),this._doClose()},this)},s.prototype._doClose=function(){var e=this._functors.incoming,t=this._functors.outgoing;this._closed&&e.pending+t.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())},e.exports=s},5694:(e,t,n)=>{"use strict";var r=n(6012).Buffer,i=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},s={read:function(){return this.data=this.data||r.concat(this._chunks,this.length)},pushFrame:function(e){this.rsv1=this.rsv1||e.rsv1,this.rsv2=this.rsv2||e.rsv2,this.rsv3=this.rsv3||e.rsv3,null===this.opcode&&(this.opcode=e.opcode),this._chunks.push(e.payload),this.length+=e.length}};for(var o in s)i.prototype[o]=s[o];e.exports=i},5979:(e,t,n)=>{"use strict";var r=n(6012).Buffer,i=n(5511),s=n(9551),o=n(8354),a=n(9713),l=n(4061),c=n(7062),d=n(8446),u=function(e,t){this.version="hybi-"+c.VERSION,c.call(this,null,e,t),this.readyState=-1,this._key=u.generateKey(),this._accept=c.generateAccept(this._key),this._http=new a("response");var n=s.parse(this.url),i=n.auth&&r.from(n.auth,"utf8").toString("base64");if(0>this.VALID_PROTOCOLS.indexOf(n.protocol))throw Error(this.url+" is not a valid WebSocket URL");this._pathname=(n.pathname||"/")+(n.search||""),this._headers.set("Host",n.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",c.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),i&&this._headers.set("Authorization","Basic "+i)};o.inherits(u,c),u.generateKey=function(){return i.randomBytes(16).toString("base64")};var h={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(e,t){return new d(this,e,t)},start:function(){return -1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(e){if(3!==this.readyState){if(this.readyState>0)return c.prototype.parse.call(this,e);this._http.parse(e),this._http.isComplete()&&(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var e=this._extensions.generateOffer();e&&this._headers.set("Sec-WebSocket-Extensions",e);var t=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return r.from(t.join("\r\n"),"utf8")},_failHandshake:function(e){e="Error during WebSocket handshake: "+e,this.readyState=3,this.emit("error",Error(e)),this.emit("close",new l.CloseEvent(this.ERRORS.protocol_error,e))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var e=this._http.headers,t=e.upgrade||"",n=e.connection||"",r=e["sec-websocket-accept"]||"",i=e["sec-websocket-protocol"]||"";if(""===t)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==t.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===n)return this._failHandshake("'Connection' header is missing");if("upgrade"!==n.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(r!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==i){if(0>this._protocols.indexOf(i))return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=i}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(e){return this._failHandshake(e.message)}}};for(var f in h)u.prototype[f]=h[f];e.exports=u},5987:(e,t,n)=>{"use strict";var r=n(9318),i=n(4496),s=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};s.MESSAGE_OPCODES=[1,2];var o={add:function(e){if("string"!=typeof e.name)throw TypeError("extension.name must be a string");if("permessage"!==e.type)throw TypeError('extension.type must be "permessage"');if("boolean"!=typeof e.rsv1)throw TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof e.rsv2)throw TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof e.rsv3)throw TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(e.name))throw TypeError('An extension with name "'+e.name+'" is already registered');this._byName[e.name]=e,this._inOrder.push(e)},generateOffer:function(){var e=[],t=[],n={};return this._inOrder.forEach(function(i){var s=i.createClientSession();if(s){var o=[i,s];e.push(o),n[i.name]=o;var a=s.generateOffer();(a=a?[].concat(a):[]).forEach(function(e){t.push(r.serializeParams(i.name,e))},this)}},this),this._sessions=e,this._index=n,t.length>0?t.join(", "):null},activate:function(e){var t=r.parseHeader(e),n=[];t.eachOffer(function(e,t){var i=this._index[e];if(!i)throw Error('Server sent an extension response for unknown extension "'+e+'"');var s=i[0],o=i[1],a=this._reserved(s);if(a)throw Error("Server sent two extension responses that use the RSV"+a[0]+' bit: "'+a[1]+'" and "'+s.name+'"');if(!0!==o.activate(t))throw Error("Server sent unacceptable extension parameters: "+r.serializeParams(e,t));this._reserve(s),n.push(i)},this),this._sessions=n,this._pipeline=new i(n)},generateResponse:function(e){var t=[],n=[],s=r.parseHeader(e);return this._inOrder.forEach(function(e){var i=s.byName(e.name);if(!(0===i.length||this._reserved(e))){var o=e.createServerSession(i);o&&(this._reserve(e),t.push([e,o]),n.push(r.serializeParams(e.name,o.generateResponse())))}},this),this._sessions=t,this._pipeline=new i(t),n.length>0?n.join(", "):null},validFrameRsv:function(e){var t,n={rsv1:!1,rsv2:!1,rsv3:!1};if(s.MESSAGE_OPCODES.indexOf(e.opcode)>=0)for(var r=0,i=this._sessions.length;r<i;r++)t=this._sessions[r][0],n.rsv1=n.rsv1||t.rsv1,n.rsv2=n.rsv2||t.rsv2,n.rsv3=n.rsv3||t.rsv3;return(n.rsv1||!e.rsv1)&&(n.rsv2||!e.rsv2)&&(n.rsv3||!e.rsv3)},processIncomingMessage:function(e,t,n){this._pipeline.processIncomingMessage(e,t,n)},processOutgoingMessage:function(e,t,n){this._pipeline.processOutgoingMessage(e,t,n)},close:function(e,t){if(!this._pipeline)return e.call(t);this._pipeline.close(e,t)},_reserve:function(e){this._rsv1=this._rsv1||e.rsv1&&e.name,this._rsv2=this._rsv2||e.rsv2&&e.name,this._rsv3=this._rsv3||e.rsv3&&e.name},_reserved:function(e){return this._rsv1&&e.rsv1?[1,this._rsv1]:this._rsv2&&e.rsv2?[2,this._rsv2]:!!this._rsv3&&!!e.rsv3&&[3,this._rsv3]}};for(var a in o)s.prototype[a]=o[a];e.exports=s},6012:(e,t,n)=>{var r=n(9428),i=r.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,n){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}},6843:(e,t,n)=>{"use strict";var r=n(1657),i=function(e,t){this._session=e,this._method=t,this._queue=new r(i.QUEUE_SIZE),this._stopped=!1,this.pending=0};i.QUEUE_SIZE=8,i.prototype.call=function(e,t,n,r){if(!this._stopped){var i={error:e,message:t,callback:n,context:r,done:!1},s=!1,o=this;if(this._queue.push(i),i.error)return i.done=!0,this._stop(),this._flushQueue();var a=function(e,t){s^(s=!0)&&(e?(o._stop(),i.error=e,i.message=null):i.message=t,i.done=!0,o._flushQueue())};try{this._session[this._method](t,a)}catch(e){a(e)}}},i.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},i.prototype._flushQueue=function(){for(var e,t=this._queue;t.length>0&&t.peek().done;)(e=t.shift()).error?(this.pending=0,t.clear()):this.pending-=1,e.callback.call(e.context,e.error,e.message)},e.exports=i},6867:e=>{"use strict";var t=function(e,t){for(var n in this.type=e,t)this[n]=t[n]};t.prototype.initEvent=function(e,t,n){this.type=e,this.bubbles=t,this.cancelable=n},t.prototype.stopPropagation=function(){},t.prototype.preventDefault=function(){},t.CAPTURING_PHASE=1,t.AT_TARGET=2,t.BUBBLING_PHASE=3,e.exports=t},6912:e=>{"use strict";var t=function(){},n={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var r in n)t.prototype[r]=n[r];e.exports=t},7012:e=>{"use strict";var t=function(){this.clear()};t.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],t.prototype.clear=function(){this._sent={},this._lines=[]},t.prototype.set=function(e,t){if(void 0!==t){e=this._strip(e),t=this._strip(t);var n=e.toLowerCase();(!this._sent.hasOwnProperty(n)||this.ALLOWED_DUPLICATES.indexOf(n)>=0)&&(this._sent[n]=!0,this._lines.push(e+": "+t+"\r\n"))}},t.prototype.toString=function(){return this._lines.join("")},t.prototype._strip=function(e){return e.toString().replace(/^ */,"").replace(/ *$/,"")},e.exports=t},7062:(e,t,n)=>{"use strict";var r=n(6012).Buffer,i=n(5511),s=n(8354),o=n(5987),a=n(4061),l=n(6912),c=n(5694),d=function(e,t,n){if(a.apply(this,arguments),this._extensions=new o,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var r=this._request.headers["sec-websocket-protocol"],i=this._protocols;void 0!==r&&("string"==typeof r&&(r=r.split(/ *, */)),this.protocol=r.filter(function(e){return i.indexOf(e)>=0})[0]),this.version="hybi-"+d.VERSION}};s.inherits(d,a),d.VERSION="13",d.mask=function(e,t,n){if(!t||0===t.length)return e;n=n||0;for(var r=0,i=e.length-n;r<i;r++)e[n+r]=e[n+r]^t[r%4];return e},d.generateAccept=function(e){var t=i.createHash("sha1");return t.update(e+d.GUID),t.digest("base64")},d.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var u={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(e){return this._extensions.add(e),!0},parse:function(e){this._reader.put(e);for(var t=!0;t;)switch(this._stage){case 0:(t=this._reader.read(1))&&this._parseOpcode(t[0]);break;case 1:(t=this._reader.read(1))&&this._parseLength(t[0]);break;case 2:(t=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength(t);break;case 3:(t=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=t);break;case 4:(t=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame(t));break;default:t=null}},text:function(e){return!(this.readyState>1)&&this.frame(e,"text")},binary:function(e){return!(this.readyState>1)&&this.frame(e,"binary")},ping:function(e,t){return!(this.readyState>1)&&(e=e||"",t&&(this._pingCallbacks[e]=t),this.frame(e,"ping"))},pong:function(e){return!(this.readyState>1)&&(e=e||"",this.frame(e,"pong"))},close:function(e,t){return(e=e||"",t=t||this.ERRORS.normal_closure,this.readyState<=0)?(this.readyState=3,this.emit("close",new a.CloseEvent(t,e)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close(function(){this.frame(e,"close",t)},this),!0)},frame:function(e,t,n){if(this.readyState<=0)return this._queue([e,t,n]);if(this.readyState>2)return!1;e instanceof Array&&(e=r.from(e)),"number"==typeof e&&(e=e.toString());var s,o,a=new c,d="string"==typeof e;a.rsv1=a.rsv2=a.rsv3=!1,a.opcode=this.OPCODES[t||(d?"text":"binary")],s=d?r.from(e,"utf8"):e,n&&(o=s,(s=r.allocUnsafe(2+o.length)).writeUInt16BE(n,0),o.copy(s,2)),a.data=s;var u=function(e){var t=new l;t.final=!0,t.rsv1=e.rsv1,t.rsv2=e.rsv2,t.rsv3=e.rsv3,t.opcode=e.opcode,t.masked=!!this._masking,t.length=e.data.length,t.payload=e.data,t.masked&&(t.maskingKey=i.randomBytes(4)),this._sendFrame(t)};return this.MESSAGE_OPCODES.indexOf(a.opcode)>=0?this._extensions.processOutgoingMessage(a,function(e,t){if(e)return this._fail("extension_error",e.message);u.call(this,t)},this):u.call(this,a),!0},_sendFrame:function(e){var t=e.length,n=t<=125?2:t<=65535?4:10,i=n+4*!!e.masked,s=r.allocUnsafe(i+t),o=e.masked?this.MASK:0;s[0]=(e.final?this.FIN:0)|(e.rsv1?this.RSV1:0)|(e.rsv2?this.RSV2:0)|(e.rsv3?this.RSV3:0)|e.opcode,t<=125?s[1]=o|t:t<=65535?(s[1]=126|o,s.writeUInt16BE(t,2)):(s[1]=127|o,s.writeUInt32BE(Math.floor(t/0x100000000),2),s.writeUInt32BE(t%0x100000000,6)),e.payload.copy(s,i),e.masked&&(e.maskingKey.copy(s,n),d.mask(s,e.maskingKey,i)),this._write(s)},_handshakeResponse:function(){var e=this._request.headers["sec-websocket-key"],t=this._request.headers["sec-websocket-version"];if(t!==d.VERSION)throw Error("Unsupported WebSocket version: "+t);if("string"!=typeof e)throw Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",d.generateAccept(e)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var n=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);n&&this._headers.set("Sec-WebSocket-Extensions",n);var i=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return r.from(i.join("\r\n"),"utf8")},_shutdown:function(e,t,n){delete this._frame,delete this._message,this._stage=5;var r=1===this.readyState;this.readyState=2,this._extensions.close(function(){r&&this.frame(t,"close",e),this.readyState=3,n&&this.emit("error",Error(t)),this.emit("close",new a.CloseEvent(e,t))},this)},_fail:function(e,t){this.readyState>1||this._shutdown(this.ERRORS[e],t,!0)},_parseOpcode:function(e){var t=[this.RSV1,this.RSV2,this.RSV3].map(function(t){return(e&t)===t}),n=this._frame=new l;return(n.final=(e&this.FIN)===this.FIN,n.rsv1=t[0],n.rsv2=t[1],n.rsv3=t[2],n.opcode=e&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(n))?0>this.OPCODE_CODES.indexOf(n.opcode)?this._fail("protocol_error","Unrecognized frame opcode: "+n.opcode):0>this.MESSAGE_OPCODES.indexOf(n.opcode)&&!n.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+n.opcode):this._message&&this.OPENING_OPCODES.indexOf(n.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+ +!!n.rsv1+", reserved2 = "+ +!!n.rsv2+", reserved3 = "+ +!!n.rsv3)},_parseLength:function(e){var t=this._frame;if(t.masked=(e&this.MASK)===this.MASK,t.length=e&this.LENGTH,t.length>=0&&t.length<=125){if(this._stage=t.masked?3:4,!this._checkFrameLength())return}else this._stage=2,t.lengthBytes=126===t.length?2:8;if(this._requireMasking&&!t.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(e){var t=this._frame;if(t.length=this._readUInt(e),this._stage=t.masked?3:4,0>this.MESSAGE_OPCODES.indexOf(t.opcode)&&t.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+t.length);if(!this._checkFrameLength())return},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength)||(this._fail("too_large","WebSocket frame length too large"),!1)},_emitFrame:function(e){var t,n,r,i,s,o=this._frame,l=o.payload=d.mask(e,o.maskingKey),u=o.opcode;if(delete this._frame,u===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(o)}if((u===this.OPCODES.text||u===this.OPCODES.binary)&&(this._message=new c,this._message.pushFrame(o)),o.final&&this.MESSAGE_OPCODES.indexOf(u)>=0)return this._emitMessage(this._message);u===this.OPCODES.close&&(n=l.length>=2?l.readUInt16BE(0):null,r=l.length>2?this._encode(l.slice(2)):null,0!==l.length&&!(null!==n&&n>=this.MIN_RESERVED_ERROR&&n<=this.MAX_RESERVED_ERROR)&&0>this.ERROR_CODES.indexOf(n)&&(n=this.ERRORS.protocol_error),(l.length>125||l.length>2&&!r)&&(n=this.ERRORS.protocol_error),this._shutdown(n||this.DEFAULT_ERROR_CODE,r||"")),u===this.OPCODES.ping&&(this.frame(l,"pong"),this.emit("ping",new a.PingEvent(l.toString()))),u===this.OPCODES.pong&&(s=(i=this._pingCallbacks)[t=this._encode(l)],delete i[t],s&&s(),this.emit("pong",new a.PongEvent(l.toString())))},_emitMessage:function(e){var e=this._message;e.read(),delete this._message,this._extensions.processIncomingMessage(e,function(e,t){if(e)return this._fail("extension_error",e.message);var n=t.data;if(t.opcode===this.OPCODES.text&&(n=this._encode(n)),null===n)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new a.MessageEvent(n))},this)},_encode:function(e){try{var t=e.toString("binary",0,e.length);if(!this.UTF8_MATCH.test(t))return null}catch(e){}return e.toString("utf8",0,e.length)},_readUInt:function(e){return 2===e.length?e.readUInt16BE(0):0x100000000*e.readUInt32BE(0)+e.readUInt32BE(4)}};for(var h in u)d.prototype[h]=u[h];e.exports=d},7224:(e,t,n)=>{"use strict";var r=n(6012).Buffer,i=n(4061),s=n(9433),o=n(5511),a=n(8354),l=function(e){return parseInt((e.match(/[0-9]/g)||[]).join(""),10)},c=function(e){return(e.match(/ /g)||[]).length},d=function(e,t,n){s.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};a.inherits(d,s);var u={BODY_SIZE:8,start:function(){return!!s.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(1===this.readyState&&this._write(r.from([255,0])),this.readyState=3,this.emit("close",new i.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var e=this._request.headers,t=e["sec-websocket-key1"],n=e["sec-websocket-key2"];if(!t)throw Error("Missing required header: Sec-WebSocket-Key1");if(!n)throw Error("Missing required header: Sec-WebSocket-Key2");var i=l(t),s=c(t),o=l(n),a=c(n);if(i%s!=0||o%a!=0)throw Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[i/s,o/a];var e=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return r.from(e.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var e=o.createHash("md5"),t=r.allocUnsafe(8+this.BODY_SIZE);return t.writeUInt32BE(this._keyValues[0],0),t.writeUInt32BE(this._keyValues[1],4),r.from(this._body).copy(t,8,0,this.BODY_SIZE),e.update(t),r.from(e.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var e=this._handshakeSignature();e&&(this._write(e),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(e){if(255!==e)return s.prototype._parseLeadingByte.call(this,e);this._closing=!0,this._length=0,this._stage=1}};for(var h in u)d.prototype[h]=u[h];e.exports=d},7355:(e,t,n)=>{"use strict";let r,i,s,o,a,l,c,d,u,h,f,p;n.r(t),n.d(t,{default:()=>_N});var m,g,v,y,_,b,w,x,C=n(5781),E=n(3072),k=n.t(E,2);function S(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(n=0;n<s;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r}let N=e=>{let t=R(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),I(n,t)||P(e)},getConflictingClassGroupIds:(e,t)=>{let i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},I=(e,t)=>{if(0===e.length)return t.classGroupId;let n=e[0],r=t.nextPart.get(n),i=r?I(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;let s=e.join("-");return t.validators.find(({validator:e})=>e(s))?.classGroupId},T=/^\[(.+)\]$/,P=e=>{if(T.test(e)){let t=T.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},R=e=>{let{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return M(Object.entries(e.classGroups),n).forEach(([e,n])=>{j(n,r,e,t)}),r},j=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:O(t,e)).classGroupId=n;return}if("function"==typeof e){if(D(e)){j(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,i])=>{j(i,O(t,e),n,r)})})},O=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},D=e=>e.isThemeGetter,M=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,A=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map,i=(i,s)=>{n.set(i,s),++t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},L=e=>{let{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],s=t.length,o=e=>{let n;let o=[],a=0,l=0;for(let c=0;c<e.length;c++){let d=e[c];if(0===a){if(d===i&&(r||e.slice(c,c+s)===t)){o.push(e.slice(l,c)),l=c+s;continue}if("/"===d){n=c;continue}}"["===d?a++:"]"===d&&a--}let c=0===o.length?e:e.substring(l),d=c.startsWith("!"),u=d?c.substring(1):c;return{modifiers:o,hasImportantModifier:d,baseClassName:u,maybePostfixModifierPosition:n&&n>l?n-l:void 0}};return n?e=>n({className:e,parseClassName:o}):o},F=e=>{if(e.length<=1)return e;let t=[],n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},U=e=>({cache:A(e.cacheSize),parseClassName:L(e),...N(e)}),H=/\s+/,W=(e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(H),a="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{modifiers:l,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=n(t),h=!!u,f=r(h?d.substring(0,u):d);if(!f){if(!h||!(f=r(d))){a=t+(a.length>0?" "+a:a);continue}h=!1}let p=F(l).join(":"),m=c?p+"!":p,g=m+f;if(s.includes(g))continue;s.push(g);let v=i(f,h);for(let e=0;e<v.length;++e){let t=v[e];s.push(m+t)}a=t+(a.length>0?" "+a:a)}return a};function q(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=z(e))&&(r&&(r+=" "),r+=t);return r}let z=e=>{let t;if("string"==typeof e)return e;let n="";for(let r=0;r<e.length;r++)e[r]&&(t=z(e[r]))&&(n&&(n+=" "),n+=t);return n},B=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},V=/^\[(?:([a-z-]+):)?(.+)\]$/i,K=/^\d+\/\d+$/,$=new Set(["px","full","screen"]),Y=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,G=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Z=e=>et(e)||$.has(e)||K.test(e),ee=e=>ep(e,"length",em),et=e=>!!e&&!Number.isNaN(Number(e)),en=e=>ep(e,"number",et),er=e=>!!e&&Number.isInteger(Number(e)),ei=e=>e.endsWith("%")&&et(e.slice(0,-1)),es=e=>V.test(e),eo=e=>Y.test(e),ea=new Set(["length","size","percentage"]),el=e=>ep(e,ea,eg),ec=e=>ep(e,"position",eg),ed=new Set(["image","url"]),eu=e=>ep(e,ed,ey),eh=e=>ep(e,"",ev),ef=()=>!0,ep=(e,t,n)=>{let r=V.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},em=e=>G.test(e)&&!Q.test(e),eg=()=>!1,ev=e=>X.test(e),ey=e=>J.test(e);Symbol.toStringTag;let e_=function(e,...t){let n,r,i;let s=function(a){return r=(n=U(t.reduce((e,t)=>t(e),e()))).cache.get,i=n.cache.set,s=o,o(a)};function o(e){let t=r(e);if(t)return t;let s=W(e,n);return i(e,s),s}return function(){return s(q.apply(null,arguments))}}(()=>{let e=B("colors"),t=B("spacing"),n=B("blur"),r=B("brightness"),i=B("borderColor"),s=B("borderRadius"),o=B("borderSpacing"),a=B("borderWidth"),l=B("contrast"),c=B("grayscale"),d=B("hueRotate"),u=B("invert"),h=B("gap"),f=B("gradientColorStops"),p=B("gradientColorStopPositions"),m=B("inset"),g=B("margin"),v=B("opacity"),y=B("padding"),_=B("saturate"),b=B("scale"),w=B("sepia"),x=B("skew"),C=B("space"),E=B("translate"),k=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",es,t],I=()=>[es,t],T=()=>["",Z,ee],P=()=>["auto",et,es],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",es],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[et,es];return{cacheSize:500,separator:":",theme:{colors:[ef],spacing:[Z,ee],blur:["none","",eo,es],brightness:L(),borderColor:[e],borderRadius:["none","","full",eo,es],borderSpacing:I(),borderWidth:T(),contrast:L(),grayscale:M(),hueRotate:L(),invert:M(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[ei,ee],inset:N(),margin:N(),opacity:L(),padding:I(),saturate:L(),scale:L(),sepia:M(),skew:L(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",es]}],container:["container"],columns:[{columns:[eo]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),es]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",er,es]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",es]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",er,es]}],"grid-cols":[{"grid-cols":[ef]}],"col-start-end":[{col:["auto",{span:["full",er,es]},es]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[ef]}],"row-start-end":[{row:["auto",{span:[er,es]},es]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",es]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",es]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",es,t]}],"min-w":[{"min-w":[es,t,"min","max","fit"]}],"max-w":[{"max-w":[es,t,"none","full","min","max","fit","prose",{screen:[eo]},eo]}],h:[{h:[es,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[es,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[es,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[es,t,"auto","min","max","fit"]}],"font-size":[{text:["base",eo,ee]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",en]}],"font-family":[{font:[ef]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",es]}],"line-clamp":[{"line-clamp":["none",et,en]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Z,es]}],"list-image":[{"list-image":["none",es]}],"list-style-type":[{list:["none","disc","decimal",es]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Z,ee]}],"underline-offset":[{"underline-offset":["auto",Z,es]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",es]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",es]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),ec]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",el]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eu]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Z,es]}],"outline-w":[{outline:[Z,ee]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Z,ee]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",eo,eh]}],"shadow-color":[{shadow:[ef]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",eo,es]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[_]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",es]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",es]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",es]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[er,es]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",es]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",es]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",es]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Z,ee,en]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function eb(...e){return e_(S(e))}let ew=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)("div",{ref:n,className:eb("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ew.displayName="Card";let ex=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)("div",{ref:n,className:eb("flex flex-col space-y-1.5 p-6",e),...t}));ex.displayName="CardHeader";let eC=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)("div",{ref:n,className:eb("text-2xl font-semibold leading-none tracking-tight",e),...t}));eC.displayName="CardTitle",E.forwardRef(({className:e,...t},n)=>(0,C.jsx)("div",{ref:n,className:eb("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let eE=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)("div",{ref:n,className:eb("p-6 pt-0",e),...t}));function ek(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function eS(e,t=[]){let n=[],r=()=>{let t=n.map(e=>E.createContext(e));return function(n){let r=n?.[e]||t;return E.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){let i=E.createContext(r),s=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,a=n?.[e]?.[s]||i,l=E.useMemo(()=>o,Object.values(o));return(0,C.jsx)(a.Provider,{value:l,children:r})};return o.displayName=t+"Provider",[o,function(n,o){let a=o?.[e]?.[s]||i,l=E.useContext(a);if(l)return l;if(void 0!==r)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e)[`__scope${r}`];return{...t,...i}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}(r,...t)]}function eN(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function eI(...e){return t=>{let n=!1,r=e.map(e=>{let r=eN(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():eN(e[t],null)}}}}function eT(...e){return E.useCallback(eI(...e),e)}eE.displayName="CardContent",E.forwardRef(({className:e,...t},n)=>(0,C.jsx)("div",{ref:n,className:eb("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";var eP=E.forwardRef((e,t)=>{let{children:n,...r}=e,i=E.Children.toArray(n),s=i.find(eO);if(s){let e=s.props.children,n=i.map(t=>t!==s?t:E.Children.count(e)>1?E.Children.only(null):E.isValidElement(e)?e.props.children:null);return(0,C.jsx)(eR,{...r,ref:t,children:E.isValidElement(e)?E.cloneElement(e,void 0,n):null})}return(0,C.jsx)(eR,{...r,ref:t,children:n})});eP.displayName="Slot";var eR=E.forwardRef((e,t)=>{let{children:n,...r}=e;if(E.isValidElement(n)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(n=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n);return E.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...e)=>{s(...e),i(...e)}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props),ref:t?eI(t,e):e})}return E.Children.count(n)>1?E.Children.only(null):null});eR.displayName="SlotClone";var ej=({children:e})=>(0,C.jsx)(C.Fragment,{children:e});function eO(e){return E.isValidElement(e)&&e.type===ej}function eD(e){let t=e+"CollectionProvider",[n,r]=eS(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:t,children:n}=e,r=E.useRef(null),s=E.useRef(new Map).current;return(0,C.jsx)(i,{scope:t,itemMap:s,collectionRef:r,children:n})};o.displayName=t;let a=e+"CollectionSlot",l=E.forwardRef((e,t)=>{let{scope:n,children:r}=e,i=eT(t,s(a,n).collectionRef);return(0,C.jsx)(eP,{ref:i,children:r})});l.displayName=a;let c=e+"CollectionItemSlot",d="data-radix-collection-item",u=E.forwardRef((e,t)=>{let{scope:n,children:r,...i}=e,o=E.useRef(null),a=eT(t,o),l=s(c,n);return E.useEffect(()=>(l.itemMap.set(o,{ref:o,...i}),()=>void l.itemMap.delete(o))),(0,C.jsx)(eP,{[d]:"",ref:a,children:r})});return u.displayName=c,[{Provider:o,Slot:l,ItemSlot:u},function(t){let n=s(e+"CollectionConsumer",t);return E.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var eM=globalThis?.document?E.useLayoutEffect:()=>{},eA=k["useId".toString()]||(()=>void 0),eL=0;function eF(e){let[t,n]=E.useState(eA());return eM(()=>{e||n(e=>e??String(eL++))},[e]),e||(t?`radix-${t}`:"")}var eU=n(6129),eH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=E.forwardRef((e,n)=>{let{asChild:r,...i}=e,s=r?eP:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,C.jsx)(s,{...i,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function eW(e,t){e&&eU.flushSync(()=>e.dispatchEvent(t))}function eq(e){let t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...e)=>t.current?.(...e),[])}function ez({prop:e,defaultProp:t,onChange:n=()=>{}}){let[r,i]=function({defaultProp:e,onChange:t}){let n=E.useState(e),[r]=n,i=E.useRef(r),s=eq(t);return E.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}({defaultProp:t,onChange:n}),s=void 0!==e,o=s?e:r,a=eq(n);return[o,E.useCallback(t=>{if(s){let n="function"==typeof t?t(e):t;n!==e&&a(n)}else i(t)},[s,e,i,a])]}var eB=E.createContext(void 0);function eV(e){let t=E.useContext(eB);return e||t||"ltr"}var eK="rovingFocusGroup.onEntryFocus",e$={bubbles:!1,cancelable:!0},eY="RovingFocusGroup",[eG,eQ,eX]=eD(eY),[eJ,eZ]=eS(eY,[eX]),[e0,e1]=eJ(eY),e2=E.forwardRef((e,t)=>(0,C.jsx)(eG.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,C.jsx)(eG.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,C.jsx)(e4,{...e,ref:t})})}));e2.displayName=eY;var e4=E.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=E.useRef(null),f=eT(t,h),p=eV(s),[m=null,g]=ez({prop:o,defaultProp:a,onChange:l}),[v,y]=E.useState(!1),_=eq(c),b=eQ(n),w=E.useRef(!1),[x,k]=E.useState(0);return E.useEffect(()=>{let e=h.current;if(e)return e.addEventListener(eK,_),()=>e.removeEventListener(eK,_)},[_]),(0,C.jsx)(e0,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:m,onItemFocus:E.useCallback(e=>g(e),[g]),onItemShiftTab:E.useCallback(()=>y(!0),[]),onFocusableItemAdd:E.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:E.useCallback(()=>k(e=>e-1),[]),children:(0,C.jsx)(eH.div,{tabIndex:v||0===x?-1:0,"data-orientation":r,...u,ref:f,style:{outline:"none",...e.style},onMouseDown:ek(e.onMouseDown,()=>{w.current=!0}),onFocus:ek(e.onFocus,e=>{let t=!w.current;if(e.target===e.currentTarget&&t&&!v){let t=new CustomEvent(eK,e$);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=b().filter(e=>e.focusable);e8([e.find(e=>e.active),e.find(e=>e.id===m),...e].filter(Boolean).map(e=>e.ref.current),d)}}w.current=!1}),onBlur:ek(e.onBlur,()=>y(!1))})})}),e3="RovingFocusGroupItem",e5=E.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=e,a=eF(),l=s||a,c=e1(e3,n),d=c.currentTabStopId===l,u=eQ(n),{onFocusableItemAdd:h,onFocusableItemRemove:f}=c;return E.useEffect(()=>{if(r)return h(),()=>f()},[r,h,f]),(0,C.jsx)(eG.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:(0,C.jsx)(eH.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:ek(e.onMouseDown,e=>{r?c.onItemFocus(l):e.preventDefault()}),onFocus:ek(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:ek(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){c.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var r;let i=(r=e.key,"rtl"!==n?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return e6[i]}(e,c.orientation,c.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=u().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();let r=n.indexOf(e.currentTarget);n=c.loop?function(e,t){return e.map((n,r)=>e[(t+r)%e.length])}(n,r+1):n.slice(r+1)}setTimeout(()=>e8(n))}})})})});e5.displayName=e3;var e6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e8(e,t=!1){let n=document.activeElement;for(let r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}var e9=e=>{let{present:t,children:n}=e,r=function(e){var t,n;let[r,i]=E.useState(),s=E.useRef({}),o=E.useRef(e),a=E.useRef("none"),[l,c]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},E.useReducer((e,t)=>n[e][t]??e,t));return E.useEffect(()=>{let e=e7(s.current);a.current="mounted"===l?e:"none"},[l]),eM(()=>{let t=s.current,n=o.current;if(n!==e){let r=a.current,i=e7(t);e?c("MOUNT"):"none"===i||t?.display==="none"?c("UNMOUNT"):n&&r!==i?c("ANIMATION_OUT"):c("UNMOUNT"),o.current=e}},[e,c]),eM(()=>{if(r){let e;let t=r.ownerDocument.defaultView??window,n=n=>{let i=e7(s.current).includes(n.animationName);if(n.target===r&&i&&(c("ANIMATION_END"),!o.current)){let n=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=n)})}},i=e=>{e.target===r&&(a.current=e7(s.current))};return r.addEventListener("animationstart",i),r.addEventListener("animationcancel",n),r.addEventListener("animationend",n),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",i),r.removeEventListener("animationcancel",n),r.removeEventListener("animationend",n)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(e=>{e&&(s.current=getComputedStyle(e)),i(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):E.Children.only(n),s=eT(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(n=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof n||r.isPresent?E.cloneElement(i,{ref:s}):null};function e7(e){return e?.animationName||"none"}e9.displayName="Presence";var te="Tabs",[tt,tn]=eS(te,[eZ]),tr=eZ(),[ti,ts]=tt(te),to=E.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,d=eV(a),[u,h]=ez({prop:r,onChange:i,defaultProp:s});return(0,C.jsx)(ti,{scope:n,baseId:eF(),value:u,onValueChange:h,orientation:o,dir:d,activationMode:l,children:(0,C.jsx)(eH.div,{dir:d,"data-orientation":o,...c,ref:t})})});to.displayName=te;var ta="TabsList",tl=E.forwardRef((e,t)=>{let{__scopeTabs:n,loop:r=!0,...i}=e,s=ts(ta,n),o=tr(n);return(0,C.jsx)(e2,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:(0,C.jsx)(eH.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});tl.displayName=ta;var tc="TabsTrigger",td=E.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=ts(tc,n),a=tr(n),l=tf(o.baseId,r),c=tp(o.baseId,r),d=r===o.value;return(0,C.jsx)(e5,{asChild:!0,...a,focusable:!i,active:d,children:(0,C.jsx)(eH.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:ek(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:ek(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:ek(e.onFocus,()=>{let e="manual"!==o.activationMode;d||i||!e||o.onValueChange(r)})})})});td.displayName=tc;var tu="TabsContent",th=E.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,a=ts(tu,n),l=tf(a.baseId,r),c=tp(a.baseId,r),d=r===a.value,u=E.useRef(d);return E.useEffect(()=>{let e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,C.jsx)(e9,{present:i||d,children:({present:n})=>(0,C.jsx)(eH.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:n&&s})})});function tf(e,t){return`${e}-trigger-${t}`}function tp(e,t){return`${e}-content-${t}`}th.displayName=tu;let tm=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(tl,{ref:n,className:eb("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));tm.displayName=tl.displayName;let tg=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(td,{ref:n,className:eb("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));tg.displayName=td.displayName;let tv=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(th,{ref:n,className:eb("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));tv.displayName=th.displayName;let ty=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,t_=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return S(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(e=>{let t=null==n?void 0:n[e],r=null==s?void 0:s[e];if(null===t)return null;let o=ty(t)||ty(r);return i[e][o]}),a=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return S(e,o,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...s,...a}[t]):({...s,...a})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)},tb=t_("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tw=E.forwardRef(({className:e,variant:t,...n},r)=>(0,C.jsx)("div",{ref:r,role:"alert",className:eb(tb({variant:t}),e),...n}));tw.displayName="Alert";let tx=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)("div",{ref:n,className:eb("text-sm [&_p]:leading-relaxed",e),...t}));tx.displayName="AlertDescription";let tC=t_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tE=E.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{let o=r?eP:"button";return(0,C.jsx)(o,{className:eb(tC({variant:t,size:n,className:e})),ref:s,...i})});tE.displayName="Button";let tk=E.forwardRef(({className:e,type:t,...n},r)=>(0,C.jsx)("input",{type:t,className:eb("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));tk.displayName="Input";var tS=E.forwardRef((e,t)=>(0,C.jsx)(eH.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));tS.displayName="Label";let tN=t_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),tI=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(tS,{ref:n,className:eb(tN(),e),...t}));function tT(e,[t,n]){return Math.min(n,Math.max(t,e))}tI.displayName=tS.displayName;var tP="dismissableLayer.update",tR=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tj=E.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=E.useContext(tR),[d,u]=E.useState(null),h=d?.ownerDocument??globalThis?.document,[,f]=E.useState({}),p=eT(t,e=>u(e)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),_=d?m.indexOf(d):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=_>=y,x=function(e,t=globalThis?.document){let n=eq(e),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){tD("dismissableLayer.pointerDownOutside",n,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{let t=e.target,n=[...c.branches].some(e=>e.contains(t));!w||n||(i?.(e),o?.(e),e.defaultPrevented||a?.())},h),k=function(e,t=globalThis?.document){let n=eq(e),r=E.useRef(!1);return E.useEffect(()=>{let e=e=>{e.target&&!r.current&&tD("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{let t=e.target;[...c.branches].some(e=>e.contains(t))||(s?.(e),o?.(e),e.defaultPrevented||a?.())},h);return function(e,t=globalThis?.document){let n=eq(e);E.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{_===c.layers.size-1&&(r?.(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))},h),E.useEffect(()=>{if(d)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(g=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),tO(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=g)}},[d,h,n,c]),E.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),tO())},[d,c]),E.useEffect(()=>{let e=()=>f({});return document.addEventListener(tP,e),()=>document.removeEventListener(tP,e)},[]),(0,C.jsx)(eH.div,{...l,ref:p,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:ek(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ek(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ek(e.onPointerDownCapture,x.onPointerDownCapture)})});function tO(){let e=new CustomEvent(tP);document.dispatchEvent(e)}function tD(e,t,n,{discrete:r}){let i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?eW(i,s):i.dispatchEvent(s)}tj.displayName="DismissableLayer",E.forwardRef((e,t)=>{let n=E.useContext(tR),r=E.useRef(null),i=eT(t,r);return E.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,C.jsx)(eH.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var tM=0;function tA(){E.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tL()),document.body.insertAdjacentElement("beforeend",e[1]??tL()),tM++,()=>{1===tM&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tM--}},[])}function tL(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tF="focusScope.autoFocusOnMount",tU="focusScope.autoFocusOnUnmount",tH={bubbles:!1,cancelable:!0},tW=E.forwardRef((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,l]=E.useState(null),c=eq(i),d=eq(s),u=E.useRef(null),h=eT(t,e=>l(e)),f=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let e=function(e){if(f.paused||!a)return;let t=e.target;a.contains(t)?u.current=t:tB(u.current,{select:!0})},t=function(e){if(f.paused||!a)return;let t=e.relatedTarget;null===t||a.contains(t)||tB(u.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&tB(a)});return a&&n.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[r,a,f.paused]),E.useEffect(()=>{if(a){tV.add(f);let e=document.activeElement;if(!a.contains(e)){let t=new CustomEvent(tF,tH);a.addEventListener(tF,c),a.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let r of e)if(tB(r,{select:t}),document.activeElement!==n)return}(tq(a).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&tB(a))}return()=>{a.removeEventListener(tF,c),setTimeout(()=>{let t=new CustomEvent(tU,tH);a.addEventListener(tU,d),a.dispatchEvent(t),t.defaultPrevented||tB(e??document.body,{select:!0}),a.removeEventListener(tU,d),tV.remove(f)},0)}}},[a,c,d,f]);let p=E.useCallback(e=>{if(!n&&!r||f.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){let t=e.currentTarget,[r,s]=function(e){let t=tq(e);return[tz(t,e),tz(t.reverse(),e)]}(t);r&&s?e.shiftKey||i!==s?e.shiftKey&&i===r&&(e.preventDefault(),n&&tB(s,{select:!0})):(e.preventDefault(),n&&tB(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,f.paused]);return(0,C.jsx)(eH.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});function tq(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tz(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function tB(e,{select:t=!1}={}){if(e&&e.focus){var n;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}tW.displayName="FocusScope";var tV=function(){let e=[];return{add(t){let n=e[0];t!==n&&n?.pause(),(e=tK(e,t)).unshift(t)},remove(t){e=tK(e,t),e[0]?.resume()}}}();function tK(e,t){let n=[...e],r=n.indexOf(t);return -1!==r&&n.splice(r,1),n}let t$=["top","right","bottom","left"],tY=Math.min,tG=Math.max,tQ=Math.round,tX=Math.floor,tJ=e=>({x:e,y:e}),tZ={left:"right",right:"left",bottom:"top",top:"bottom"},t0={start:"end",end:"start"};function t1(e,t){return"function"==typeof e?e(t):e}function t2(e){return e.split("-")[0]}function t4(e){return e.split("-")[1]}function t3(e){return"x"===e?"y":"x"}function t5(e){return"y"===e?"height":"width"}function t6(e){return["top","bottom"].includes(t2(e))?"y":"x"}function t8(e){return e.replace(/start|end/g,e=>t0[e])}function t9(e){return e.replace(/left|right|bottom|top/g,e=>tZ[e])}function t7(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function ne(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function nt(e,t,n){let r,{reference:i,floating:s}=e,o=t6(t),a=t3(t6(t)),l=t5(a),c=t2(t),d="y"===o,u=i.x+i.width/2-s.width/2,h=i.y+i.height/2-s.height/2,f=i[l]/2-s[l]/2;switch(c){case"top":r={x:u,y:i.y-s.height};break;case"bottom":r={x:u,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:h};break;case"left":r={x:i.x-s.width,y:h};break;default:r={x:i.x,y:i.y}}switch(t4(t)){case"start":r[a]-=f*(n&&d?-1:1);break;case"end":r[a]+=f*(n&&d?-1:1)}return r}let nn=async(e,t,n)=>{let{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=nt(c,r,l),h=r,f={},p=0;for(let n=0;n<a.length;n++){let{name:s,fn:m}=a[n],{x:g,y:v,data:y,reset:_}=await m({x:d,y:u,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=v?v:u,f={...f,[s]:{...f[s],...y}},_&&p<=50&&(p++,"object"==typeof _&&(_.placement&&(h=_.placement),_.rects&&(c=!0===_.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:u}=nt(c,h,l)),n=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:f}};async function nr(e,t){var n;void 0===t&&(t={});let{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:f=0}=t1(t,e),p=t7(f),m=a[h?"floating"===u?"reference":"floating":u],g=ne(await s.getClippingRect({element:null==(n=await (null==s.isElement?void 0:s.isElement(m)))||n?m:m.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,y=await (null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),_=await (null==s.isElement?void 0:s.isElement(y))&&await (null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},b=ne(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/_.y,bottom:(b.bottom-g.bottom+p.bottom)/_.y,left:(g.left-b.left+p.left)/_.x,right:(b.right-g.right+p.right)/_.x}}function ni(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ns(e){return t$.some(t=>e[t]>=0)}async function no(e,t){let{placement:n,platform:r,elements:i}=e,s=await (null==r.isRTL?void 0:r.isRTL(i.floating)),o=t2(n),a=t4(n),l="y"===t6(n),c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,u=t1(t,e),{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*d,y:h*c}:{x:h*c,y:f*d}}function na(){return"undefined"!=typeof window}function nl(e){return nu(e)?(e.nodeName||"").toLowerCase():"#document"}function nc(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function nd(e){var t;return null==(t=(nu(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function nu(e){return!!na()&&(e instanceof Node||e instanceof nc(e).Node)}function nh(e){return!!na()&&(e instanceof Element||e instanceof nc(e).Element)}function nf(e){return!!na()&&(e instanceof HTMLElement||e instanceof nc(e).HTMLElement)}function np(e){return!!na()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof nc(e).ShadowRoot)}function nm(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=nb(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ng(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function nv(e){let t=ny(),n=nh(e)?nb(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function ny(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function n_(e){return["html","body","#document"].includes(nl(e))}function nb(e){return nc(e).getComputedStyle(e)}function nw(e){return nh(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nx(e){if("html"===nl(e))return e;let t=e.assignedSlot||e.parentNode||np(e)&&e.host||nd(e);return np(t)?t.host:t}function nC(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let i=function e(t){let n=nx(t);return n_(n)?t.ownerDocument?t.ownerDocument.body:t.body:nf(n)&&nm(n)?n:e(n)}(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),o=nc(i);if(s){let e=nE(o);return t.concat(o,o.visualViewport||[],nm(i)?i:[],e&&n?nC(e):[])}return t.concat(i,nC(i,[],n))}function nE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nk(e){let t=nb(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=nf(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=tQ(n)!==s||tQ(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function nS(e){return nh(e)?e:e.contextElement}function nN(e){let t=nS(e);if(!nf(t))return tJ(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:s}=nk(t),o=(s?tQ(n.width):n.width)/r,a=(s?tQ(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}let nI=tJ(0);function nT(e){let t=nc(e);return ny()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:nI}function nP(e,t,n,r){var i;void 0===t&&(t=!1),void 0===n&&(n=!1);let s=e.getBoundingClientRect(),o=nS(e),a=tJ(1);t&&(r?nh(r)&&(a=nN(r)):a=nN(e));let l=(void 0===(i=n)&&(i=!1),r&&(!i||r===nc(o))&&i)?nT(o):tJ(0),c=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,u=s.width/a.x,h=s.height/a.y;if(o){let e=nc(o),t=r&&nh(r)?nc(r):r,n=e,i=nE(n);for(;i&&r&&t!==n;){let e=nN(i),t=i.getBoundingClientRect(),r=nb(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,h*=e.y,c+=s,d+=o,i=nE(n=nc(i))}}return ne({width:u,height:h,x:c,y:d})}function nR(e,t){let n=nw(e).scrollLeft;return t?t.left+n:nP(nd(e)).left+n}function nj(e,t,n){void 0===n&&(n=!1);let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:nR(e,r)),y:r.top+t.scrollTop}}function nO(e,t,n){let r;if("viewport"===t)r=function(e,t){let n=nc(e),r=nd(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;let e=ny();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}(e,n);else if("document"===t)r=function(e){let t=nd(e),n=nw(e),r=e.ownerDocument.body,i=tG(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=tG(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+nR(e),a=-n.scrollTop;return"rtl"===nb(r).direction&&(o+=tG(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}(nd(e));else if(nh(t))r=function(e,t){let n=nP(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=nf(e)?nN(e):tJ(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y;return{width:o,height:a,x:i*s.x,y:r*s.y}}(t,n);else{let n=nT(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return ne(r)}function nD(e){return"static"===nb(e).position}function nM(e,t){if(!nf(e)||"fixed"===nb(e).position)return null;if(t)return t(e);let n=e.offsetParent;return nd(e)===n&&(n=n.ownerDocument.body),n}function nA(e,t){let n=nc(e);if(ng(e))return n;if(!nf(e)){let t=nx(e);for(;t&&!n_(t);){if(nh(t)&&!nD(t))return t;t=nx(t)}return n}let r=nM(e,t);for(;r&&["table","td","th"].includes(nl(r))&&nD(r);)r=nM(r,t);return r&&n_(r)&&nD(r)&&!nv(r)?n:r||function(e){let t=nx(e);for(;nf(t)&&!n_(t);){if(nv(t))return t;if(ng(t))break;t=nx(t)}return null}(e)||n}let nL=async function(e){let t=this.getOffsetParent||nA,n=this.getDimensions,r=await n(e.floating);return{reference:function(e,t,n){let r=nf(t),i=nd(t),s="fixed"===n,o=nP(e,!0,s,t),a={scrollLeft:0,scrollTop:0},l=tJ(0);if(r||!r&&!s){if(("body"!==nl(t)||nm(i))&&(a=nw(t)),r){let e=nP(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=nR(i))}s&&!r&&i&&(l.x=nR(i));let c=!i||r||s?tJ(0):nj(i,a);return{x:o.left+a.scrollLeft-l.x-c.x,y:o.top+a.scrollTop-l.y-c.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},nF={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,s="fixed"===i,o=nd(r),a=!!t&&ng(t.floating);if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=tJ(1),d=tJ(0),u=nf(r);if((u||!u&&!s)&&(("body"!==nl(r)||nm(o))&&(l=nw(r)),nf(r))){let e=nP(r);c=nN(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}let h=!o||u||s?tJ(0):nj(o,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:nd,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,s=[..."clippingAncestors"===n?ng(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let r=nC(e,[],!1).filter(e=>nh(e)&&"body"!==nl(e)),i=null,s="fixed"===nb(e).position,o=s?nx(e):e;for(;nh(o)&&!n_(o);){let t=nb(o),n=nv(o);n||"fixed"!==t.position||(i=null),(s?!n&&!i:!n&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||nm(o)&&!n&&function e(t,n){let r=nx(t);return!(r===n||!nh(r)||n_(r))&&("fixed"===nb(r).position||e(r,n))}(e,o))?r=r.filter(e=>e!==o):i=t,o=nx(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=s[0],a=s.reduce((e,n)=>{let r=nO(t,n,i);return e.top=tG(r.top,e.top),e.right=tY(r.right,e.right),e.bottom=tY(r.bottom,e.bottom),e.left=tG(r.left,e.left),e},nO(t,o,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:nA,getElementRects:nL,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=nk(e);return{width:t,height:n}},getScale:nN,isElement:nh,isRTL:function(e){return"rtl"===nb(e).direction}};function nU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let nH=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=t1(e,t)||{};if(null==c)return{};let u=t7(d),h={x:n,y:r},f=t3(t6(i)),p=t5(f),m=await o.getDimensions(c),g="y"===f,v=g?"clientHeight":"clientWidth",y=s.reference[p]+s.reference[f]-h[f]-s.floating[p],_=h[f]-s.reference[f],b=await (null==o.getOffsetParent?void 0:o.getOffsetParent(c)),w=b?b[v]:0;w&&await (null==o.isElement?void 0:o.isElement(b))||(w=a.floating[v]||s.floating[p]);let x=w/2-m[p]/2-1,C=tY(u[g?"top":"left"],x),E=tY(u[g?"bottom":"right"],x),k=w-m[p]-E,S=w/2-m[p]/2+(y/2-_/2),N=tG(C,tY(S,k)),I=!l.arrow&&null!=t4(i)&&S!==N&&s.reference[p]/2-(S<C?C:E)-m[p]/2<0,T=I?S<C?S-C:S-k:0;return{[f]:h[f]+T,data:{[f]:N,centerOffset:S-N-T,...I&&{alignmentOffset:T}},reset:I}}}),nW=(e,t,n)=>{let r=new Map,i={platform:nF,...n},s={...i.platform,_c:r};return nn(e,t,{...i,platform:s})};var nq="undefined"!=typeof document?E.useLayoutEffect:function(){};function nz(e,t){let n,r,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!nz(e[r],t[r]))return!1;return!0}if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!({}).hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){let n=i[r];if(("_owner"!==n||!e.$$typeof)&&!nz(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function nB(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nV(e,t){let n=nB(e);return Math.round(t*n)/n}function nK(e){let t=E.useRef(e);return nq(()=>{t.current=e}),t}let n$=e=>({name:"arrow",options:e,fn(t){let{element:n,padding:r}="function"==typeof e?e(t):e;return n&&({}).hasOwnProperty.call(n,"current")?null!=n.current?nH({element:n.current,padding:r}).fn(t):{}:n?nH({element:n,padding:r}).fn(t):{}}}),nY=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;let{x:i,y:s,placement:o,middlewareData:a}=t,l=await no(t,e);return o===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}}(e),options:[e,t]}),nG=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=t1(e,t),c={x:n,y:r},d=await nr(t,l),u=t6(t2(i)),h=t3(u),f=c[h],p=c[u];if(s){let e="y"===h?"top":"left",t="y"===h?"bottom":"right",n=f+d[e],r=f-d[t];f=tG(n,tY(f,r))}if(o){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",n=p+d[e],r=p-d[t];p=tG(n,tY(p,r))}let m=a.fn({...t,[h]:f,[u]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:s,[u]:o}}}}}}(e),options:[e,t]}),nQ=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=t1(e,t),d={x:n,y:r},u=t6(i),h=t3(u),f=d[h],p=d[u],m=t1(a,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){let e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+g.mainAxis,n=s.reference[h]+s.reference[e]-g.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var v,y;let e="y"===h?"width":"height",t=["top","left"].includes(t2(i)),n=s.reference[u]-s.floating[e]+(t&&(null==(v=o.offset)?void 0:v[u])||0)+(t?0:g.crossAxis),r=s.reference[u]+s.reference[e]+(t?0:(null==(y=o.offset)?void 0:y[u])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[h]:f,[u]:p}}}}(e),options:[e,t]}),nX=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r,i,s,o;let{placement:a,middlewareData:l,rects:c,initialPlacement:d,platform:u,elements:h}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,..._}=t1(e,t);if(null!=(n=l.arrow)&&n.alignmentOffset)return{};let b=t2(a),w=t6(d),x=t2(d)===d,C=await (null==u.isRTL?void 0:u.isRTL(h.floating)),E=m||(x||!y?[t9(d)]:function(e){let t=t9(e);return[t8(e),t,t8(t)]}(d)),k="none"!==v;!m&&k&&E.push(...function(e,t,n,r){let i=t4(e),s=function(e,t,n){let r=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":if(n)return t?i:r;return t?r:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(t2(e),"start"===n,r);return i&&(s=s.map(e=>e+"-"+i),t&&(s=s.concat(s.map(t8)))),s}(d,y,v,C));let S=[d,...E],N=await nr(t,_),I=[],T=(null==(r=l.flip)?void 0:r.overflows)||[];if(f&&I.push(N[b]),p){let e=function(e,t,n){void 0===n&&(n=!1);let r=t4(e),i=t3(t6(e)),s=t5(i),o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=t9(o)),[o,t9(o)]}(a,c,C);I.push(N[e[0]],N[e[1]])}if(T=[...T,{placement:a,overflows:I}],!I.every(e=>e<=0)){let e=((null==(i=l.flip)?void 0:i.index)||0)+1,t=S[e];if(t&&("alignment"!==p||w===t6(t)||T.every(e=>e.overflows[0]>0&&t6(e.placement)===w)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=null==(s=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!n)switch(g){case"bestFit":{let e=null==(o=T.filter(e=>{if(k){let t=t6(e.placement);return t===w||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(n=e);break}case"initialPlacement":n=d}if(a!==n)return{reset:{placement:n}}}return{}}}}(e),options:[e,t]}),nJ=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;let i,s;let{placement:o,rects:a,platform:l,elements:c}=t,{apply:d=()=>{},...u}=t1(e,t),h=await nr(t,u),f=t2(o),p=t4(o),m="y"===t6(o),{width:g,height:v}=a.floating;"top"===f||"bottom"===f?(i=f,s=p===(await (null==l.isRTL?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(s=f,i="end"===p?"top":"bottom");let y=v-h.top-h.bottom,_=g-h.left-h.right,b=tY(v-h[i],y),w=tY(g-h[s],_),x=!t.middlewareData.shift,C=b,E=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(E=_),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=y),x&&!p){let e=tG(h.left,0),t=tG(h.right,0),n=tG(h.top,0),r=tG(h.bottom,0);m?E=g-2*(0!==e||0!==t?e+t:tG(h.left,h.right)):C=v-2*(0!==n||0!==r?n+r:tG(h.top,h.bottom))}await d({...t,availableWidth:E,availableHeight:C});let k=await l.getDimensions(c.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),nZ=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:n}=t,{strategy:r="referenceHidden",...i}=t1(e,t);switch(r){case"referenceHidden":{let e=ni(await nr(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:ns(e)}}}case"escaped":{let e=ni(await nr(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:ns(e)}}}default:return{}}}}}(e),options:[e,t]}),n0=(e,t)=>({...n$(e),options:[e,t]});var n1=E.forwardRef((e,t)=>{let{children:n,width:r=10,height:i=5,...s}=e;return(0,C.jsx)(eH.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,C.jsx)("polygon",{points:"0,0 30,0 15,10"})})});n1.displayName="Arrow";var n2="Popper",[n4,n3]=eS(n2),[n5,n6]=n4(n2),n8=e=>{let{__scopePopper:t,children:n}=e,[r,i]=E.useState(null);return(0,C.jsx)(n5,{scope:t,anchor:r,onAnchorChange:i,children:n})};n8.displayName=n2;var n9="PopperAnchor",n7=E.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...i}=e,s=n6(n9,n),o=E.useRef(null),a=eT(t,o);return E.useEffect(()=>{s.onAnchorChange(r?.current||o.current)}),r?null:(0,C.jsx)(eH.div,{...i,ref:a})});n7.displayName=n9;var re="PopperContent",[rt,rn]=n4(re),rr=E.forwardRef((e,t)=>{let{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:p,...m}=e,g=n6(re,n),[v,y]=E.useState(null),_=eT(t,e=>y(e)),[b,w]=E.useState(null),x=function(e){let[t,n]=E.useState(void 0);return eM(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}(b),k=x?.width??0,S=x?.height??0,N="number"==typeof d?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],T=I.length>0,P={padding:N,boundary:I.filter(ra),altBoundary:T},{refs:R,floatingStyles:j,placement:O,isPositioned:D,middlewareData:M}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,u]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=E.useState(r);nz(h,r)||f(r);let[p,m]=E.useState(null),[g,v]=E.useState(null),y=E.useCallback(e=>{e!==x.current&&(x.current=e,m(e))},[]),_=E.useCallback(e=>{e!==C.current&&(C.current=e,v(e))},[]),b=s||p,w=o||g,x=E.useRef(null),C=E.useRef(null),k=E.useRef(d),S=null!=l,N=nK(l),I=nK(i),T=nK(c),P=E.useCallback(()=>{if(!x.current||!C.current)return;let e={placement:t,strategy:n,middleware:h};I.current&&(e.platform=I.current),nW(x.current,C.current,e).then(e=>{let t={...e,isPositioned:!1!==T.current};R.current&&!nz(k.current,t)&&(k.current=t,eU.flushSync(()=>{u(t)}))})},[h,t,n,I,T]);nq(()=>{!1===c&&k.current.isPositioned&&(k.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);let R=E.useRef(!1);nq(()=>(R.current=!0,()=>{R.current=!1}),[]),nq(()=>{if(b&&(x.current=b),w&&(C.current=w),b&&w){if(N.current)return N.current(b,w,P);P()}},[b,w,P,N,S]);let j=E.useMemo(()=>({reference:x,floating:C,setReference:y,setFloating:_}),[y,_]),O=E.useMemo(()=>({reference:b,floating:w}),[b,w]),D=E.useMemo(()=>{let e={position:n,left:0,top:0};if(!O.floating)return e;let t=nV(O.floating,d.x),r=nV(O.floating,d.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...nB(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,O.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:P,refs:j,elements:O,floatingStyles:D}),[d,P,j,O,D])}({strategy:"fixed",placement:r+("center"!==s?"-"+s:""),whileElementsMounted:(...e)=>(function(e,t,n,r){let i;void 0===r&&(r={});let{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,d=nS(e),u=s||o?[...d?nC(d):[],...nC(t)]:[];u.forEach(e=>{s&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});let h=d&&l?function(e,t){let n,r=null,i=nd(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();let c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:f}=c;if(a||t(),!h||!f)return;let p=tX(u),m=tX(i.clientWidth-(d+h)),g={rootMargin:-p+"px "+-m+"px "+-tX(i.clientHeight-(u+f))+"px "+-tX(d)+"px",threshold:tG(0,tY(1,l))||1},v=!0;function y(t){let r=t[0].intersectionRatio;if(r!==l){if(!v)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||nU(c,e.getBoundingClientRect())||o(),v=!1}try{r=new IntersectionObserver(y,{...g,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(y,g)}r.observe(e)}(!0),s}(d,n):null,f=-1,p=null;a&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),d&&!c&&p.observe(d),p.observe(t));let m=c?nP(e):null;return c&&function t(){let r=nP(e);m&&!nU(m,r)&&n(),m=r,i=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{s&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(i)}})(...e,{animationFrame:"always"===f}),elements:{reference:g.anchor},middleware:[nY({mainAxis:i+S,alignmentAxis:o}),l&&nG({mainAxis:!0,crossAxis:!1,limiter:"partial"===u?nQ():void 0,...P}),l&&nX({...P}),nJ({...P,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:i,height:s}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${n}px`),o.setProperty("--radix-popper-available-height",`${r}px`),o.setProperty("--radix-popper-anchor-width",`${i}px`),o.setProperty("--radix-popper-anchor-height",`${s}px`)}}),b&&n0({element:b,padding:a}),rl({arrowWidth:k,arrowHeight:S}),h&&nZ({strategy:"referenceHidden",...P})]}),[A,L]=rc(O),F=eq(p);eM(()=>{D&&F?.()},[D,F]);let U=M.arrow?.x,H=M.arrow?.y,W=M.arrow?.centerOffset!==0,[q,z]=E.useState();return eM(()=>{v&&z(window.getComputedStyle(v).zIndex)},[v]),(0,C.jsx)("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...j,transform:D?j.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,C.jsx)(rt,{scope:n,placedSide:A,onArrowChange:w,arrowX:U,arrowY:H,shouldHideArrow:W,children:(0,C.jsx)(eH.div,{"data-side":A,"data-align":L,...m,ref:_,style:{...m.style,animation:D?void 0:"none"}})})})});rr.displayName=re;var ri="PopperArrow",rs={top:"bottom",right:"left",bottom:"top",left:"right"},ro=E.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,i=rn(ri,n),s=rs[i.placedSide];return(0,C.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,C.jsx)(n1,{...r,ref:t,style:{...r.style,display:"block"}})})});function ra(e){return null!==e}ro.displayName=ri;var rl=e=>({name:"transformOrigin",options:e,fn(t){let{placement:n,rects:r,middlewareData:i}=t,s=i.arrow?.centerOffset!==0,o=s?0:e.arrowWidth,a=s?0:e.arrowHeight,[l,c]=rc(n),d={start:"0%",center:"50%",end:"100%"}[c],u=(i.arrow?.x??0)+o/2,h=(i.arrow?.y??0)+a/2,f="",p="";return"bottom"===l?(f=s?d:`${u}px`,p=`${-a}px`):"top"===l?(f=s?d:`${u}px`,p=`${r.floating.height+a}px`):"right"===l?(f=`${-a}px`,p=s?d:`${h}px`):"left"===l&&(f=`${r.floating.width+a}px`,p=s?d:`${h}px`),{data:{x:f,y:p}}}});function rc(e){let[t,n="center"]=e.split("-");return[t,n]}var rd=E.forwardRef((e,t)=>{let{container:n,...r}=e,[i,s]=E.useState(!1);eM(()=>s(!0),[]);let o=n||i&&globalThis?.document?.body;return o?eU.createPortal((0,C.jsx)(eH.div,{...r,ref:t}),o):null});rd.displayName="Portal";var ru=E.forwardRef((e,t)=>(0,C.jsx)(eH.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ru.displayName="VisuallyHidden";var rh=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},rf=new WeakMap,rp=new WeakMap,rm={},rg=0,rv=function(e){return e&&(e.host||rv(e.parentNode))},ry=function(e,t,n,r){var i=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=rv(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});rm[n]||(rm[n]=new WeakMap);var s=rm[n],o=[],a=new Set,l=new Set(i),c=function(e){!(!e||a.has(e))&&(a.add(e),c(e.parentNode))};i.forEach(c);var d=function(e){!(!e||l.has(e))&&Array.prototype.forEach.call(e.children,function(e){if(a.has(e))d(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(rf.get(e)||0)+1,c=(s.get(e)||0)+1;rf.set(e,l),s.set(e,c),o.push(e),1===l&&i&&rp.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),a.clear(),rg++,function(){o.forEach(function(e){var t=rf.get(e)-1,i=s.get(e)-1;rf.set(e,t),s.set(e,i),t||(rp.has(e)||e.removeAttribute(r),rp.delete(e)),i||e.removeAttribute(n)}),--rg||(rf=new WeakMap,rf=new WeakMap,rp=new WeakMap,rm={})}},r_=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||rh(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),ry(r,i,n,"aria-hidden")):function(){return null}},rb=function(){return(rb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function rw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}Object.create;Object.create;var rx=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),rC="width-before-scroll-bar";function rE(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var rk="undefined"!=typeof window?E.useLayoutEffect:E.useEffect,rS=new WeakMap;function rN(e){return e}var rI=function(e){void 0===e&&(e={});var t,n,r,i,s=(t=null,void 0===n&&(n=rN),r=[],i=!1,{read:function(){if(i)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:null},useMedium:function(e){var t=n(e,i);return r.push(t),function(){r=r.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(i=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){i=!0;var t=[];if(r.length){var n=r;r=[],n.forEach(e),t=r}var s=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(s)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}});return s.options=rb({async:!0,ssr:!1},e),s}(),rT=function(){},rP=E.forwardRef(function(e,t){var n,r,i,s,o=E.useRef(null),a=E.useState({onScrollCapture:rT,onWheelCapture:rT,onTouchMoveCapture:rT}),l=a[0],c=a[1],d=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,g=e.sideCar,v=e.noRelative,y=e.noIsolation,_=e.inert,b=e.allowPinchZoom,w=e.as,x=e.gapMode,C=rw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=(n=[o,t],r=function(e){return n.forEach(function(t){return rE(t,e)})},(i=(0,E.useState)(function(){return{value:null,callback:r,facade:{get current(){return i.value},set current(value){var e=i.value;e!==value&&(i.value=value,i.callback(value,e))}}}})[0]).callback=r,s=i.facade,rk(function(){var e=rS.get(s);if(e){var t=new Set(e),r=new Set(n),i=s.current;t.forEach(function(e){r.has(e)||rE(e,null)}),r.forEach(function(e){t.has(e)||rE(e,i)})}rS.set(s,n)},[n]),s),S=rb(rb({},C),l);return E.createElement(E.Fragment,null,p&&E.createElement(g,{sideCar:rI,removeScrollBar:f,shards:m,noRelative:v,noIsolation:y,inert:_,setCallbacks:c,allowPinchZoom:!!b,lockRef:o,gapMode:x}),d?E.cloneElement(E.Children.only(u),rb(rb({},S),{ref:k})):E.createElement(void 0===w?"div":w,rb({},S,{className:h,ref:k}),u))});rP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},rP.classNames={fullWidth:rC,zeroRight:rx};var rR=function(e){var t=e.sideCar,n=rw(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw Error("Sidecar medium not found");return E.createElement(r,rb({},n))};rR.isSideCarExport=!0;var rj=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=v||n.nc;return t&&e.setAttribute("nonce",t),e}())){var i,s;(i=t).styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r)),s=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rO=function(){var e=rj();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},rD=function(){var e=rO();return function(t){return e(t.styles,t.dynamic),null}},rM={left:0,top:0,right:0,gap:0},rA=function(e){return parseInt(e||"",10)||0},rL=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[rA(n),rA(r),rA(i)]},rF=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return rM;var t=rL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},rU=rD(),rH="data-scroll-locked",rW=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(rH,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(rx," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(rC," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(rx," .").concat(rx," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(rC," .").concat(rC," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(rH,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},rq=function(){var e=parseInt(document.body.getAttribute(rH)||"0",10);return isFinite(e)?e:0},rz=function(){E.useEffect(function(){return document.body.setAttribute(rH,(rq()+1).toString()),function(){var e=rq()-1;e<=0?document.body.removeAttribute(rH):document.body.setAttribute(rH,e.toString())}},[])},rB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;rz();var s=E.useMemo(function(){return rF(i)},[i]);return E.createElement(rU,{styles:rW(s,!t,i,n?"":"!important")})},rV=!1;if("undefined"!=typeof window)try{var rK=Object.defineProperty({},"passive",{get:function(){return rV=!0,!0}});window.addEventListener("test",rK,rK),window.removeEventListener("test",rK,rK)}catch(e){rV=!1}var r$=!!rV&&{passive:!1},rY=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&(n.overflowY!==n.overflowX||"TEXTAREA"===e.tagName||"visible"!==n[t])},rG=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),rQ(e,r)){var i=rX(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},rQ=function(e,t){return"v"===e?rY(t,"overflowY"):rY(t,"overflowX")},rX=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},rJ=function(e,t,n,r,i){var s,o=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),a=o*r,l=n.target,c=t.contains(l),d=!1,u=a>0,h=0,f=0;do{if(!l)break;var p=rX(e,l),m=p[0],g=p[1]-p[2]-o*m;(m||g)&&rQ(e,l)&&(h+=g,f+=m);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return u&&(i&&1>Math.abs(h)||!i&&a>h)?d=!0:!u&&(i&&1>Math.abs(f)||!i&&-a>f)&&(d=!0),d},rZ=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},r0=function(e){return[e.deltaX,e.deltaY]},r1=function(e){return e&&"current"in e?e.current:e},r2=0,r4=[];let r3=(rI.useMedium(function(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(r2++)[0],s=E.useState(rD)[0],o=E.useRef(e);E.useEffect(function(){o.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(function(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(r1),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=E.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var i,s=rZ(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-s[0],c="deltaY"in e?e.deltaY:a[1]-s[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=rG(u,d);if(!h)return!0;if(h?i=u:(i="v"===u?"h":"v",h=rG(u,d)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var f=r.current||i;return rJ(f,t,e,"h"===f?l:c,!0)},[]),l=E.useCallback(function(e){if(r4.length&&r4[r4.length-1]===s){var n="deltaY"in e?r0(e):rZ(e),r=t.current.filter(function(t){var r;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(r=t.delta)[0]===n[0]&&r[1]===n[1]})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var i=(o.current.shards||[]).map(r1).filter(Boolean).filter(function(t){return t.contains(e.target)});(i.length>0?a(e,i[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=E.useCallback(function(e,n,r,i){var s={name:e,delta:n,target:r,should:i,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),d=E.useCallback(function(e){n.current=rZ(e),r.current=void 0},[]),u=E.useCallback(function(t){c(t.type,r0(t),t.target,a(t,e.lockRef.current))},[]),h=E.useCallback(function(t){c(t.type,rZ(t),t.target,a(t,e.lockRef.current))},[]);E.useEffect(function(){return r4.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,r$),document.addEventListener("touchmove",l,r$),document.addEventListener("touchstart",d,r$),function(){r4=r4.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,r$),document.removeEventListener("touchmove",l,r$),document.removeEventListener("touchstart",d,r$)}},[]);var f=e.removeScrollBar,p=e.inert;return E.createElement(E.Fragment,null,p?E.createElement(s,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,f?E.createElement(rB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}),rR);var r5=E.forwardRef(function(e,t){return E.createElement(rP,rb({},e,{ref:t,sideCar:r3}))});r5.classNames=rP.classNames;var r6=[" ","Enter","ArrowUp","ArrowDown"],r8=[" ","Enter"],r9="Select",[r7,ie,it]=eD(r9),[ir,ii]=eS(r9,[it,n3]),is=n3(),[io,ia]=ir(r9),[il,ic]=ir(r9),id=e=>{let{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:h,required:f,form:p}=e,m=is(t),[g,v]=E.useState(null),[y,_]=E.useState(null),[b,w]=E.useState(!1),x=eV(c),[k=!1,S]=ez({prop:r,defaultProp:i,onChange:s}),[N,I]=ez({prop:o,defaultProp:a,onChange:l}),T=E.useRef(null),P=!g||p||!!g.closest("form"),[R,j]=E.useState(new Set),O=Array.from(R).map(e=>e.props.value).join(";");return(0,C.jsx)(n8,{...m,children:(0,C.jsxs)(io,{required:f,scope:t,trigger:g,onTriggerChange:v,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:eF(),value:N,onValueChange:I,open:k,onOpenChange:S,dir:x,triggerPointerDownPosRef:T,disabled:h,children:[(0,C.jsx)(r7.Provider,{scope:t,children:(0,C.jsx)(il,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(e=>{j(t=>new Set(t).add(e))},[]),onNativeOptionRemove:E.useCallback(e=>{j(t=>{let n=new Set(t);return n.delete(e),n})},[]),children:n})}),P?(0,C.jsxs)(iQ,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:u,value:N,onChange:e=>I(e.target.value),disabled:h,form:p,children:[void 0===N?(0,C.jsx)("option",{value:""}):null,Array.from(R)]},O):null]})})};id.displayName=r9;var iu="SelectTrigger",ih=E.forwardRef((e,t)=>{let{__scopeSelect:n,disabled:r=!1,...i}=e,s=is(n),o=ia(iu,n),a=o.disabled||r,l=eT(t,o.onTriggerChange),c=ie(n),d=E.useRef("touch"),[u,h,f]=iX(e=>{let t=c().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=iJ(t,e,n);void 0!==r&&o.onValueChange(r.value)}),p=e=>{a||(o.onOpenChange(!0),f()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,C.jsx)(n7,{asChild:!0,...s,children:(0,C.jsx)(eH.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":iG(o.value)?"":void 0,...i,ref:l,onClick:ek(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==d.current&&p(e)}),onPointerDown:ek(i.onPointerDown,e=>{d.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(p(e),e.preventDefault())}),onKeyDown:ek(i.onKeyDown,e=>{let t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),(!t||" "!==e.key)&&r6.includes(e.key)&&(p(),e.preventDefault())})})})});ih.displayName=iu;var ip="SelectValue",im=E.forwardRef((e,t)=>{let{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=e,l=ia(ip,n),{onValueNodeHasChildrenChange:c}=l,d=void 0!==s,u=eT(t,l.onValueNodeChange);return eM(()=>{c(d)},[c,d]),(0,C.jsx)(eH.span,{...a,ref:u,style:{pointerEvents:"none"},children:iG(l.value)?(0,C.jsx)(C.Fragment,{children:o}):s})});im.displayName=ip;var ig=E.forwardRef((e,t)=>{let{__scopeSelect:n,children:r,...i}=e;return(0,C.jsx)(eH.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});ig.displayName="SelectIcon";var iv=e=>(0,C.jsx)(rd,{asChild:!0,...e});iv.displayName="SelectPortal";var iy="SelectContent",i_=E.forwardRef((e,t)=>{let n=ia(iy,e.__scopeSelect),[r,i]=E.useState();return(eM(()=>{i(new DocumentFragment)},[]),n.open)?(0,C.jsx)(ix,{...e,ref:t}):r?eU.createPortal((0,C.jsx)(ib,{scope:e.__scopeSelect,children:(0,C.jsx)(r7.Slot,{scope:e.__scopeSelect,children:(0,C.jsx)("div",{children:e.children})})}),r):null});i_.displayName=iy;var[ib,iw]=ir(iy),ix=E.forwardRef((e,t)=>{let{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g,...v}=e,y=ia(iy,n),[_,b]=E.useState(null),[w,x]=E.useState(null),k=eT(t,e=>b(e)),[S,N]=E.useState(null),[I,T]=E.useState(null),P=ie(n),[R,j]=E.useState(!1),O=E.useRef(!1);E.useEffect(()=>{if(_)return r_(_)},[_]),tA();let D=E.useCallback(e=>{let[t,...n]=P().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(let n of e)if(n===i||(n?.scrollIntoView({block:"nearest"}),n===t&&w&&(w.scrollTop=0),n===r&&w&&(w.scrollTop=w.scrollHeight),n?.focus(),document.activeElement!==i))return},[P,w]),M=E.useCallback(()=>D([S,_]),[D,S,_]);E.useEffect(()=>{R&&M()},[R,M]);let{onOpenChange:A,triggerPointerDownPosRef:L}=y;E.useEffect(()=>{if(_){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(L.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():_.contains(n.target)||A(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[_,A,L]),E.useEffect(()=>{let e=()=>A(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[A]);let[F,U]=iX(e=>{let t=P().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=iJ(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),H=E.useCallback((e,t,n)=>{let r=!O.current&&!n;(void 0!==y.value&&y.value===t||r)&&(N(e),r&&(O.current=!0))},[y.value]),W=E.useCallback(()=>_?.focus(),[_]),q=E.useCallback((e,t,n)=>{let r=!O.current&&!n;(void 0!==y.value&&y.value===t||r)&&T(e)},[y.value]),z="popper"===r?iE:iC,B=z===iE?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:g}:{};return(0,C.jsx)(ib,{scope:n,content:_,viewport:w,onViewportChange:x,itemRefCallback:H,selectedItem:S,onItemLeave:W,itemTextRefCallback:q,focusSelectedItem:M,selectedItemText:I,position:r,isPositioned:R,searchRef:F,children:(0,C.jsx)(r5,{as:eP,allowPinchZoom:!0,children:(0,C.jsx)(tW,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:ek(i,e=>{y.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,C.jsx)(tj,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:(0,C.jsx)(z,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...v,...B,onPlaced:()=>j(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ek(v.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||U(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=P().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>D(t)),e.preventDefault()}})})})})})})});ix.displayName="SelectContentImpl";var iC=E.forwardRef((e,t)=>{let{__scopeSelect:n,onPlaced:r,...i}=e,s=ia(iy,n),o=iw(iy,n),[a,l]=E.useState(null),[c,d]=E.useState(null),u=eT(t,e=>d(e)),h=ie(n),f=E.useRef(!1),p=E.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:y}=o,_=E.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&m&&g&&v){let e=s.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),i=v.getBoundingClientRect();if("rtl"!==s.dir){let r=i.left-t.left,s=n.left-r,o=e.left-s,l=e.width+o,c=Math.max(l,t.width),d=tT(s,[10,Math.max(10,window.innerWidth-10-c)]);a.style.minWidth=l+"px",a.style.left=d+"px"}else{let r=t.right-i.right,s=window.innerWidth-n.right-r,o=window.innerWidth-e.right-s,l=e.width+o,c=Math.max(l,t.width),d=tT(s,[10,Math.max(10,window.innerWidth-10-c)]);a.style.minWidth=l+"px",a.style.right=d+"px"}let o=h(),l=window.innerHeight-20,d=m.scrollHeight,u=window.getComputedStyle(c),p=parseInt(u.borderTopWidth,10),y=parseInt(u.paddingTop,10),_=parseInt(u.borderBottomWidth,10),b=p+y+d+parseInt(u.paddingBottom,10)+_,w=Math.min(5*g.offsetHeight,b),x=window.getComputedStyle(m),C=parseInt(x.paddingTop,10),E=parseInt(x.paddingBottom,10),k=e.top+e.height/2-10,S=g.offsetHeight/2,N=p+y+(g.offsetTop+S);if(N<=k){let e=o.length>0&&g===o[o.length-1].ref.current;a.style.bottom="0px";let t=Math.max(l-k,S+(e?E:0)+(c.clientHeight-m.offsetTop-m.offsetHeight)+_);a.style.height=N+t+"px"}else{let e=o.length>0&&g===o[0].ref.current;a.style.top="0px";let t=Math.max(k,p+m.offsetTop+(e?C:0)+S);a.style.height=t+(b-N)+"px",m.scrollTop=N-k+m.offsetTop}a.style.margin="10px 0",a.style.minHeight=w+"px",a.style.maxHeight=l+"px",r?.(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,a,c,m,g,v,s.dir,r]);eM(()=>_(),[_]);let[b,w]=E.useState();eM(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);let x=E.useCallback(e=>{e&&!0===p.current&&(_(),y?.(),p.current=!1)},[_,y]);return(0,C.jsx)(ik,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:x,children:(0,C.jsx)("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:(0,C.jsx)(eH.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});iC.displayName="SelectItemAlignedPosition";var iE=E.forwardRef((e,t)=>{let{__scopeSelect:n,align:r="start",collisionPadding:i=10,...s}=e,o=is(n);return(0,C.jsx)(rr,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iE.displayName="SelectPopperPosition";var[ik,iS]=ir(iy,{}),iN="SelectViewport",iI=E.forwardRef((e,t)=>{let{__scopeSelect:n,nonce:r,...i}=e,s=iw(iN,n),o=iS(iN,n),a=eT(t,s.onViewportChange),l=E.useRef(0);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,C.jsx)(r7.Slot,{scope:n,children:(0,C.jsx)(eH.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ek(i.onScroll,e=>{let t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(r?.current&&n){let e=Math.abs(l.current-t.scrollTop);if(e>0){let r=window.innerHeight-20,i=Math.max(parseFloat(n.style.minHeight),parseFloat(n.style.height));if(i<r){let s=i+e,o=Math.min(r,s),a=s-o;n.style.height=o+"px","0px"===n.style.bottom&&(t.scrollTop=a>0?a:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop})})})]})});iI.displayName=iN;var iT="SelectGroup",[iP,iR]=ir(iT);E.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,i=eF();return(0,C.jsx)(iP,{scope:n,id:i,children:(0,C.jsx)(eH.div,{role:"group","aria-labelledby":i,...r,ref:t})})}).displayName=iT;var ij="SelectLabel",iO=E.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,i=iR(ij,n);return(0,C.jsx)(eH.div,{id:i.id,...r,ref:t})});iO.displayName=ij;var iD="SelectItem",[iM,iA]=ir(iD),iL=E.forwardRef((e,t)=>{let{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,a=ia(iD,n),l=iw(iD,n),c=a.value===r,[d,u]=E.useState(s??""),[h,f]=E.useState(!1),p=eT(t,e=>l.itemRefCallback?.(e,r,i)),m=eF(),g=E.useRef("touch"),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(""===r)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,C.jsx)(iM,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:E.useCallback(e=>{u(t=>t||(e?.textContent??"").trim())},[]),children:(0,C.jsx)(r7.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:(0,C.jsx)(eH.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:p,onFocus:ek(o.onFocus,()=>f(!0)),onBlur:ek(o.onBlur,()=>f(!1)),onClick:ek(o.onClick,()=>{"mouse"!==g.current&&v()}),onPointerUp:ek(o.onPointerUp,()=>{"mouse"===g.current&&v()}),onPointerDown:ek(o.onPointerDown,e=>{g.current=e.pointerType}),onPointerMove:ek(o.onPointerMove,e=>{g.current=e.pointerType,i?l.onItemLeave?.():"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ek(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ek(o.onKeyDown,e=>{(l.searchRef?.current===""||" "!==e.key)&&(r8.includes(e.key)&&v()," "===e.key&&e.preventDefault())})})})})});iL.displayName=iD;var iF="SelectItemText",iU=E.forwardRef((e,t)=>{let{__scopeSelect:n,className:r,style:i,...s}=e,o=ia(iF,n),a=iw(iF,n),l=iA(iF,n),c=ic(iF,n),[d,u]=E.useState(null),h=eT(t,e=>u(e),l.onItemTextChange,e=>a.itemTextRefCallback?.(e,l.value,l.disabled)),f=d?.textContent,p=E.useMemo(()=>(0,C.jsx)("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return eM(()=>(m(p),()=>g(p)),[m,g,p]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(eH.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eU.createPortal(s.children,o.valueNode):null]})});iU.displayName=iF;var iH="SelectItemIndicator",iW=E.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e;return iA(iH,n).isSelected?(0,C.jsx)(eH.span,{"aria-hidden":!0,...r,ref:t}):null});iW.displayName=iH;var iq="SelectScrollUpButton",iz=E.forwardRef((e,t)=>{let n=iw(iq,e.__scopeSelect),r=iS(iq,e.__scopeSelect),[i,s]=E.useState(!1),o=eT(t,r.onScrollButtonChange);return eM(()=>{if(n.viewport&&n.isPositioned){let e=function(){s(t.scrollTop>0)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,C.jsx)(iK,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});iz.displayName=iq;var iB="SelectScrollDownButton",iV=E.forwardRef((e,t)=>{let n=iw(iB,e.__scopeSelect),r=iS(iB,e.__scopeSelect),[i,s]=E.useState(!1),o=eT(t,r.onScrollButtonChange);return eM(()=>{if(n.viewport&&n.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;s(Math.ceil(t.scrollTop)<e)},t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),i?(0,C.jsx)(iK,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});iV.displayName=iB;var iK=E.forwardRef((e,t)=>{let{__scopeSelect:n,onAutoScroll:r,...i}=e,s=iw("SelectScrollButton",n),o=E.useRef(null),a=ie(n),l=E.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),eM(()=>{let e=a().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[a]),(0,C.jsx)(eH.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ek(i.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:ek(i.onPointerMove,()=>{s.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:ek(i.onPointerLeave,()=>{l()})})}),i$=E.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e;return(0,C.jsx)(eH.div,{"aria-hidden":!0,...r,ref:t})});i$.displayName="SelectSeparator";var iY="SelectArrow";function iG(e){return""===e||void 0===e}E.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,i=is(n),s=ia(iY,n),o=iw(iY,n);return s.open&&"popper"===o.position?(0,C.jsx)(ro,{...i,...r,ref:t}):null}).displayName=iY;var iQ=E.forwardRef((e,t)=>{let{value:n,...r}=e,i=E.useRef(null),s=eT(t,i),o=function(e){let t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(n);return E.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==n&&t){let r=new Event("change",{bubbles:!0});t.call(e,n),e.dispatchEvent(r)}},[o,n]),(0,C.jsx)(ru,{asChild:!0,children:(0,C.jsx)("select",{...r,ref:s,defaultValue:n})})});function iX(e){let t=eq(e),n=E.useRef(""),r=E.useRef(0),i=E.useCallback(e=>{let i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),s=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function iJ(e,t,n){var r,i;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=n?e.indexOf(n):-1,a=(r=e,i=Math.max(o,0),r.map((e,t)=>r[(i+t)%r.length]));1===s.length&&(a=a.filter(e=>e!==n));let l=a.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}iQ.displayName="BubbleSelect";let iZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i0=(...e)=>e.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();var i1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i2=(0,E.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>(0,E.createElement)("svg",{ref:l,...i1,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:i0("lucide",i),...a},[...o.map(([e,t])=>(0,E.createElement)(e,t)),...Array.isArray(s)?s:[s]])),i4=(e,t)=>{let n=(0,E.forwardRef)(({className:n,...r},i)=>(0,E.createElement)(i2,{ref:i,iconNode:t,className:i0(`lucide-${iZ(e)}`,n),...r}));return n.displayName=`${e}`,n},i3=i4("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),i5=i4("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),i6=i4("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),i8=E.forwardRef(({className:e,children:t,...n},r)=>(0,C.jsxs)(ih,{ref:r,className:eb("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,(0,C.jsx)(ig,{asChild:!0,children:(0,C.jsx)(i3,{className:"h-4 w-4 opacity-50"})})]}));i8.displayName=ih.displayName;let i9=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(iz,{ref:n,className:eb("flex cursor-default items-center justify-center py-1",e),...t,children:(0,C.jsx)(i5,{className:"h-4 w-4"})}));i9.displayName=iz.displayName;let i7=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(iV,{ref:n,className:eb("flex cursor-default items-center justify-center py-1",e),...t,children:(0,C.jsx)(i3,{className:"h-4 w-4"})}));i7.displayName=iV.displayName;let se=E.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>(0,C.jsx)(iv,{children:(0,C.jsxs)(i_,{ref:i,className:eb("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[(0,C.jsx)(i9,{}),(0,C.jsx)(iI,{className:eb("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,C.jsx)(i7,{})]})}));se.displayName=i_.displayName,E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(iO,{ref:n,className:eb("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=iO.displayName;let st=E.forwardRef(({className:e,children:t,...n},r)=>(0,C.jsxs)(iL,{ref:r,className:eb("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[(0,C.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,C.jsx)(iW,{children:(0,C.jsx)(i6,{className:"h-4 w-4"})})}),(0,C.jsx)(iU,{children:t})]}));st.displayName=iL.displayName,E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(i$,{ref:n,className:eb("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i$.displayName;let sn=()=>void 0,sr={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},si=function(e,t){if(!e)throw ss(t)},ss=function(e){return Error("Firebase Database ("+sr.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},so=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},sa=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],o=((7&i)<<18|(63&s)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{let s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},sl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,c=i>>2,d=(3&i)<<4|o>>4,u=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(u=64)),r.push(n[c],n[d],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(so(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):sa(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,o=++t<e.length?n[e.charAt(t)]:64,a=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new sc;let l=i<<2|s>>4;if(r.push(l),64!==o){let e=s<<4&240|o>>2;if(r.push(e),64!==a){let e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let sd=function(e){let t=so(e);return sl.encodeByteArray(t,!0)},su=function(e){return sd(e).replace(/\./g,"")},sh=function(e){try{return sl.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},sf=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,sp=()=>{if("undefined"==typeof process||void 0===process.env)return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sm=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&sh(e[1]);return t&&JSON.parse(t)},sg=()=>{try{return sn()||sf()||sp()||sm()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sv=e=>{var t,n;return null===(n=null===(t=sg())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},sy=e=>{let t=sv(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},s_=()=>{var e;return null===(e=sg())||void 0===e?void 0:e.config};class sb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function sw(e){return e.endsWith(".cloudworkstations.dev")}async function sx(e){return(await fetch(e,{credentials:"include"})).ok}let sC={},sE=!1;function sk(e,t){if("undefined"==typeof window||"undefined"==typeof document||!sw(window.location.host)||sC[e]===t||sC[e]||sE)return;function n(e){return`__firebase__banner__${e}`}sC[e]=t;let r="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(sC))sC[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){let e,t;let s=(e=document.getElementById(r),t=!1,e||((e=document.createElement("div")).setAttribute("id",r),t=!0),{created:t,element:e}),o=n("text"),a=document.getElementById(o)||document.createElement("span"),l=n("learnmore"),c=document.getElementById(l)||document.createElement("a"),d=n("preprendIcon"),u=document.getElementById(d)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.created){let e=s.element;e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center",c.setAttribute("id",l),c.innerText="Learn more",c.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",c.setAttribute("target","__blank"),c.style.paddingLeft="5px",c.style.textDecoration="underline";let t=function(){let e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{sE=!0,function(){let e=document.getElementById(r);e&&e.remove()}()},e}();u.setAttribute("width","24"),u.setAttribute("id",d),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px",e.append(u,a,c,t),document.body.appendChild(e)}i?(a.innerText="Preview backend disconnected.",u.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(u.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText="Preview backend running in this workspace."),a.setAttribute("id",o)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function sS(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function sN(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sS())}function sI(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function sT(){return!0===sr.NODE_CLIENT||!0===sr.NODE_ADMIN}class sP extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,sP.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sR.prototype.create)}}class sR{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?(n=o,r=i,n.replace(sj,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new sP(s,l,i)}}let sj=/\{\$([^}]+)}/g;function sO(e){return JSON.parse(e)}function sD(e){return JSON.stringify(e)}let sM=function(e){let t={},n={},r={},i="";try{let s=e.split(".");t=sO(sh(s[0])||""),n=sO(sh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},sA=function(e){let t=sM(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},sL=function(e){let t=sM(e).claims;return"object"==typeof t&&!0===t.admin};function sF(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sU(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function sH(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function sW(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function sq(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(sz(n)&&sz(s)){if(!sq(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function sz(e){return null!==e&&"object"==typeof e}function sB(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function sV(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function sK(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class s${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=0x67452301,this.chain_[1]=0xefcdab89,this.chain_[2]=0x98badcfe,this.chain_[3]=0x10325476,this.chain_[4]=0xc3d2e1f0,this.inbuf_=0,this.total_=0}compress_(e,t){let n,r;t||(t=0);let i=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)i[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)i[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=i[e-3]^i[e-8]^i[e-14]^i[e-16];i[e]=(t<<1|t>>>31)&0xffffffff}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=l^o&(a^l),r=0x5a827999):(n=o^a^l,r=0x6ed9eba1):e<60?(n=o&a|l&(o|a),r=0x8f1bbcdc):(n=o^a^l,r=0xca62c1d6);let t=(s<<5|s>>>27)+n+c+r+i[e]&0xffffffff;c=l,l=a,a=(o<<30|o>>>2)&0xffffffff,o=s,s=t}this.chain_[0]=this.chain_[0]+s&0xffffffff,this.chain_[1]=this.chain_[1]+o&0xffffffff,this.chain_[2]=this.chain_[2]+a&0xffffffff,this.chain_[3]=this.chain_[3]+l&0xffffffff,this.chain_[4]=this.chain_[4]+c&0xffffffff}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}class sY{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=sG),void 0===r.error&&(r.error=sG),void 0===r.complete&&(r.complete=sG);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){!this.finalized&&(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sG(){}function sQ(e,t){return`${e} failed: ${t} argument `}let sX=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let t=i-55296;si(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},sJ=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function sZ(e){return e&&e._delegate?e._delegate:e}sr.NODE_CLIENT=!0;class s0{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let s1="[DEFAULT]";class s2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new sb;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:s1})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=s1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=s1){return this.instances.has(e)}getOptions(e=s1){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===s1?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=s1){return this.component?this.component.multipleInstances?e:s1:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new s2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}let s3=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(y||(y={}));let s5={debug:y.DEBUG,verbose:y.VERBOSE,info:y.INFO,warn:y.WARN,error:y.ERROR,silent:y.SILENT},s6=y.INFO,s8={[y.DEBUG]:"log",[y.VERBOSE]:"log",[y.INFO]:"info",[y.WARN]:"warn",[y.ERROR]:"error"},s9=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=s8[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class s7{constructor(e){this.name=e,this._logLevel=s6,this._logHandler=s9,this._userLogHandler=null,s3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in y))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,y.DEBUG,...e),this._logHandler(this,y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,y.VERBOSE,...e),this._logHandler(this,y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,y.INFO,...e),this._logHandler(this,y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,y.WARN,...e),this._logHandler(this,y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,y.ERROR,...e),this._logHandler(this,y.ERROR,...e)}}let oe=(e,t)=>t.some(t=>e instanceof t),ot=new WeakMap,on=new WeakMap,or=new WeakMap,oi=new WeakMap,os=new WeakMap,oo={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return on.get(e);if("objectStoreNames"===t)return e.objectStoreNames||or.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function oa(e){if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(oa(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&ot.set(t,e)}).catch(()=>{}),os.set(t,e),t}(e);if(oi.has(e))return oi.get(e);let t=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(ol(this),t),oa(ot.get(this))}:function(...t){return oa(e.apply(ol(this),t))}:function(t,...n){let r=e.call(ol(this),t,...n);return or.set(r,t.sort?t.sort():[t]),oa(r)};return(e instanceof IDBTransaction&&function(e){if(on.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});on.set(e,t)}(e),oe(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,oo):e}(e);return t!==e&&(oi.set(e,t),os.set(t,e)),t}let ol=e=>os.get(e);function oc(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(e,t),a=oa(o);return r&&o.addEventListener("upgradeneeded",e=>{r(oa(o.result),e.oldVersion,e.newVersion,oa(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}function od(e,{blocked:t}={}){let n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),oa(n).then(()=>void 0)}let ou=["get","getKey","getAll","getAllKeys","count"],oh=["put","add","delete","clear"],of=new Map;function op(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(of.get(t))return of.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=oh.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ou.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return of.set(t,s),s}oo=(e=>({...e,get:(t,n,r)=>op(t,n)||e.get(t,n,r),has:(t,n)=>!!op(t,n)||e.has(t,n)}))(oo);class om{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let og="@firebase/app",ov="0.13.1",oy=new s7("@firebase/app"),o_="[DEFAULT]",ob={[og]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ow=new Map,ox=new Map,oC=new Map;function oE(e,t){try{e.container.addComponent(t)}catch(n){oy.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ok(e){let t=e.name;if(oC.has(t))return oy.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(oC.set(t,e),ow.values()))oE(n,e);for(let t of ox.values())oE(t,e);return!0}function oS(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oN(e){return null!=e&&void 0!==e.settings}let oI=new sR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class oT{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s0("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oI.create("app-deleted",{appName:this._name})}}function oP(e,t){let n=sh(e.split(".")[1]);if(null===n){console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);return}if(void 0===JSON.parse(n).exp){console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);return}let r=1e3*JSON.parse(n).exp;r-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}let oR="11.9.0";function oj(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:o_,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!=typeof i||!i)throw oI.create("bad-app-name",{appName:String(i)});if(n||(n=s_()),!n)throw oI.create("no-options");let s=ow.get(i);if(s){if(sq(n,s.options)&&sq(r,s.config))return s;throw oI.create("duplicate-app",{appName:i})}let o=new s4(i);for(let e of oC.values())o.addComponent(e);let a=new oT(n,r,o);return ow.set(i,a),a}function oO(e=o_){let t=ow.get(e);if(!t&&e===o_&&s_())return oj();if(!t)throw oI.create("no-app",{appName:e});return t}async function oD(e){let t=!1,n=e.name;ow.has(n)?(t=!0,ow.delete(n)):ox.has(n)&&0>=e.decRefCount()&&(ox.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function oM(e,t,n){var r;let i=null!==(r=ob[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oy.warn(e.join(" "));return}ok(new s0(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let oA="firebase-heartbeat-store",oL=null;function oF(){return oL||(oL=oc("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(oA)}catch(e){console.warn(e)}}}).catch(e=>{throw oI.create("idb-open",{originalErrorMessage:e.message})})),oL}async function oU(e){try{let t=(await oF()).transaction(oA),n=await t.objectStore(oA).get(oW(e));return await t.done,n}catch(e){if(e instanceof sP)oy.warn(e.message);else{let t=oI.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});oy.warn(t.message)}}}async function oH(e,t){try{let n=(await oF()).transaction(oA,"readwrite"),r=n.objectStore(oA);await r.put(t,oW(e)),await n.done}catch(e){if(e instanceof sP)oy.warn(e.message);else{let t=oI.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});oy.warn(t.message)}}}function oW(e){return`${e.name}!${e.options.appId}`}class oq{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new oB(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oz();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oy.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=oz(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),oV(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oV(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=su(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return oy.warn(e),""}}}function oz(){return new Date().toISOString().substring(0,10)}class oB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await oU(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return oH(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return oH(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function oV(e){return su(JSON.stringify({version:2,heartbeats:e})).length}function oK(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}ok(new s0("platform-logger",e=>new om(e),"PRIVATE")),ok(new s0("heartbeat",e=>new oq(e),"PRIVATE")),oM(og,ov,""),oM(og,ov,"esm2017"),oM("fire-js",""),oM("firebase","11.9.1","app");let o$=new sR("auth","Firebase",oK()),oY=new s7("@firebase/auth");function oG(e,...t){oY.logLevel<=y.ERROR&&oY.error(`Auth (${oR}): ${e}`,...t)}function oQ(e,...t){throw o0(e,...t)}function oX(e,...t){return o0(e,...t)}function oJ(e,t,n){return new sR("auth","Firebase",Object.assign(Object.assign({},oK()),{[t]:n})).create(t,{appName:e.name})}function oZ(e){return oJ(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o0(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return o$.create(e,...t)}function o1(e,t,...n){if(!e)throw o0(t,...n)}function o2(e){let t="INTERNAL ASSERTION FAILED: "+e;throw oG(t),Error(t)}function o4(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class o3{constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||o2("Short delay should be less than long delay!"),this.isMobile=sN()||sI()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===o4()||"https:"===o4()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class o5{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void o2("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void o2("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void o2("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let o6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},o8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o9=new o3(3e4,6e4);function o7(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ae(e,t,n,r,i={}){return at(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let o=sB(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);let l=Object.assign({method:t,headers:a},i);return("undefined"==typeof navigator||"Cloudflare-Workers"!==navigator.userAgent)&&(l.referrerPolicy="no-referrer"),e.emulatorConfig&&sw(e.emulatorConfig.host)&&(l.credentials="include"),o5.fetch()(await ar(e,e.config.apiHost,n,o),l)})}async function at(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},o6),t);try{let t=new ai(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw as(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw as(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw as(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw as(e,"user-disabled",s);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw oJ(e,o,n);oQ(e,o)}}catch(t){if(t instanceof sP)throw t;oQ(e,"network-request-failed",{message:String(t)})}}async function an(e,t,n,r,i={}){let s=await ae(e,t,n,r,i);return"mfaPendingCredential"in s&&oQ(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function ar(e,t,n,r){let i=`${t}${n}?${r}`,s=e.config.emulator?function(e,t){e.emulator||o2("Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}(e.config,i):`${e.config.apiScheme}://${i}`;return o8.includes(n)&&(await e._persistenceManagerAvailable,"COOKIE"===e._getPersistenceType())?e._getPersistence()._getFinalTarget(s).toString():s}class ai{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(oX(this.auth,"network-request-failed")),o9.get())})}}function as(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=oX(e,t,r);return i.customData._tokenResponse=n,i}function ao(e){return void 0!==e&&void 0!==e.enterprise}class aa{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function al(e,t){return ae(e,"GET","/v2/recaptchaConfig",o7(e,t))}async function ac(e,t){return ae(e,"POST","/v1/accounts:delete",t)}async function ad(e,t){return ae(e,"POST","/v1/accounts:lookup",t)}function au(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function ah(e,t=!1){let n=sZ(e),r=await n.getIdToken(t),i=ap(r);o1(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:au(af(i.auth_time)),issuedAtTime:au(af(i.iat)),expirationTime:au(af(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function af(e){return 1e3*Number(e)}function ap(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return oG("JWT malformed, contained fewer than 3 sections"),null;try{let e=sh(n);if(!e)return oG("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return oG("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function am(e){let t=ap(e);return o1(t,"internal-error"),o1(void 0!==t.exp,"internal-error"),o1(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ag(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof sP&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class av{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){!this.isRunning&&(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ay{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function a_(e){var t,n,r;let i=e.auth,s=await e.getIdToken(),o=await ag(e,ad(i,{idToken:s}));o1(null==o?void 0:o.users.length,i,"internal-error");let a=o.users[0];e._notifyReloadListener(a);let l=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?aw(a.providerUserInfo):[],c=(n=e.providerData,r=l,[...n.filter(e=>!r.some(t=>t.providerId===e.providerId)),...r]),d=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(null==c?void 0:c.length);Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ay(a.createdAt,a.lastLoginAt),isAnonymous:!!d&&u})}async function ab(e){let t=sZ(e);await a_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aw(e){return e.map(e=>{var{providerId:t}=e,n=rw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function ax(e,t){let n=await at(e,{},async()=>{let n=sB({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await ar(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";let a={method:"POST",headers:o,body:n};return e.emulatorConfig&&sw(e.emulatorConfig.host)&&(a.credentials="include"),o5.fetch()(s,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aC(e,t){return ae(e,"POST","/v2/accounts:revokeToken",o7(e,t))}class aE{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){o1(e.idToken,"internal-error"),o1(void 0!==e.idToken,"internal-error"),o1(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):am(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){o1(0!==e.length,"internal-error");let t=am(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(o1(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await ax(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new aE;return n&&(o1("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(o1("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(o1("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aE,this.toJSON())}_performRefresh(){return o2("not implemented")}}function ak(e,t){o1("string"==typeof e||void 0===e,"internal-error",{appName:t})}class aS{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=rw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new av(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ay(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await ag(this,this.stsTokenManager.getToken(this.auth,e));return o1(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ah(this,e)}reload(){return ab(this)}_assign(e){this!==e&&(o1(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new aS(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){o1(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await a_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oN(this.auth.app))return Promise.reject(oZ(this.auth));let e=await this.getIdToken();return await ag(this,ac(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;let d=null!==(n=t.displayName)&&void 0!==n?n:void 0,u=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;o1(y&&x,e,"internal-error");let C=aE.fromJSON(this.name,x);o1("string"==typeof y,e,"internal-error"),ak(d,e.name),ak(u,e.name),o1("boolean"==typeof _,e,"internal-error"),o1("boolean"==typeof b,e,"internal-error"),ak(h,e.name),ak(f,e.name),ak(p,e.name),ak(m,e.name),ak(g,e.name),ak(v,e.name);let E=new aS({uid:y,auth:e,email:u,emailVerified:_,displayName:d,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t,n=!1){let r=new aE;r.updateFromServerResponse(t);let i=new aS({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await a_(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];o1(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?aw(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length),o=new aE;o.updateFromIdToken(n);let a=new aS({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s});return Object.assign(a,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ay(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length)}),a}}let aN=new Map;function aI(e){e instanceof Function||o2("Expected a class definition");let t=aN.get(e);return t?(t instanceof e||o2("Instance stored in cache mismatched with class"),t):(t=new e,aN.set(e,t),t)}class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function aP(e,t,n){return`firebase:${e}:${t}:${n}`}aT.type="NONE";class aR{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=aP(this.userKey,r.apiKey,i),this.fullPersistenceKey=aP("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){let t=await ad(this.auth,{idToken:e}).catch(()=>void 0);return t?aS._fromGetAccountInfoResponse(this.auth,t,e):null}return aS._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new aR(aI(aT),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||aI(aT),s=aP(n,e.config.apiKey,e.name),o=null;for(let n of t)try{let t=await n._get(s);if(t){let r;if("string"==typeof t){let n=await ad(e,{idToken:t}).catch(()=>void 0);if(!n)break;r=await aS._fromGetAccountInfoResponse(e,n,t)}else r=aS._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}let a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length&&(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new aR(i,e,n)}}function aj(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function(e=sS()){return/iemobile/i.test(e)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(function(e=sS()){return/firefox\//i.test(e)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function(e=sS()){return/blackberry/i.test(e)}(t))return"Blackberry";if(function(e=sS()){return/webos/i.test(e)}(t))return"Webos";if(function(e=sS()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function(e=sS()){return/crios\//i.test(e)}(t))&&!t.includes("edge/"))return"Chrome";if(function(e=sS()){return/android/i.test(e)}(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function aO(e,t=[]){let n;switch(e){case"Browser":n=aj(sS());break;case"Worker":n=`${aj(sS())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${oR}/${r}`}class aD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function aM(e,t={}){return ae(e,"GET","/v2/passwordPolicy",o7(e,t))}class aA{constructor(e){var t,n,r,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class aL{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aF(this),this.idTokenSubscription=new aF(this),this.beforeStateQueue=new aD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=aI(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await aR.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ad(this,{idToken:e}),n=await aS._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(oN(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==o?void 0:o.user)&&(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(o1(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await a_(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oN(this.app))return Promise.reject(oZ(this));let t=e?sZ(e):null;return t&&o1(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&o1(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oN(this.app)?Promise.reject(oZ(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oN(this.app)?Promise.reject(oZ(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(aI(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new aA(await aM(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sR("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await aC(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&aI(e)||this._popupRedirectResolver;o1(t,this,"argument-error"),this.redirectPersistenceManager=await aR.create(this,[aI(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(o1(o,this,"internal-error"),o.then(()=>{!s&&i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return o1(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!(!e||this.frameworks.includes(e))&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(oN(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){oY.logLevel<=y.WARN&&oY.warn(`Auth (${oR}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class aF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new sY(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return o1(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let aU={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};class aH{constructor(){this.enterprise=new aW}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aW{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}let aq="NO_RECAPTCHA";class az{constructor(e){this.type="recaptcha-enterprise",this.auth=sZ(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{al(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new aa(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;ao(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(aq)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aH().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&ao(window.grecaptcha))r(n,e,i);else{var s;if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=aU.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,aU.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function aB(e,t,n,r=!1,i=!1){let s;let o=new az(e);if(i)s=aq;else try{s=await o.verify(n)}catch(e){s=await o.verify(n,!0)}let a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){let e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function aV(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s||!s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await aB(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await aB(e,t,n,"getOobCode"===n);return r(e,i)}}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){let i=await aB(e,t,n);return r(e,i).catch(async i=>{var s;if((null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await aB(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await aB(e,t,n,!1,!0);return r(e,i)}}function aK(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function a$(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class aY{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return o2("not implemented")}_getIdTokenResponse(e){return o2("not implemented")}_linkToIdToken(e,t){return o2("not implemented")}_getReauthenticationResolver(e){return o2("not implemented")}}async function aG(e,t){return ae(e,"POST","/v1/accounts:resetPassword",o7(e,t))}async function aQ(e,t){return ae(e,"POST","/v1/accounts:update",t)}async function aX(e,t){return ae(e,"POST","/v1/accounts:signUp",t)}async function aJ(e,t){return an(e,"POST","/v1/accounts:signInWithPassword",o7(e,t))}async function aZ(e,t){return ae(e,"POST","/v1/accounts:sendOobCode",o7(e,t))}async function a0(e,t){return an(e,"POST","/v1/accounts:signInWithEmailLink",o7(e,t))}async function a1(e,t){return an(e,"POST","/v1/accounts:signInWithEmailLink",o7(e,t))}class a2 extends aY{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new a2(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new a2(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return aV(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",aJ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return a0(e,{email:this._email,oobCode:this._password});default:oQ(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return aV(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aX,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return a1(e,{idToken:t,email:this._email,oobCode:this._password});default:oQ(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function a4(e,t){return an(e,"POST","/v1/accounts:signInWithIdp",o7(e,t))}class a3 extends aY{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new a3(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oQ("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=rw(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new a3(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return a4(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,a4(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,a4(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sB(t)}return e}}class a5{constructor(e){var t,n,r,i,s,o;let a=sV(sK(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);o1(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=function(e){let t=sV(sK(e)).link,n=t?sV(sK(t)).deep_link_id:null,r=sV(sK(e)).deep_link_id;return(r?sV(sK(r)).link:null)||r||n||t||e}(e);try{return new a5(t)}catch(e){return null}}}class a6{constructor(){this.providerId=a6.PROVIDER_ID}static credential(e,t){return a2._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=a5.parseLink(t);return o1(n,"argument-error"),a2._fromEmailAndCode(e,n.code,n.tenantId)}}a6.PROVIDER_ID="password",a6.EMAIL_PASSWORD_SIGN_IN_METHOD="password",a6.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class a8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class a9 extends a8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class a7 extends a9{constructor(){super("facebook.com")}static credential(e){return a3._fromParams({providerId:a7.PROVIDER_ID,signInMethod:a7.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return a7.credentialFromTaggedObject(e)}static credentialFromError(e){return a7.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return a7.credential(e.oauthAccessToken)}catch(e){return null}}}a7.FACEBOOK_SIGN_IN_METHOD="facebook.com",a7.PROVIDER_ID="facebook.com";class le extends a9{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return a3._fromParams({providerId:le.PROVIDER_ID,signInMethod:le.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return le.credentialFromTaggedObject(e)}static credentialFromError(e){return le.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return le.credential(t,n)}catch(e){return null}}}le.GOOGLE_SIGN_IN_METHOD="google.com",le.PROVIDER_ID="google.com";class lt extends a9{constructor(){super("github.com")}static credential(e){return a3._fromParams({providerId:lt.PROVIDER_ID,signInMethod:lt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lt.credentialFromTaggedObject(e)}static credentialFromError(e){return lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lt.credential(e.oauthAccessToken)}catch(e){return null}}}lt.GITHUB_SIGN_IN_METHOD="github.com",lt.PROVIDER_ID="github.com";class ln extends a9{constructor(){super("twitter.com")}static credential(e,t){return a3._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ln.credentialFromTaggedObject(e)}static credentialFromError(e){return ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ln.credential(t,n)}catch(e){return null}}}ln.TWITTER_SIGN_IN_METHOD="twitter.com",ln.PROVIDER_ID="twitter.com";class lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new lr({user:await aS._fromIdTokenResponse(e,n,r),providerId:li(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new lr({user:e,providerId:li(n),_tokenResponse:n,operationType:t})}}function li(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ls extends sP{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ls.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ls(e,t,n,r)}}function lo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw ls._fromErrorAndOperation(e,n,t,r);throw n})}async function la(e,t,n=!1){if(_isFirebaseServerApp(e.app))return Promise.reject(oZ(e));let r="signIn",i=await lo(e,r,t),s=await lr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}class ll{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?lc._fromServerResponse(e,t):"totpInfo"in t?ld._fromServerResponse(e,t):oQ(e,"internal-error")}}class lc extends ll{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new lc(t)}}class ld extends ll{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ld(t)}}class lu{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class lh extends lu{constructor(e,t,n,r){super(e,t,n),this.username=r}}class lf{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new lf("enroll",e,t)}static _fromMfaPendingCredential(e){return new lf("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return lf._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return lf._fromIdtoken(e.multiFactorSession.idToken)}return null}}class lp{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){let n=sZ(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>ll._fromServerResponse(n,e));o1(r.mfaPendingCredential,n,"internal-error");let s=lf._fromMfaPendingCredential(r.mfaPendingCredential);return new lp(s,i,async e=>{let i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;let o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":let a=await lr._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(a.user),a;case"reauthenticate":return o1(t.user,n,"internal-error"),lr._forOperation(t.user,t.operationType,o);default:oQ(n,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}class lm{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>ll._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new lm(e)}async getSession(){return lf._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let n=await this.getSession(),r=await ag(this.user,e._process(this.user.auth,n,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{var r;let e=await ag(this.user,(r=this.user.auth,ae(r,"POST","/v2/accounts/mfaEnrollment:withdraw",o7(r,{idToken:n,mfaEnrollmentId:t}))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}new WeakMap;var lg="@firebase/auth",lv="1.10.7";class ly{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){o1(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}o5.initialize(fetch,Headers,Response),!function(e){ok(new s0("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;o1(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l=new aL(r,i,s,{apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aO(e)});return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(aI);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ok(new s0("auth-internal",e=>new ly(sZ(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),oM(lg,lv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),oM(lg,lv,"esm2017")}("Node"),oX("operation-not-supported-in-this-environment"),aL.prototype.setPersistence=async()=>{};class l_{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return o2("unexpected MultiFactorSessionType")}}}class lb{static assertionForEnrollment(e,t){return lw._fromSecret(e,t)}static assertionForSignIn(e,t){return lw._fromEnrollmentId(e,t)}static async generateSecret(e){var t,n;o1(void 0!==(null===(t=e.user)||void 0===t?void 0:t.auth),"internal-error");let r=await ae(n=e.user.auth,"POST","/v2/accounts/mfaEnrollment:start",o7(n,{idToken:e.credential,totpEnrollmentInfo:{}}));return lx._fromStartTotpMfaEnrollmentResponse(r,e.user.auth)}}lb.FACTOR_ID="totp";class lw extends l_{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new lw(t,void 0,e)}static _fromEnrollmentId(e,t){return new lw(t,e)}async _finalizeEnroll(e,t,n){return o1(void 0!==this.secret,e,"argument-error"),ae(e,"POST","/v2/accounts/mfaEnrollment:finalize",o7(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){o1(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return ae(e,"POST","/v2/accounts/mfaSignIn:finalize",o7(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class lx{constructor(e,t,n,r,i,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new lx(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(lC(e)||lC(t))&&(r=!0),r&&(lC(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),lC(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function lC(e){return void 0===e||(null==e?void 0:e.length)===0}var lE=n(2819);let lk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lS="websocket",lN="long_polling";class lI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),sD(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:sO(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class lT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return sF(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}let lP=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lI(t)}}catch(e){}return new lT},lR=lP("localStorage"),lj=lP("sessionStorage"),lO=new s7("@firebase/database"),lD=function(){let e=1;return function(){return e++}}(),lM=function(e){let t=sX(e),n=new s$;n.update(t);let r=n.digest();return sl.encodeByteArray(r)},lA=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=lA.apply(null,r):"object"==typeof r?t+=sD(r):t+=r,t+=" "}return t},lL=null,lF=!0,lU=function(e,t){si(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(lO.logLevel=y.VERBOSE,lL=lO.log.bind(lO),t&&lj.set("logging_enabled",!0)):"function"==typeof e?lL=e:(lL=null,lj.remove("logging_enabled"))},lH=function(...e){if(!0===lF&&(lF=!1,null===lL&&!0===lj.get("logging_enabled")&&lU(!0)),lL){let t=lA.apply(null,e);lL(t)}},lW=function(e){return function(...t){lH(e,...t)}},lq=function(...e){let t="FIREBASE INTERNAL ERROR: "+lA(...e);lO.error(t)},lz=function(...e){let t=`FIREBASE FATAL ERROR: ${lA(...e)}`;throw lO.error(t),Error(t)},lB=function(...e){let t="FIREBASE WARNING: "+lA(...e);lO.warn(t)},lV=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&lB("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lK=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},l$=function(e){if(sT()||"complete"===document.readyState)e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},lY="[MIN_NAME]",lG="[MAX_NAME]",lQ=function(e,t){if(e===t)return 0;if(e===lY||t===lG)return -1;if(t===lY||e===lG)return 1;{let n=l3(e),r=l3(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},lX=function(e,t){return e===t?0:e<t?-1:1},lJ=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+sD(t))},lZ=function(e){if("object"!=typeof e||null===e)return sD(e);let t=[];for(let n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=sD(t[r]),n+=":",n+=lZ(e[t[r]]);return n+"}"},l0=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function l1(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}let l2=function(e){let t,n,r,i,s;si(!lK(e),"Invalid JSON number");0===e?(n=0,r=0,t=+(1/e==-1/0)):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-0x10000000000000)):(n=0,r=Math.round(e/5e-324)));let o=[];for(s=52;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(+!!t),o.reverse();let a=o.join(""),l="";for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},l4=RegExp("^-?(0*)\\d{1,10}$"),l3=function(e){if(l4.test(e)){let t=Number(e);if(t>=-0x80000000&&t<=0x7fffffff)return t}return null},l5=function(e){try{e()}catch(e){setTimeout(()=>{throw lB("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},l6=function(e,t){let n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class l8{constructor(e,t,n,r,i=!1,s="",o=!1,a=!1,l=null){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lR.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lR.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function l9(e,t,n){let r;if(si("string"==typeof t,"typeof type must == string"),si("object"==typeof n,"typeof params must == object"),t===lS)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===lN)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);let i=[];return l1(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class l7{constructor(){this.counters_={}}incrementCounter(e,t=1){sF(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(let r in n)if(n.hasOwnProperty(r)&&"__proto__"!==r)t[r]=e(t[r],n[r]);return t}(void 0,this.counters_)}}let ce={},ct={};function cn(e){let t=e.toString();return ce[t]||(ce[t]=new l7),ce[t]}let cr="",ci=null;"undefined"!=typeof MozWebSocket?ci=MozWebSocket:"undefined"!=typeof WebSocket&&(ci=WebSocket);class cs{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lW(this.connId),this.stats_=cn(t),this.connURL=cs.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){let s={};return s.v="5",!sT()&&"undefined"!=typeof location&&location.hostname&&lk.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s.ac=r),i&&(s.p=i),l9(e,lS,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lR.set("previous_websocket_failure",!0);try{let e;if(sT()){let t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${cr}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);let n=process.env,r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new ci(this.connURL,[],e)}catch(t){this.log_("Error instantiating WebSocket.");let e=t.message||t.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){cs.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==ci&&!cs.forceDisallow_}static previouslyFailed(){return lR.isInMemoryStorage||!0===lR.get("previous_websocket_failure")}markConnectionHealthy(){lR.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join("");this.frames=null;let t=sO(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(si(null===this.frames,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=sD(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=l0(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}cs.responsesRequiredToBeHealthy=2,cs.healthyTimeout=3e4;let co="@firebase/database",ca="1.0.19";class cl{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,oN(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){lB(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class cc{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(lH("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lB(e)}}class cd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cd.OWNER="owner";class cu{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&l5(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}let ch="start";class cf{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lW(e),this.stats_=cn(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),l9(t,lN,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new cu(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),l$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cp((...e)=>{let[t,n,r,i,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder){if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ch)this.id=n,this.password=r;else if("close"===t)n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+t)}},(...e)=>{let[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);let e={};e[ch]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&lk.test(location.hostname)&&(e.r="f");let t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cf.forceAllow_=!0}static forceDisallow(){cf.forceDisallow_=!0}static isAvailable(){return!sT()&&(!!cf.forceAllow_||!cf.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&("object"!=typeof Windows||"object"!=typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=sD(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=l0(sd(t),1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(sT())return;this.myDisconnFrame=document.createElement("iframe");let n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=sD(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class cp{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,sT())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=lD(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=cp.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');let r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){lH("frame writing exception"),e.stack&&lH(e.stack),lH(e)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||lH("No IE domain setting required")}catch(t){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+n.length<=1870){let e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}else break;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){sT()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{lH("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}class cm{static get ALL_TRANSPORTS(){return[cf,cs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){let t=cs&&cs.isAvailable(),n=t&&!cs.previouslyFailed();if(e.webSocketOnly&&(t||lB("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[cs];else{let e=this.transports_=[];for(let t of cm.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);cm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}cm.globalTransportInitialized_=!1;class cg{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lW("c:"+this.id+":"),this.transportManager_=new cm(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=l6(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){let t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=lJ("t",e),n=lJ("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=lJ("t",e),n=lJ("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=lJ("t",e);if("d"in e){let n=e.d;if("h"===t){let e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?lq("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lq("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&lB("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),l6(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):l6(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lR.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class cv{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class cy{constructor(e){this.allowedEvents_=e,this.listeners_={},si(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context)){r.splice(e,1);return}}validateEventType_(e){si(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class c_ extends cy{static getInstance(){return new c_}constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||sN()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return si("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class cb{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function cw(){return new cb("")}function cx(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function cC(e){return e.pieces_.length-e.pieceNum_}function cE(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new cb(e.pieces_,t)}function ck(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function cS(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function cN(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new cb(t,0)}function cI(e,t){let n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof cb)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{let e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new cb(n,0)}function cT(e){return e.pieceNum_>=e.pieces_.length}function cP(e,t){let n=cx(e),r=cx(t);if(null===n)return t;if(n===r)return cP(cE(e),cE(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function cR(e,t){let n=cS(e,0),r=cS(t,0);for(let e=0;e<n.length&&e<r.length;e++){let t=lQ(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function cj(e,t){if(cC(e)!==cC(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function cO(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(cC(e)>cC(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class cD{constructor(e,t){this.errorPrefix_=t,this.parts_=cS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=sJ(this.parts_[e]);cM(this)}}function cM(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+cA(e))}function cA(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class cL extends cy{static getInstance(){return new cL}constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return si("visible"===e,"Unknown event type: "+e),[this.visible_]}}class cF extends cv{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=cF.nextPersistentConnectionId_++,this.log_=lW("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!sT())throw Error("Auth override specified in options, but not supported on non Node.js platforms");cL.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&c_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){let r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(sD(i)),si(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();let t=new sb,n={p:e._path.toString(),q:e._queryObject};this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{let n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++;let r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();let i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),si(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),si(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");let o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){let t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);let i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{let s=i.d,o=i.s;cF.warnOnListenWarnings_(s,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&sF(e,"w")){let n=sU(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){let e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();lB(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||sL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=sA(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{let n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),si(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);let i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){let i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();let s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;let o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){let t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+sD(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):lq("Unrecognized action received from server: "+sD(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){si(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){!e||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+cF.nextConnectionId_++,i=this.lastSessionId,s=!1,o=null,a=function(){o?o.close():(s=!0,n())};this.realtime_={close:a,sendRequest:function(e){si(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)}};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[a,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);s?lH("getToken() completed but was canceled"):(lH("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=c&&c.token,o=new cg(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{lB(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&lB(e),a())}}}interrupt(e){lH("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lH("Resuming connection for reason: "+e),delete this.interruptReasons_[e],sH(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>lZ(e)).join("$"):"default";let r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){let n;let r=new cb(e).toString();if(this.listens.has(r)){let e=this.listens.get(r);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(r)}else n=void 0;return n}onAuthRevoked_(e,t){lH("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){lH("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let e of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";sT()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+cr.replace(/\./g,"-")]=1,sN()?e["framework.cordova"]=1:sI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=c_.getInstance().currentlyOnline();return sH(this.interruptReasons_)&&e}}cF.nextPersistentConnectionId_=0,cF.nextConnectionId_=0;class cU{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new cU(e,t)}}class cH{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new cU(lY,e),r=new cU(lY,t);return 0!==this.compare(n,r)}minPost(){return cU.MIN}}class cW extends cH{static get __EMPTY_NODE(){return s}static set __EMPTY_NODE(e){s=e}compare(e,t){return lQ(e.name,t.name)}isDefinedOn(e){throw ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return cU.MIN}maxPost(){return new cU(lG,s)}makePost(e,t){return si("string"==typeof e,"KeyIndex indexValue must always be a string."),new cU(e,s)}toString(){return".key"}}let cq=new cW;class cz{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else if(0===s){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){let e;if(0===this.nodeStack_.length)return null;let t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class cB{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:cB.RED,this.left=null!=r?r:cK.EMPTY_NODE,this.right=null!=i?i:cK.EMPTY_NODE}copy(e,t,n,r,i){return new cB(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}removeMin_(){if(this.left.isEmpty())return cK.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let n,r;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return cK.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,cB.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,cB.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){return Math.pow(2,this.check_())<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e===this.right.check_())return e+ +!this.isRed_();throw Error("Black depths differ")}}cB.RED=!0,cB.BLACK=!1;class cV{copy(e,t,n,r,i){return this}insert(e,t,n){return new cB(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class cK{constructor(e,t=cK.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new cK(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,cB.BLACK,null,null))}remove(e){return new cK(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,cB.BLACK,null,null))}get(e){let t;let n=this.root_;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty()){if(r)return r.key;return null}for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cz(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new cz(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new cz(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new cz(this.root_,null,this.comparator_,!0,e)}}function c$(e,t){return lQ(e.name,t.name)}function cY(e,t){return lQ(e,t)}cK.EMPTY_NODE=new cV;let cG=function(e){return"number"==typeof e?"number:"+l2(e):"string:"+e},cQ=function(e){if(e.isLeafNode()){let t=e.val();si("string"==typeof t||"number"==typeof t||"object"==typeof t&&sF(t,".sv"),"Priority must be a string or number.")}else si(e===o||e.isEmpty(),"priority of unexpected type.");si(e===o||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class cX{static set __childrenNodeConstructor(e){a=e}static get __childrenNodeConstructor(){return a}constructor(e,t=cX.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,si(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),cQ(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new cX(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:cX.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return cT(e)?this:".priority"===cx(e)?this.priorityNode_:cX.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:cX.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let n=cx(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(si(".priority"!==n||1===cC(e),".priority must be the last token in a path"),this.updateImmediateChild(n,cX.__childrenNodeConstructor.EMPTY_NODE.updateChild(cE(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cG(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":","number"===t?e+=l2(this.value_):e+=this.value_,this.lazyHash_=lM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===cX.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof cX.__childrenNodeConstructor?-1:(si(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,n=typeof this.value_,r=cX.VALUE_TYPE_ORDER.indexOf(t),i=cX.VALUE_TYPE_ORDER.indexOf(n);return(si(r>=0,"Unknown leaf type: "+t),si(i>=0,"Unknown leaf type: "+n),r!==i)?i-r:"object"===n?0:this.value_<e.value_?-1:+(this.value_!==e.value_)}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}cX.VALUE_TYPE_ORDER=["object","boolean","number","string"];class cJ extends cH{compare(e,t){let n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?lQ(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return cU.MIN}maxPost(){return new cU(lG,new cX("[PRIORITY-POST]",c))}makePost(e,t){return new cU(t,new cX("[PRIORITY-POST]",l(e)))}toString(){return".priority"}}let cZ=new cJ,c0=Math.log(2);class c1{constructor(e){this.count=parseInt(Math.log(e+1)/c0,10),this.current_=this.count-1;let t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}}let c2=function(e,t,n,r){e.sort(t);let i=function(t,r){let s,o;let a=r-t;if(0===a)return null;if(1===a)return s=e[t],new cB(n?n(s):s,s.node,cB.BLACK,null,null);{let o=parseInt(a/2,10)+t,l=i(t,o),c=i(o+1,r);return s=e[o],new cB(n?n(s):s,s.node,cB.BLACK,l,c)}};return new cK(r||t,function(t){let r=null,s=null,o=e.length,a=function(t,r){let s=o-t,a=o;o-=t;let c=i(s+1,a),d=e[s];l(new cB(n?n(d):d,d.node,r,null,c))},l=function(e){r?r.left=e:s=e,r=e};for(let e=0;e<t.count;++e){let n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,cB.BLACK):(a(r,cB.BLACK),a(r,cB.RED))}return s}(new c1(e.length)))},c4={};class c3{static get Default(){return si(c4&&cZ,"ChildrenNode.ts has not been loaded"),d=d||new c3({".priority":c4},{".priority":cZ})}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=sU(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof cK?t:null}hasIndex(e){return sF(this.indexSet_,e.toString())}addIndex(e,t){let n;si(e!==cq,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=t.getIterator(cU.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();n=i?c2(r,e.getCompare()):c4;let a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;let c=Object.assign({},this.indexes_);return c[a]=n,new c3(c,l)}addToIndexes(e,t){return new c3(sW(this.indexes_,(n,r)=>{let i=sU(this.indexSet_,r);if(si(i,"Missing index implementation for "+r),n===c4){if(!i.isDefinedOn(e.node))return c4;{let n=[],r=t.getIterator(cU.Wrap),s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),c2(n,i.getCompare())}}{let r=t.get(e.name),i=n;return r&&(i=i.remove(new cU(e.name,r))),i.insert(e,e.node)}}),this.indexSet_)}removeFromIndexes(e,t){return new c3(sW(this.indexes_,n=>{if(n===c4)return n;{let r=t.get(e.name);return r?n.remove(new cU(e.name,r)):n}}),this.indexSet_)}}class c5{static get EMPTY_NODE(){return u||(u=new c5(new cK(cY),null,c3.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&cQ(this.priorityNode_),this.children_.isEmpty()&&si(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||u}updatePriority(e){return this.children_.isEmpty()?this:new c5(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{let t=this.children_.get(e);return null===t?u:t}}getChild(e){let t=cx(e);return null===t?this:this.getImmediateChild(t).getChild(cE(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(si(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{let n,r;let i=new cU(e,t);t.isEmpty()?(n=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(n=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));let s=n.isEmpty()?u:this.priorityNode_;return new c5(n,s,r)}}updateChild(e,t){let n=cx(e);if(null===n)return t;{si(".priority"!==cx(e)||1===cC(e),".priority must be the last token in a path");let r=this.getImmediateChild(n).updateChild(cE(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},n=0,r=0,i=!0;if(this.forEachChild(cZ,(s,o)=>{t[s]=o.val(e),n++,i&&c5.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),e||!i||!(r<2*n))return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t;{let e=[];for(let n in t)e[n]=t[n];return e}}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+cG(this.getPriority().val())+":"),this.forEachChild(cZ,(t,n)=>{let r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":lM(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let r=this.resolveIndex_(n);if(!r)return this.children_.getPredecessorKey(e);{let n=r.getPredecessorKey(new cU(e,t));return n?n.name:null}}getFirstChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.minKey();{let e=t.minKey();return e&&e.name}}getFirstChild(e){let t=this.getFirstChildName(e);return t?new cU(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();{let e=t.maxKey();return e&&e.name}}getLastChild(e){let t=this.getLastChildName(e);return t?new cU(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{let n=this.children_.getIteratorFrom(e.name,cU.Wrap),r=n.peek();for(;null!=r&&0>t.compare(r,e);)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{let n=this.children_.getReverseIteratorFrom(e.name,cU.Wrap),r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===c8?-1:0}withIndex(e){if(e===cq||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new c5(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===cq||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority()))return!1;if(this.children_.count()!==e.children_.count())return!1;{let t=this.getIterator(cZ),n=e.getIterator(cZ),r=t.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}}resolveIndex_(e){return e===cq?null:this.indexMap_.get(e.toString())}}c5.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class c6 extends c5{constructor(){super(new cK(cY),c5.EMPTY_NODE,c3.Default)}compareTo(e){return+(e!==this)}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return c5.EMPTY_NODE}isEmpty(){return!1}}let c8=new c6;function c9(e,t=null){if(null===e)return c5.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),si(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new cX(e,c9(t));if(e instanceof Array){let n=c5.EMPTY_NODE;return l1(e,(t,r)=>{if(sF(e,t)&&"."!==t.substring(0,1)){let e=c9(r);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(c9(t))}{let n=[],r=!1;if(l1(e,(e,t)=>{if("."!==e.substring(0,1)){let i=c9(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new cU(e,i)))}}),0===n.length)return c5.EMPTY_NODE;let i=c2(n,c$,e=>e.name,cY);if(!r)return new c5(i,c9(t),c3.Default);{let e=c2(n,cZ.getCompare());return new c5(i,c9(t),new c3({".priority":e},{".priority":cZ}))}}}Object.defineProperties(cU,{MIN:{value:new cU(lY,c5.EMPTY_NODE)},MAX:{value:new cU(lG,c8)}}),cW.__EMPTY_NODE=c5.EMPTY_NODE,cX.__childrenNodeConstructor=c5,o=c8,c=c8,l=c9;class c7 extends cH{constructor(e){super(),this.indexPath_=e,si(!cT(e)&&".priority"!==cx(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?lQ(e.name,t.name):i}makePost(e,t){let n=c9(e);return new cU(t,c5.EMPTY_NODE.updateChild(this.indexPath_,n))}maxPost(){return new cU(lG,c5.EMPTY_NODE.updateChild(this.indexPath_,c8))}toString(){return cS(this.indexPath_,0).join("/")}}class de extends cH{compare(e,t){let n=e.node.compareTo(t.node);return 0===n?lQ(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return cU.MIN}maxPost(){return cU.MAX}makePost(e,t){return new cU(t,c9(e))}toString(){return".value"}}let dt=new de;function dn(e){return{type:"value",snapshotNode:e}}function dr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function di(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ds(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class da{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){si(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(di(t,o)):si(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(dr(t,n)):s.trackChildChange(ds(t,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return null==n||(e.isLeafNode()||e.forEachChild(cZ,(e,r)=>{t.hasChild(e)||n.trackChildChange(di(e,r))}),t.isLeafNode()||t.forEachChild(cZ,(t,r)=>{if(e.hasChild(t)){let i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ds(t,r,i))}else n.trackChildChange(dr(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?c5.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dl{constructor(e){this.indexedFilter_=new da(e.getIndex()),this.index_=e.getIndex(),this.startPost_=dl.getStartPost_(e),this.endPost_=dl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),e):0>this.index_.compare(this.getStartPost(),e),n=this.endIsInclusive_?0>=this.index_.compare(e,this.getEndPost()):0>this.index_.compare(e,this.getEndPost());return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new cU(t,n))||(n=c5.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=c5.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(c5.EMPTY_NODE);let i=this;return t.forEachChild(cZ,(e,t)=>{i.matches(new cU(e,t))||(r=r.updateImmediateChild(e,c5.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(!e.hasStart())return e.getIndex().minPost();{let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}}static getEndPost_(e){if(!e.hasEnd())return e.getIndex().maxPost();{let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}}}class dc{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new dl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return(this.rangedFilter_.matches(new cU(t,n))||(n=c5.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=c5.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=c5.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t)){if(this.withinDirectionalEnd(t))r=r.updateImmediateChild(t.name,t.node),n++;else break}}}else{let e;r=(r=t.withIndex(this.index_)).updatePriority(c5.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){let t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,c5.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){let e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();si(e.numChildren()===this.limit_,"");let o=new cU(t,n),a=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),l=this.rangedFilter_.matches(o);if(e.hasChild(t)){let c=e.getImmediateChild(t),d=r.getChildAfterChild(this.index_,a,this.reverse_);for(;null!=d&&(d.name===t||e.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);let u=null==d?1:s(d,o);if(l&&!n.isEmpty()&&u>=0)return null!=i&&i.trackChildChange(ds(t,n,c)),e.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(di(t,c));let n=e.updateImmediateChild(t,c5.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(dr(d.name,d.node)),n.updateImmediateChild(d.name,d.node)):n}}return n.isEmpty()?e:l?s(a,o)>=0?(null!=i&&(i.trackChildChange(di(a.name,a.node)),i.trackChildChange(dr(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(a.name,c5.EMPTY_NODE)):e:e}}class dd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cZ}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return si(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(si(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:lY}hasEnd(){return this.endSet_}getIndexEndValue(){return si(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(si(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:lG}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return si(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cZ}copy(){let e=new dd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function du(e,t,n){let r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function dh(e,t,n){let r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function df(e,t){let n=e.copy();return n.index_=t,n}function dp(e){let t;let n={};if(e.isDefault())return n;if(e.index_===cZ?t="$priority":e.index_===dt?t="$value":e.index_===cq?t="$key":(si(e.index_ instanceof c7,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=sD(t),e.startSet_){let t=e.startAfterSet_?"startAfter":"startAt";n[t]=sD(e.indexStartValue_),e.startNameSet_&&(n[t]+=","+sD(e.indexStartName_))}if(e.endSet_){let t=e.endBeforeSet_?"endBefore":"endAt";n[t]=sD(e.indexEndValue_),e.endNameSet_&&(n[t]+=","+sD(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function dm(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==cZ&&(t.i=e.index_.toString()),t}class dg extends cv{reportStats(e){throw Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(si(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=lW("p:rest:"),this.listens_={}}listen(e,t,n,r){let i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);let s=dg.getListenId_(e,n),o={};this.listens_[s]=o;let a=dp(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),sU(this.listens_,s)===o){let t;r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}})}unlisten(e,t){let n=dg.getListenId_(e,t);delete this.listens_[n]}get(e){let t=dp(e._queryParams),n=e._path.toString(),r=new sb;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+sB(t);this.log_("Sending REST request for "+s);let o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=sO(o.responseText)}catch(e){lB("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&lB("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class dv{constructor(){this.rootNode_=c5.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function dy(){return{value:null,children:new Map}}function d_(e,t,n){if(cT(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{let r=cx(t);e.children.has(r)||e.children.set(r,dy()),d_(e.children.get(r),t=cE(t),n)}}function db(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{db(r,new cb(t.toString()+"/"+e),n)})}class dw{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&l1(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class dx{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new dw(e);let n=1e4+2e4*Math.random();l6(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;l1(e,(e,r)=>{r>0&&sF(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),l6(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function dC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dk(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_||(_={}));class dS{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=_.ACK_USER_WRITE,this.source=dC()}operationForChild(e){if(!cT(this.path))return si(cx(this.path)===e,"operationForChild called for unrelated child."),new dS(cE(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return si(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new cb(e));return new dS(cw(),t,this.revert)}}}class dN{constructor(e,t){this.source=e,this.path=t,this.type=_.LISTEN_COMPLETE}operationForChild(e){return cT(this.path)?new dN(this.source,cw()):new dN(this.source,cE(this.path))}}class dI{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=_.OVERWRITE}operationForChild(e){return cT(this.path)?new dI(this.source,cw(),this.snap.getImmediateChild(e)):new dI(this.source,cE(this.path),this.snap)}}class dT{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=_.MERGE}operationForChild(e){if(!cT(this.path))return si(cx(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dT(this.source,cE(this.path),this.children);{let t=this.children.subtree(new cb(e));return t.isEmpty()?null:t.value?new dI(this.source,cw(),t.value):new dT(this.source,cw(),t)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class dP{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(cT(e))return this.isFullyInitialized()&&!this.filtered_;let t=cx(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class dR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function dj(e,t,n,r,i,s){let o=r.filter(e=>e.type===n);o.sort((t,n)=>(function(e,t,n){if(null==t.childName||null==n.childName)throw ss("Should only compare child_ events.");let r=new cU(t.childName,t.snapshotNode),i=new cU(n.childName,n.snapshotNode);return e.index_.compare(r,i)})(e,t,n)),o.forEach(n=>{var r,o,a;let l=(r=e,o=n,a=s,"value"===o.type||"child_removed"===o.type||(o.prevName=a.getPredecessorChildName(o.childName,o.snapshotNode,r.index_)),o);i.forEach(r=>{r.respondsTo(n.type)&&t.push(r.createEvent(l,e.query_))})})}function dO(e,t){return{eventCache:e,serverCache:t}}function dD(e,t,n,r){return dO(new dP(t,n,r),e.serverCache)}function dM(e,t,n,r){return dO(e.eventCache,new dP(t,n,r))}function dA(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function dL(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let dF=()=>(h||(h=new cK(lX)),h);class dU{static fromObject(e){let t=new dU(null);return l1(e,(e,n)=>{t=t.set(new cb(e),n)}),t}constructor(e,t=dF()){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:cw(),value:this.value};if(cT(e))return null;{let n=cx(e),r=this.children.get(n);if(null===r)return null;{let i=r.findRootMostMatchingPathAndValue(cE(e),t);return null!=i?{path:cI(new cb(n),i.path),value:i.value}:null}}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(cT(e))return this;{let t=cx(e),n=this.children.get(t);return null!==n?n.subtree(cE(e)):new dU(null)}}set(e,t){if(cT(e))return new dU(t,this.children);{let n=cx(e),r=(this.children.get(n)||new dU(null)).set(cE(e),t),i=this.children.insert(n,r);return new dU(this.value,i)}}remove(e){if(cT(e))return this.children.isEmpty()?new dU(null):new dU(null,this.children);{let t=cx(e),n=this.children.get(t);if(!n)return this;{let r;let i=n.remove(cE(e));return(r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty())?new dU(null):new dU(this.value,r)}}}get(e){if(cT(e))return this.value;{let t=cx(e),n=this.children.get(t);return n?n.get(cE(e)):null}}setTree(e,t){if(cT(e))return t;{let n;let r=cx(e),i=(this.children.get(r)||new dU(null)).setTree(cE(e),t);return n=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new dU(this.value,n)}}fold(e){return this.fold_(cw(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(cI(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,cw(),t)}findOnPath_(e,t,n){let r=!!this.value&&n(t,this.value);if(r)return r;if(cT(e))return null;{let r=cx(e),i=this.children.get(r);return i?i.findOnPath_(cE(e),cI(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,cw(),t)}foreachOnPath_(e,t,n){if(cT(e))return this;{this.value&&n(t,this.value);let r=cx(e),i=this.children.get(r);return i?i.foreachOnPath_(cE(e),cI(t,r),n):new dU(null)}}foreach(e){this.foreach_(cw(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(cI(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class dH{constructor(e){this.writeTree_=e}static empty(){return new dH(new dU(null))}}function dW(e,t,n){if(cT(t))return new dH(new dU(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){let i=r.path,s=r.value,o=cP(i,t);return s=s.updateChild(o,n),new dH(e.writeTree_.set(i,s))}{let r=new dU(n);return new dH(e.writeTree_.setTree(t,r))}}}function dq(e,t,n){let r=e;return l1(n,(e,n)=>{r=dW(r,cI(t,e),n)}),r}function dz(e,t){return cT(t)?dH.empty():new dH(e.writeTree_.setTree(t,new dU(null)))}function dB(e,t){return null!=dV(e,t)}function dV(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(cP(n.path,t)):null}function dK(e){let t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(cZ,(e,n)=>{t.push(new cU(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new cU(e,n.value))}),t}function d$(e,t){if(cT(t))return e;{let n=dV(e,t);return new dH(null!=n?new dU(n):e.writeTree_.subtree(t))}}function dY(e){return e.writeTree_.isEmpty()}function dG(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((n,s)=>{".priority"===n?(si(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=e(cI(t,n),s,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(cI(t,".priority"),i)),r}}(cw(),e.writeTree_,t)}function dQ(e){return e.visible}function dX(e,t,n){let r=dH.empty();for(let i=0;i<e.length;++i){let s=e[i];if(t(s)){let e;let t=s.path;if(s.snap)cO(n,t)?r=dW(r,e=cP(n,t),s.snap):cO(t,n)&&(e=cP(t,n),r=dW(r,cw(),s.snap.getChild(e)));else if(s.children){if(cO(n,t))r=dq(r,e=cP(n,t),s.children);else if(cO(t,n)){if(cT(e=cP(t,n)))r=dq(r,cw(),s.children);else{let t=sU(s.children,cx(e));if(t){let n=t.getChild(cE(e));r=dW(r,cw(),n)}}}}else throw ss("WriteRecord should have .snap or .children")}}return r}function dJ(e,t,n,r,i){if(r||i){let s=d$(e.visibleWrites,t);return!i&&dY(s)?n:i||null!=n||dB(s,cw())?dG(dX(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(cO(e.path,t)||cO(t,e.path))},t),n||c5.EMPTY_NODE):null}{let r=dV(e.visibleWrites,t);if(null!=r)return r;{let r=d$(e.visibleWrites,t);return dY(r)?n:null!=n||dB(r,cw())?dG(r,n||c5.EMPTY_NODE):null}}}function dZ(e,t,n,r){return dJ(e.writeTree,e.treePath,t,n,r)}function d0(e,t){return function(e,t,n){let r=c5.EMPTY_NODE,i=dV(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(cZ,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(!n)return dK(d$(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r;{let i=d$(e.visibleWrites,t);return n.forEachChild(cZ,(e,t)=>{let n=dG(d$(i,new cb(e)),t);r=r.updateImmediateChild(e,n)}),dK(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}}(e.writeTree,e.treePath,t)}function d1(e,t,n,r){return function(e,t,n,r,i){si(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=cI(t,n);if(dB(e.visibleWrites,s))return null;{let t=d$(e.visibleWrites,s);return dY(t)?i.getChild(n):dG(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function d2(e,t){var n,r;return n=e.writeTree,r=cI(e.treePath,t),dV(n.visibleWrites,r)}function d4(e,t,n){return function(e,t,n,r){let i=cI(t,n),s=dV(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?dG(d$(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function d3(e,t){return d5(cI(e.treePath,t),e.writeTree)}function d5(e,t){return{treePath:e,writeTree:t}}class d6{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;si("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),si(".priority"!==n,"Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ds(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,di(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,dr(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===i)this.changeMap.set(n,ds(n,e.snapshotNode,r.oldSnap));else throw ss("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}class d8{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}let d9=new d8;class d7{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=null!=this.optCompleteServerCache_?new dP(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return d4(this.writes_,e,t)}}getChildAfterChild(e,t,n){var r;let i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dL(this.viewCache_),s=function(e,t,n,r,i,s,o){let a;let l=d$(e.visibleWrites,t),c=dV(l,cw());if(null!=c)a=c;else{if(null==n)return[];a=dG(l,n)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];{let e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}((r=this.writes_).writeTree,r.treePath,i,t,1,n,e);return 0===s.length?null:s[0]}}function ue(e,t,n,r,i,s){let o=t.eventCache;if(null!=d2(r,n))return t;{let a,l;if(cT(n)){if(si(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let n=dL(t),i=d0(r,n instanceof c5?n:c5.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{let n=dZ(r,dL(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}}else{let c=cx(n);if(".priority"===c){si(1===cC(n),"Can't have a priority with additional path components");let i=o.getNode(),s=d1(r,n,i,l=t.serverCache.getNode());a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{let d;let u=cE(n);if(o.isCompleteForChild(c)){l=t.serverCache.getNode();let e=d1(r,n,o.getNode(),l);d=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else d=d4(r,c,t.serverCache);a=null!=d?e.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return dD(t,a,o.isFullyInitialized()||cT(n),e.filter.filtersNodes())}}function ut(e,t,n,r,i,s,o,a){let l;let c=t.serverCache,d=o?e.filter:e.filter.getIndexedFilter();if(cT(n))l=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){let e=c.getNode().updateChild(n,r);l=d.updateFullNode(c.getNode(),e,null)}else{let e=cx(n);if(!c.isCompleteForPath(n)&&cC(n)>1)return t;let i=cE(n),s=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?d.updatePriority(c.getNode(),s):d.updateChild(c.getNode(),e,s,i,d9,null)}let u=dM(t,l,c.isFullyInitialized()||cT(n),d.filtersNodes()),h=new d7(i,u,s);return ue(e,u,n,i,h,a)}function un(e,t,n,r,i,s,o){let a,l;let c=t.eventCache,d=new d7(i,t,s);if(cT(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=dD(t,l,!0,e.filter.filtersNodes());else{let i=cx(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),a=dD(t,l,c.isFullyInitialized(),c.isFiltered());else{let s;let l=cE(n),u=c.getNode().getImmediateChild(i);if(cT(l))s=r;else{let e=d.getCompleteChild(i);s=null!=e?".priority"===ck(l)&&e.getChild(cN(l)).isEmpty()?e:e.updateChild(l,r):c5.EMPTY_NODE}a=u.equals(s)?t:dD(t,e.filter.updateChild(c.getNode(),i,s,l,d,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return a}function ur(e,t){return e.eventCache.isCompleteForChild(t)}function ui(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function us(e,t,n,r,i,s,o,a){let l;if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t;l=cT(n)?r:new dU(null).setTree(n,r);let d=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(d.hasChild(n)){let l=ui(e,t.serverCache.getNode().getImmediateChild(n),r);c=ut(e,c,new cb(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{let l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!d.hasChild(n)&&!l){let l=ui(e,t.serverCache.getNode().getImmediateChild(n),r);c=ut(e,c,new cb(n),l,i,s,o,a)}}),c}class uo{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let n=this.query_._queryParams,r=new da(n.getIndex()),i=function(e){return e.loadsAllData()?new da(e.getIndex()):e.hasLimit()?new dc(e):new dl(e)}(n);this.processor_={filter:i};let s=t.serverCache,o=t.eventCache,a=r.updateFullNode(c5.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(c5.EMPTY_NODE,o.getNode(),null),c=new dP(a,s.isFullyInitialized(),r.filtersNodes()),d=new dP(l,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=dO(d,c),this.eventGenerator_=new dR(this.query_)}get query(){return this.query_}}function ua(e){return 0===e.eventRegistrations_.length}function ul(e,t,n){let r=[];if(n){si(null==t,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){let i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function uc(e,t,n,r){var i,s;t.type===_.MERGE&&null!==t.source.queryId&&(si(dL(e.viewCache_),"We should always have a full cache before handling merges"),si(dA(e.viewCache_),"Missing event cache, even though we have a server cache"));let o=e.viewCache_,a=function(e,t,n,r,i){let s,o;let a=new d6;if(n.type===_.OVERWRITE)n.source.fromUser?s=un(e,t,n.path,n.snap,r,i,a):(si(n.source.fromServer,"Unknown source."),o=n.source.tagged||t.serverCache.isFiltered()&&!cT(n.path),s=ut(e,t,n.path,n.snap,r,i,o,a));else if(n.type===_.MERGE){var l,c,d,u,h,f,p;let m;n.source.fromUser?(l=e,c=t,d=n.path,u=n.children,h=r,f=i,p=a,m=c,u.foreach((e,t)=>{let n=cI(d,e);ur(c,cx(n))&&(m=un(l,m,n,t,h,f,p))}),u.foreach((e,t)=>{let n=cI(d,e);ur(c,cx(n))||(m=un(l,m,n,t,h,f,p))}),s=m):(si(n.source.fromServer,"Unknown source."),o=n.source.tagged||t.serverCache.isFiltered(),s=us(e,t,n.path,n.children,r,i,o,a))}else if(n.type===_.ACK_USER_WRITE)s=n.revert?function(e,t,n,r,i,s){let o;if(null!=d2(r,n))return t;{let a;let l=new d7(r,t,i),c=t.eventCache.getNode();if(cT(n)||".priority"===cx(n)){let n;if(t.serverCache.isFullyInitialized())n=dZ(r,dL(t));else{let e=t.serverCache.getNode();si(e instanceof c5,"serverChildren would be complete if leaf node"),n=d0(r,e)}a=e.filter.updateFullNode(c,n,s)}else{let i=cx(n),d=d4(r,i,t.serverCache);null==d&&t.serverCache.isCompleteForChild(i)&&(d=c.getImmediateChild(i)),(a=null!=d?e.filter.updateChild(c,i,d,cE(n),l,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,c5.EMPTY_NODE,cE(n),l,s):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=dZ(r,dL(t))).isLeafNode()&&(a=e.filter.updateFullNode(a,o,s))}return o=t.serverCache.isFullyInitialized()||null!=d2(r,cw()),dD(t,a,o,e.filter.filtersNodes())}}(e,t,n.path,r,i,a):function(e,t,n,r,i,s,o){if(null!=d2(i,n))return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(cT(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ut(e,t,n,l.getNode().getChild(n),i,s,a,o);if(!cT(n))return t;{let r=new dU(null);return l.getNode().forEachChild(cq,(e,t)=>{r=r.set(new cb(e),t)}),us(e,t,n,r,i,s,a,o)}}{let c=new dU(null);return r.foreach((e,t)=>{let r=cI(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),us(e,t,n,c,i,s,a,o)}}(e,t,n.path,n.affectedTree,r,i,a);else if(n.type===_.LISTEN_COMPLETE)s=function(e,t,n,r,i){let s=t.serverCache;return ue(e,dM(t,s.getNode(),s.isFullyInitialized()||cT(n),s.isFiltered()),n,r,d9,i)}(e,t,n.path,r,a);else throw ss("Unknown operation type: "+n.type);let m=a.getChanges();return function(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=dA(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!i||r.getNode().equals(s))&&r.getNode().getPriority().equals(s.getPriority())||n.push(dn(dA(t)))}}(t,s,m),{viewCache:s,changes:m}}(e.processor_,o,t,n,r);return i=e.processor_,si((s=a.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),si(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),si(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,ud(e,a.changes,a.viewCache.eventCache.getNode(),null)}function ud(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){let i=[],s=[];return t.forEach(t=>{if("child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)){var n;s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}}),dj(e,i,"child_removed",t,r,n),dj(e,i,"child_added",t,r,n),dj(e,i,"child_moved",s,r,n),dj(e,i,"child_changed",t,r,n),dj(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}class uu{constructor(){this.views=new Map}}function uh(e,t,n,r){let i=t.source.queryId;if(null!==i){let s=e.views.get(i);return si(null!=s,"SyncTree gave us an op for an invalid query."),uc(s,t,n,r)}{let i=[];for(let s of e.views.values())i=i.concat(uc(s,t,n,r));return i}}function uf(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function up(e,t){let n=null;for(let r of e.views.values())n=n||function(e,t){let n=dL(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!cT(t)&&!n.getImmediateChild(cx(t)).isEmpty())?n.getChild(t):null}(r,t);return n}function um(e,t){if(t._queryParams.loadsAllData())return uv(e);{let n=t._queryIdentifier;return e.views.get(n)}}function ug(e){return null!=uv(e)}function uv(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let uy=1;class u_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dU(null),this.pendingWriteTree_={visibleWrites:dH.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ub(e,t,n,r,i){var s,o;return(s=e.pendingWriteTree_,o=i,si(r>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),s.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(s.visibleWrites=dW(s.visibleWrites,t,n)),s.lastWriteId=r,i)?uS(e,new dI(dC(),t,n)):[]}function uw(e,t,n=!1){let r=function(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(!function(e,t){var n;let r=e.allWrites.findIndex(e=>e.writeId===t);si(r>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[r];e.allWrites.splice(r,1);let s=i.visible,o=!1,a=e.allWrites.length-1;for(;s&&a>=0;){let t=e.allWrites[a];t.visible&&(a>=r&&function(e,t){if(e.snap)return cO(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&cO(cI(e.path,n),t))return!0;return!1}(t,i.path)?s=!1:cO(i.path,t.path)&&(o=!0)),a--}return!!s&&(o?((n=e).visibleWrites=dX(n.allWrites,dQ,cw()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1):i.snap?e.visibleWrites=dz(e.visibleWrites,i.path):l1(i.children,t=>{e.visibleWrites=dz(e.visibleWrites,cI(i.path,t))}),!0)}(e.pendingWriteTree_,t))return[];{let t=new dU(null);return null!=r.snap?t=t.set(cw(),!0):l1(r.children,e=>{t=t.set(new cb(e),!0)}),uS(e,new dS(r.path,t,n))}}function ux(e,t,n){return uS(e,new dI(dE(),t,n))}function uC(e,t,n,r,i=!1){let s=t._path,o=e.syncPointTree_.get(s),a=[];if(o&&("default"===t._queryIdentifier||null!=um(o,t))){let l=function(e,t,n,r){let i=t._queryIdentifier,s=[],o=[],a=ug(e);if("default"===i)for(let[t,i]of e.views.entries())o=o.concat(ul(i,n,r)),ua(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||s.push(i.query));else{let t=e.views.get(i);t&&(o=o.concat(ul(t,n,r)),ua(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!ug(e)&&s.push(new(si(f,"Reference.ts has not been loaded"),f)(t._repo,t._path)),{removed:s,events:o}}(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(s,(e,t)=>ug(t));if(n&&!i){let t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){let n=t.fold((e,t,n)=>{if(t&&ug(t))return[uv(t)];{let e=[];return t&&(e=uf(t)),l1(n,(t,n)=>{e=e.concat(n)}),e}});for(let t=0;t<n.length;++t){let r=n[t],i=r.query,s=uN(e,r);e.listenProvider_.startListening(uO(i),uI(e,i),s.hashFn,s.onComplete)}}}i||!(c.length>0)||r||(n?e.listenProvider_.stopListening(uO(t),null):c.forEach(t=>{let n=e.queryToTagMap.get(uT(t));e.listenProvider_.stopListening(uO(t),n)}))}(function(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let t=uT(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}})(e,c)}return a}function uE(e,t,n,r=!1){let i;let s=t._path,o=null,a=!1;e.syncPointTree_.foreachOnPath(s,(e,t)=>{let n=cP(e,s);o=o||up(t,n),a=a||ug(t)});let l=e.syncPointTree_.get(s);l?(a=a||ug(l),o=o||up(l,cw())):(l=new uu,e.syncPointTree_=e.syncPointTree_.set(s,l)),null!=o?i=!0:(i=!1,o=c5.EMPTY_NODE,e.syncPointTree_.subtree(s).foreachChild((e,t)=>{let n=up(t,cw());n&&(o=o.updateImmediateChild(e,n))}));let c=null!=um(l,t);if(!c&&!t._queryParams.loadsAllData()){let n=uT(t);si(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");let r=uy++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=function(e,t,n,r,i,s){let o=function(e,t,n,r,i){let s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=dZ(n,i?r:null),s=!1;return e?s=!0:(e=r instanceof c5?d0(n,r):c5.EMPTY_NODE,s=!1),new uo(t,dO(new dP(e,s,!1),new dP(r,i,!1)))}return o}(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(cZ,(e,t)=>{r.push(dr(e,t))}),n.isFullyInitialized()&&r.push(dn(n.getNode())),ud(e,r,n.getNode(),t)}(o,n)}(l,t,n,d5(s,e.pendingWriteTree_),o,i);if(!c&&!a&&!r){let n=um(l,t);d=d.concat(function(e,t,n){let r=t._path,i=uI(e,t),s=uN(e,n),o=e.listenProvider_.startListening(uO(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)si(!ug(a.value),"If we're adding a query, it shouldn't be shadowed");else{let t=a.fold((e,t,n)=>{if(!cT(e)&&t&&ug(t))return[uv(t).query];{let e=[];return t&&(e=e.concat(uf(t).map(e=>e.query))),l1(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){let r=t[n];e.listenProvider_.stopListening(uO(r),uI(e,r))}}return o}(e,t,n))}return d}function uk(e,t,n){let r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{let r=up(n,cP(e,t));if(r)return r});return dJ(r,t,i,n,!0)}function uS(e,t){var n;return function e(t,n,r,i){if(cT(t.path))return function e(t,n,r,i){let s=n.get(cw());null==r&&null!=s&&(r=up(s,cw()));let o=[];return n.children.inorderTraversal((n,s)=>{let a=r?r.getImmediateChild(n):null,l=d3(i,n),c=t.operationForChild(n);c&&(o=o.concat(e(c,s,a,l)))}),s&&(o=o.concat(uh(s,t,i,r))),o}(t,n,r,i);{let s=n.get(cw());null==r&&null!=s&&(r=up(s,cw()));let o=[],a=cx(t.path),l=t.operationForChild(a),c=n.children.get(a);if(c&&l){let t=r?r.getImmediateChild(a):null,n=d3(i,a);o=o.concat(e(l,c,t,n))}return s&&(o=o.concat(uh(s,t,i,r))),o}}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,d5(cw(),n)))}function uN(e,t){let n=t.query,r=uI(e,n);return{hashFn:()=>(t.viewCache_.serverCache.getNode()||c5.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t){var i;return r?function(e,t,n){let r=uP(e,n);if(!r)return[];{let n=uR(r),i=n.path,s=n.queryId,o=cP(i,t);return uj(e,i,new dN(dk(s),o))}}(e,n._path,r):(i=n._path,uS(e,new dN(dE(),i)))}{let r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");let r=Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return uC(e,n,null,r)}}}}function uI(e,t){let n=uT(t);return e.queryToTagMap.get(n)}function uT(e){return e._path.toString()+"$"+e._queryIdentifier}function uP(e,t){return e.tagToQueryMap.get(t)}function uR(e){let t=e.indexOf("$");return si(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new cb(e.substr(0,t))}}function uj(e,t,n){let r=e.syncPointTree_.get(t);return si(r,"Missing sync point for query tag that we're tracking"),uh(r,n,d5(t,e.pendingWriteTree_),null)}function uO(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(si(p,"Reference.ts has not been loaded"),p)(e._repo,e._path):e}class uD{constructor(e){this.node_=e}getImmediateChild(e){return new uD(this.node_.getImmediateChild(e))}node(){return this.node_}}class uM{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=cI(this.path_,e);return new uM(this.syncTree_,t)}node(){return uk(this.syncTree_,this.path_)}}let uA=function(e,t,n){return e&&"object"==typeof e?(si(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?uL(e[".sv"],t,n):"object"==typeof e[".sv"]?uF(e[".sv"],t):void si(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},uL=function(e,t,n){if("timestamp"===e)return n.timestamp;si(!1,"Unexpected server value: "+e)},uF=function(e,t,n){e.hasOwnProperty("increment")||si(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;"number"!=typeof r&&si(!1,"Unexpected increment value: "+r);let i=t.node();if(si(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return"number"!=typeof s?r:s+r},uU=function(e,t,n,r){return uW(t,new uM(n,e),r)},uH=function(e,t,n){return uW(e,new uD(t),n)};function uW(e,t,n){let r;let i=uA(e.getPriority().val(),t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return r=e,i!==e.getPriority().val()&&(r=r.updatePriority(new cX(i))),e.forEachChild(cZ,(e,i)=>{let s=uW(i,t.getImmediateChild(e),n);s!==i&&(r=r.updateImmediateChild(e,s))}),r;{let r=uA(e.getValue(),t,n);return r!==e.getValue()||i!==e.getPriority().val()?new cX(r,c9(i)):e}}class uq{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function uz(e,t){let n=t instanceof cb?t:new cb(t),r=e,i=cx(n);for(;null!==i;){let e=sU(r.node.children,i)||{children:{},childCount:0};r=new uq(i,r,e),i=cx(n=cE(n))}return r}function uB(e){return e.node.value}function uV(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){let i=void 0===uB(r)&&!uK(r),s=sF(t.node.children,n);i&&s?(delete t.node.children[n],t.node.childCount--,e(t)):i||s||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function uK(e){return e.node.childCount>0}function u$(e,t){l1(e.node.children,(n,r)=>{t(new uq(n,e,r))})}function uY(e){return new cb(null===e.parent?e.name:uY(e.parent)+"/"+e.name)}let uG=/[\[\].#$\/\u0000-\u001F\u007F]/,uQ=/[\[\].#$\u0000-\u001F\u007F]/,uX=function(e){return"string"==typeof e&&0!==e.length&&!uG.test(e)},uJ=function(e){return"string"==typeof e&&0!==e.length&&!uQ.test(e)},uZ=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!lK(e)||e&&"object"==typeof e&&sF(e,".sv")},u0=function(e,t,n,r){(!r||void 0!==t)&&u1(sQ(e,"value"),t,n)},u1=function(e,t,n){let r=n instanceof cb?new cD(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+cA(r));if("function"==typeof t)throw Error(e+"contains a function "+cA(r)+" with contents = "+t.toString());if(lK(t))throw Error(e+"contains "+t.toString()+" "+cA(r));if("string"==typeof t&&t.length>3495253.3333333335&&sJ(t)>0xa00000)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+cA(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(l1(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!uX(t)))throw Error(e+" contains an invalid key ("+t+") "+cA(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=sJ(t),cM(r),u1(e,s,r),function(e){let t=e.parts_.pop();e.byteLength_-=sJ(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw Error(e+' contains ".value" child '+cA(r)+" in addition to actual children.")}},u2=function(e,t){let n,r;for(n=0;n<t.length;n++){let i=cS(r=t[n]);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!uX(i[t]))throw Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(cR);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&cO(i,r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},u4=function(e,t,n,r){if(r&&void 0===t)return;let i=sQ(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(i+" must be an object containing the children to replace.");let s=[];l1(t,(e,t)=>{let r=new cb(e);if(u1(i,t,cI(n,r)),".priority"===ck(r)&&!uZ(t))throw Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),u2(i,s)},u3=function(e,t,n){if(!n||void 0!==t){if(lK(t))throw Error(errorPrefix(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!uZ(t))throw Error(errorPrefix(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},u5=function(e,t,n,r){if((!r||void 0!==n)&&!uJ(n))throw Error(sQ(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},u6=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),u5(e,t,n,r)},u8=function(e,t){if(".info"===cx(t))throw Error(e+" failed = Can't modify data under /.info/")},u9=function(e,t){var n;let r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!uX(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&((n=r)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!uJ(n)))throw Error(sQ(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class u7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function he(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],s=i.getPath();null===n||cj(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function ht(e,t,n){he(e,n),hr(e,e=>cj(e,t))}function hn(e,t,n){he(e,n),hr(e,e=>cO(e,t)||cO(t,e))}function hr(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(null!==n){e.events[t]=null;let r=n.getEventRunner();lL&&lH("event: "+n.toString()),l5(r)}}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}class hi{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new u7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dy(),this.transactionQueueTree_=new uq,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hs(e){let t=e.infoData_.getNode(new cb(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function ho(e){var t;return(t=t={timestamp:hs(e)}).timestamp=t.timestamp||new Date().getTime(),t}function ha(e,t,n,r,i){e.dataUpdateCount++;let s=new cb(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i){if(r){let t=sW(n,e=>c9(e));o=function(e,t,n,r){let i=uP(e,r);if(!i)return[];{let r=uR(i),s=r.path,o=r.queryId,a=cP(s,t),l=dU.fromObject(n);return uj(e,s,new dT(dk(o),a,l))}}(e.serverSyncTree_,s,t,i)}else{let t=c9(n);o=function(e,t,n,r){let i=uP(e,r);if(null==i)return[];{let r=uR(i),s=r.path,o=r.queryId,a=cP(s,t);return uj(e,s,new dI(dk(o),a,n))}}(e.serverSyncTree_,s,t,i)}}else if(r){let t=sW(n,e=>c9(e));o=function(e,t,n){let r=dU.fromObject(n);return uS(e,new dT(dE(),t,r))}(e.serverSyncTree_,s,t)}else{let t=c9(n);o=ux(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=hg(e,s)),hn(e.eventQueue_,a,o)}function hl(e,t){hc(e,"connected",t),!1===t&&function(e){hf(e,"onDisconnectEvents");let t=ho(e),n=dy();db(e.onDisconnect_,cw(),(r,i)=>{let s=uU(r,i,e.serverSyncTree_,t);d_(n,r,s)});let r=[];db(n,cw(),(t,n)=>{r=r.concat(ux(e.serverSyncTree_,t,n));let i=hb(e,t);hg(e,i)}),e.onDisconnect_=dy(),hn(e.eventQueue_,cw(),r)}(e)}function hc(e,t,n){let r=new cb("/.info/"+t),i=c9(n);e.infoData_.updateSnapshot(r,i);let s=ux(e.infoSyncTree_,r,i);hn(e.eventQueue_,r,s)}function hd(e){return e.nextWriteId_++}function hu(e,t,n,r){let i=c9(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,s)=>{"ok"===n&&d_(e.onDisconnect_,t,i),hp(e,r,n,s)})}function hh(e,t,n){let r;r=".info"===cx(t._path)?uC(e.infoSyncTree_,t,n):uC(e.serverSyncTree_,t,n),ht(e.eventQueue_,t._path,r)}function hf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),lH(n,...t)}function hp(e,t,n,r){t&&l5(()=>{if("ok"===n)t(null);else{let e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);let s=Error(i);s.code=e,t(s)}})}function hm(e,t,n){return uk(e.serverSyncTree_,t,n)||c5.EMPTY_NODE}function hg(e,t){let n=hv(e,t),r=uY(n),i=hy(e,n);return function(e,t,n){if(0===t.length)return;let r=[],i=[],s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){let a=t[o],l=cP(n,a.path),c=!1,d;if(si(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)c=!0,d=a.abortReason,i=i.concat(uw(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status){if(a.retryCount>=25)c=!0,d="maxretry",i=i.concat(uw(e.serverSyncTree_,a.currentWriteId,!0));else{let n=hm(e,a.path,s);a.currentInputSnapshot=n;let r=t[o].update(n.val());if(void 0!==r){u1("transaction failed: Data returned ",r,a.path);let t=c9(r);"object"==typeof r&&null!=r&&sF(r,".priority")||(t=t.updatePriority(n.getPriority()));let o=a.currentWriteId,l=uH(t,n,ho(e));a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=l,a.currentWriteId=hd(e),s.splice(s.indexOf(o),1),i=(i=i.concat(ub(e.serverSyncTree_,a.path,l,a.currentWriteId,a.applyLocally))).concat(uw(e.serverSyncTree_,o,!0))}else c=!0,d="nodata",i=i.concat(uw(e.serverSyncTree_,a.currentWriteId,!0))}}hn(e.eventQueue_,n,i),i=[],c&&(t[o].status=2,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete&&("nodata"===d?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(Error(d),!1,null))))}h_(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)l5(r[e]);(function e(t,n=t.transactionQueueTree_){if(n||h_(t,n),uB(n)){let r=hy(t,n);si(r.length>0,"Sending zero length transaction queue"),r.every(e=>0===e.status)&&function(t,n,r){let i=hm(t,n,r.map(e=>e.currentWriteId)),s=i,o=i.hash();for(let e=0;e<r.length;e++){let t=r[e];si(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;let i=cP(n,t.path);s=s.updateChild(i,t.currentOutputSnapshotRaw)}let a=s.val(!0);t.server_.put(n.toString(),a,i=>{hf(t,"transaction put response",{path:n.toString(),status:i});let s=[];if("ok"===i){let i=[];for(let e=0;e<r.length;e++)r[e].status=2,s=s.concat(uw(t.serverSyncTree_,r[e].currentWriteId)),r[e].onComplete&&i.push(()=>r[e].onComplete(null,!0,r[e].currentOutputSnapshotResolved)),r[e].unwatcher();h_(t,uz(t.transactionQueueTree_,n)),e(t,t.transactionQueueTree_),hn(t.eventQueue_,n,s);for(let e=0;e<i.length;e++)l5(i[e])}else{if("datastale"===i)for(let e=0;e<r.length;e++)3===r[e].status?r[e].status=4:r[e].status=0;else{lB("transaction at "+n.toString()+" failed: "+i);for(let e=0;e<r.length;e++)r[e].status=4,r[e].abortReason=i}hg(t,n)}},o)}(t,uY(n),r)}else uK(n)&&u$(n,n=>{e(t,n)})})(e,e.transactionQueueTree_)}(e,i,r),r}function hv(e,t){let n;let r=e.transactionQueueTree_;for(n=cx(t);null!==n&&void 0===uB(r);)r=uz(r,n),n=cx(t=cE(t));return r}function hy(e,t){let n=[];return function e(t,n,r){let i=uB(n);if(i)for(let e=0;e<i.length;e++)r.push(i[e]);u$(n,n=>{e(t,n,r)})}(e,t,n),n.sort((e,t)=>e.order-t.order),n}function h_(e,t){let n=uB(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,uV(t,n.length>0?n:void 0)}u$(t,t=>{h_(e,t)})}function hb(e,t){let n=uY(hv(e,t)),r=uz(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{hw(e,t)}),hw(e,r),function e(t,n,r,i){r&&!i&&n(t),u$(t,t=>{e(t,n,!0,i)}),r&&i&&n(t)}(r,t=>{hw(e,t)}),n}function hw(e,t){let n=uB(t);if(n){let r=[],i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(si(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(si(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(uw(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,Error("set"),!1,null))));-1===s?uV(t,void 0):n.length=s+1,hn(e.eventQueue_,uY(t),i);for(let e=0;e<r.length;e++)l5(r[e])}}let hx=function(e,t){let n=hC(e),r=n.namespace;"firebase.com"===n.domain&&lz(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||lz("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lV();let i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new l8(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new cb(n.pathString)}},hC=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(i=function(e){let t="",n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(d,u)));let h=function(e){let t={};for(let n of("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&"))){if(0===n.length)continue;let r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lB(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,u)));(c=t.indexOf(":"))>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{let e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},hE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hk=function(){let e=0,t=[];return function(n){let r;let i=n===e;e=n;let s=Array(8);for(r=7;r>=0;r--)s[r]=hE.charAt(n%64),n=Math.floor(n/64);si(0===n,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=hE.charAt(t[r]);return si(20===o.length,"nextPushId: Length should be 20."),o}}();class hS{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){let e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+sD(this.snapshot.exportVal())}}class hN{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class hI{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return si(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class hT{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return cT(this._path)?null:ck(this._path)}get ref(){return new hO(this._repo,this._path)}get _queryIdentifier(){let e=lZ(dm(this._queryParams));return"{}"===e?"default":e}get _queryObject(){return dm(this._queryParams)}isEqual(e){if(!((e=sZ(e))instanceof hT))return!1;let t=this._repo===e._repo,n=cj(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function hP(e,t){if(!0===e._orderByCalled)throw Error(t+": You can't combine multiple orderBy calls.")}function hR(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===cq){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==lY)throw Error(r);if("string"!=typeof t)throw Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==lG)throw Error(r);if("string"!=typeof n)throw Error(i)}}else if(e.getIndex()===cZ){if(null!=t&&!uZ(t)||null!=n&&!uZ(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(si(e.getIndex()instanceof c7||e.getIndex()===dt,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hj(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hO extends hT{constructor(e,t){super(e,t,new dd,!1)}get parent(){let e=cN(this._path);return null===e?null:new hO(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class hD{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new cb(e),n=hA(this.ref,e);return new hD(this._node.getChild(t),n,cZ)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new hD(n,hA(this.ref,t),cZ)))}hasChild(e){let t=new cb(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hM(e,t){return(e=sZ(e))._checkNotDeleted("ref"),void 0!==t?hA(e._root,t):e._root}function hA(e,t){return null===cx((e=sZ(e))._path)?u6("child","path",t,!1):u5("child","path",t,!1),new hO(e._repo,cI(e._path,t))}function hL(e,t){let n;u8("push",(e=sZ(e))._path),u0("push",t,e._path,!0);let r=hk(hs(e._repo)),i=hA(e,r),s=hA(e,r);return i.then=(n=null!=t?hF(s,t).then(()=>s):Promise.resolve(s)).then.bind(n),i.catch=n.then.bind(n,void 0),i}function hF(e,t){u8("set",(e=sZ(e))._path),u0("set",t,e._path,!1);let n=new sb;return function(e,t,n,r,i){hf(e,"set",{path:t.toString(),value:n,priority:null});let s=ho(e),o=c9(n,r),a=uH(o,uk(e.serverSyncTree_,t),s),l=hd(e),c=ub(e.serverSyncTree_,t,a,l,!0);he(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(n,r)=>{let s="ok"===n;s||lB("set at "+t+" failed: "+n);let o=uw(e.serverSyncTree_,l,!s);hn(e.eventQueue_,t,o),hp(e,i,n,r)});let d=hb(e,t);hg(e,d),hn(e.eventQueue_,d,[])}(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class hU{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){let n=t._queryParams.getIndex();return new hS("value",this,new hD(e.snapshotNode,new hO(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new hN(this,e,t):null}matches(e){return e instanceof hU&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class hH{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new hN(this,e,t):null}createEvent(e,t){si(null!=e.childName,"Child events should have a childName.");let n=hA(new hO(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new hS(e.type,this,new hD(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof hH&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}class hW{}class hq extends hW{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){u0("endAt",this._value,e._path,!0);let t=dh(e._queryParams,this._value,this._key);if(hj(t),hR(t),e._queryParams.hasEnd())throw Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hT(e._repo,e._path,t,e._orderByCalled)}}class hz extends hW{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){u0("startAt",this._value,e._path,!0);let t=du(e._queryParams,this._value,this._key);if(hj(t),hR(t),e._queryParams.hasStart())throw Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hT(e._repo,e._path,t,e._orderByCalled)}}si(!f,"__referenceConstructor has already been defined"),f=hO,si(!p,"__referenceConstructor has already been defined"),p=hO;let hB={};class hV{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=cn(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new dg(e.repoInfo_,(t,n,r,i)=>{ha(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>hl(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{sD(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new cF(e.repoInfo_,t,(t,n,r,i)=>{ha(e,t,n,r,i)},t=>{hl(e,t)},t=>{var n;n=e,l1(t,(e,t)=>{hc(n,e,t)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){let n=e.toString();return ct[n]||(ct[n]=t()),ct[n]}(e.repoInfo_,()=>new dx(e.stats_,e.server_)),e.infoData_=new dv,e.infoSyncTree_=new u_({startListening:(t,n,r,i)=>{let s=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=ux(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),hc(e,"connected",!1),e.serverSyncTree_=new u_({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{let s=i(n,r);hn(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hO(this._repo,cw())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){var n;let r=hB[t];r&&r[e.key]===e||lz(`Database ${t}(${e.repoInfo_}) has already been deleted.`),(n=e).persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt"),delete r[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&lz("Cannot call "+e+" on a deleted database.")}}cF.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},cF.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},ci=lE.Client,m="node",cr=oR,ok(new s0("database",(e,{instanceIdentifier:t})=>{let n=e.getProvider("app").getImmediate();return function(e,t,n,r,i){var s,o,a,l;let c,d,u,h,f=r||e.options.databaseURL;void 0===f&&(e.options.projectId||lz("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lH("Using default host for project ",e.options.projectId),f=`${e.options.projectId}-default-rtdb.firebaseio.com`);let p=hx(f,void 0),m=p.repoInfo;"undefined"!=typeof process&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(h=!0,m=(p=hx(f=`http://${u}?ns=${m.namespace}`,i)).repoInfo):h=!p.repoInfo.secure;let g=i&&h?new cd(cd.OWNER):new cc(e.name,e.options,t);return u9("Invalid Firebase Database URL",p),cT(p.path)||lz("Database URL must point to the root of a Firebase Database (not including a child path)."),new hV((s=m,o=e,a=g,l=new cl(e,n),(c=hB[o.name])||(c={},hB[o.name]=c),(d=c[s.toURLString()])&&lz("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new hi(s,!1,a,l),c[s.toURLString()]=d,d),e)}(n,e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)},"PUBLIC").setMultipleInstances(!0)),oM(co,ca,m),oM(co,ca,"esm2017");let hK="@firebase/installations",h$="0.6.17",hY=`w:${h$}`,hG="FIS_v2",hQ=new sR("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function hX(e){return e instanceof sP&&e.code.includes("request-failed")}function hJ({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function hZ(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function h0(e,t){let n=(await t.json()).error;return hQ.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function h1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function h2(e,{refreshToken:t}){var n;let r=h1(e);return r.append("Authorization",(n=t,`${hG} ${n}`)),r}async function h4(e){let t=await e();return t.status>=500&&t.status<600?e():t}async function h3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let r=hJ(e),i=h1(e),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}let o={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:hG,appId:e.appId,sdkVersion:hY})},a=await h4(()=>fetch(r,o));if(a.ok){let e=await a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:hZ(e.authToken)}}throw await h0("Create Installation",a)}function h5(e){return new Promise(t=>{setTimeout(t,e)})}let h6=/^[cdef][\w-]{21}$/;function h8(e){return`${e.appName}!${e.appId}`}let h9=new Map;function h7(e,t){let n=h8(e);fe(n,t),function(e,t){let n=function(){return!ft&&"BroadcastChannel"in self&&((ft=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{fe(e.data.key,e.data.fid)}),ft}();n&&n.postMessage({key:e,fid:t}),function(){0===h9.size&&ft&&(ft.close(),ft=null)}()}(n,t)}function fe(e,t){let n=h9.get(e);if(n)for(let e of n)e(t)}let ft=null,fn="firebase-installations-store",fr=null;function fi(){return fr||(fr=oc("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(fn)}})),fr}async function fs(e,t){let n=h8(e),r=(await fi()).transaction(fn,"readwrite"),i=r.objectStore(fn),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||h7(e,t.fid),t}async function fo(e){let t=h8(e),n=(await fi()).transaction(fn,"readwrite");await n.objectStore(fn).delete(t),await n.done}async function fa(e,t){let n=h8(e),r=(await fi()).transaction(fn,"readwrite"),i=r.objectStore(fn),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,o&&(!s||s.fid!==o.fid)&&h7(e,o.fid),o}async function fl(e){let t;let n=await fa(e.appConfig,n=>{let r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(hQ.create("app-offline"))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=fc(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:fd(e)}:{installationEntry:t}}(e,fh(n||{fid:function(){try{var e;let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return h6.test(n)?n:""}catch(e){return""}}(),registrationStatus:0}));return t=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function fc(e,t){try{let n=await h3(e,t);return fs(e.appConfig,n)}catch(n){throw hX(n)&&409===n.customData.serverCode?await fo(e.appConfig):await fs(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function fd(e){let t=await fu(e.appConfig);for(;1===t.registrationStatus;)await h5(100),t=await fu(e.appConfig);if(0===t.registrationStatus){let{installationEntry:t,registrationPromise:n}=await fl(e);return n||t}return t}function fu(e){return fa(e,e=>{if(!e)throw hQ.create("installation-not-found");return fh(e)})}function fh(e){var t;return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function ff({appConfig:e,heartbeatServiceProvider:t},n){let r=function(e,{fid:t}){return`${hJ(e)}/${t}/authTokens:generate`}(e,n),i=h2(e,n),s=t.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}let o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:hY,appId:e.appId}})},a=await h4(()=>fetch(r,o));if(a.ok)return hZ(await a.json());throw await h0("Generate Auth Token",a)}async function fp(e,t=!1){let n;let r=await fa(e.appConfig,r=>{var i;if(!fy(r))throw hQ.create("not-registered");let s=r.authToken;if(!t&&2===(i=s).requestStatus&&!function(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===s.requestStatus)return n=fm(e,t),r;{if(!navigator.onLine)throw hQ.create("app-offline");let t=function(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=fv(e,t),t}});return n?await n:r.authToken}async function fm(e,t){let n=await fg(e.appConfig);for(;1===n.authToken.requestStatus;)await h5(100),n=await fg(e.appConfig);let r=n.authToken;return 0===r.requestStatus?fp(e,t):r}function fg(e){return fa(e,e=>{var t;if(!fy(e))throw hQ.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fv(e,t){try{let n=await ff(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await fs(e.appConfig,r),n}catch(n){if(hX(n)&&(401===n.customData.serverCode||404===n.customData.serverCode))await fo(e.appConfig);else{let n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await fs(e.appConfig,n)}throw n}}function fy(e){return void 0!==e&&2===e.registrationStatus}async function f_(e){let{installationEntry:t,registrationPromise:n}=await fl(e);return n?n.catch(console.error):fp(e).catch(console.error),t.fid}async function fb(e,t=!1){return await fw(e),(await fp(e,t)).token}async function fw(e){let{registrationPromise:t}=await fl(e);t&&await t}function fx(e){return hQ.create("missing-app-config-values",{valueName:e})}let fC="installations";ok(new s0(fC,e=>{let t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw fx("App Configuration");if(!e.name)throw fx("App Name");for(let t of["projectId","apiKey","appId"])if(!e.options[t])throw fx(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r=oS(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},"PUBLIC")),ok(new s0("installations-internal",e=>{let t=oS(e.getProvider("app").getImmediate(),fC).getImmediate();return{getId:()=>f_(t),getToken:e=>fb(t,e)}},"PRIVATE")),oM(hK,h$),oM(hK,h$,"esm2017");let fE="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fk="google.c.a.c_id";function fS(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(b||(b={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(w||(w={}));let fN="fcm_token_details_db",fI="fcm_token_object_Store";async function fT(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(e=>e.name).includes(fN))return null;let t=null;return(await oc(fN,5,{upgrade:async(n,r,i,s)=>{var o;if(r<2||!n.objectStoreNames.contains(fI))return;let a=s.objectStore(fI),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l){if(2===r){if(!l.auth||!l.p256dh||!l.endpoint)return;t={token:l.fcmToken,createTime:null!==(o=l.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"==typeof l.vapidKey?l.vapidKey:fS(l.vapidKey)}}}else 3===r?t={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:fS(l.auth),p256dh:fS(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:fS(l.vapidKey)}}:4===r&&(t={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:fS(l.auth),p256dh:fS(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:fS(l.vapidKey)}})}}})).close(),await od(fN),await od("fcm_vapid_details_db"),await od("undefined"),!function(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?null:t}let fP="firebase-messaging-store",fR=null;function fj(){return fR||(fR=oc("firebase-messaging-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(fP)}})),fR}async function fO(e){let t=function({appConfig:e}){return e.appId}(e),n=await fj(),r=await n.transaction(fP).objectStore(fP).get(t);if(r)return r;{let t=await fT(e.appConfig.senderId);if(t)return await fD(e,t),t}}async function fD(e,t){let n=function({appConfig:e}){return e.appId}(e),r=(await fj()).transaction(fP,"readwrite");return await r.objectStore(fP).put(t,n),await r.done,t}async function fM(e){let t=function({appConfig:e}){return e.appId}(e),n=(await fj()).transaction(fP,"readwrite");await n.objectStore(fP).delete(t),await n.done}let fA=new sR("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function fL(e,t){let n;let r={method:"POST",headers:await fW(e),body:JSON.stringify(fq(t))};try{let t=await fetch(fH(e.appConfig),r);n=await t.json()}catch(e){throw fA.create("token-subscribe-failed",{errorInfo:null==e?void 0:e.toString()})}if(n.error){let e=n.error.message;throw fA.create("token-subscribe-failed",{errorInfo:e})}if(!n.token)throw fA.create("token-subscribe-no-token");return n.token}async function fF(e,t){let n;let r={method:"PATCH",headers:await fW(e),body:JSON.stringify(fq(t.subscriptionOptions))};try{let i=await fetch(`${fH(e.appConfig)}/${t.token}`,r);n=await i.json()}catch(e){throw fA.create("token-update-failed",{errorInfo:null==e?void 0:e.toString()})}if(n.error){let e=n.error.message;throw fA.create("token-update-failed",{errorInfo:e})}if(!n.token)throw fA.create("token-update-no-token");return n.token}async function fU(e,t){let n=await fW(e);try{let r=await fetch(`${fH(e.appConfig)}/${t}`,{method:"DELETE",headers:n}),i=await r.json();if(i.error){let e=i.error.message;throw fA.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw fA.create("token-unsubscribe-failed",{errorInfo:null==e?void 0:e.toString()})}}function fH({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function fW({appConfig:e,installations:t}){let n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function fq({p256dh:e,auth:t,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:t,p256dh:e}};return r!==fE&&(i.web.applicationPubKey=r),i}async function fz(e){let t=await f$(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:fS(t.getKey("auth")),p256dh:fS(t.getKey("p256dh"))},r=await fO(e.firebaseDependencies);if(!r)return fK(e.firebaseDependencies,n);if(function(e,t){let n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?fV(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await fU(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return fK(e.firebaseDependencies,n)}async function fB(e){let t=await fO(e.firebaseDependencies);t&&(await fU(e.firebaseDependencies,t.token),await fM(e.firebaseDependencies));let n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function fV(e,t){try{let n=await fF(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await fD(e.firebaseDependencies,r),n}catch(e){throw e}}async function fK(e,t){let n={token:await fL(e,t),createTime:Date.now(),subscriptionOptions:t};return await fD(e,n),n.token}async function f$(e,t){let n=await e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){let t="=".repeat((4-e.length%4)%4),n=atob((e+t).replace(/\-/g,"+").replace(/_/g,"/")),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r}(t)})}function fY(e){var t,n;let r={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};let n=t.notification.title;n&&(e.notification.title=n);let r=t.notification.body;r&&(e.notification.body=r);let i=t.notification.image;i&&(e.notification.image=i);let s=t.notification.icon;s&&(e.notification.icon=s)}(r,e),t=r,!(n=e).data||(t.data=n.data),function(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};let a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);let l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(r,e),r}function fG(e){return fA.create("missing-app-config-values",{valueName:e})}(function(e,t){let n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")})("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fQ{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=function(e){if(!e||!e.options)throw fG("App Configuration Object");if(!e.name)throw fG("App Name");let{options:t}=e;for(let e of["projectId","apiKey","appId","messagingSenderId"])if(!t[e])throw fG(e);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function fX(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await fJ(e.swRegistration)}catch(e){throw fA.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}}async function fJ(e){return new Promise((t,n)=>{let r=setTimeout(()=>n(Error("Service worker not registered after 10000 ms")),1e4),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;(null===(n=e.target)||void 0===n?void 0:n.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(Error("No incoming service worker found.")))})}async function fZ(e,t){if(t||e.swRegistration||await fX(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw fA.create("invalid-sw-registration");e.swRegistration=t}}async function f0(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=fE)}async function f1(e,t){if(!navigator)throw fA.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw fA.create("permission-blocked");return await f0(e,null==t?void 0:t.vapidKey),await fZ(e,null==t?void 0:t.serviceWorkerRegistration),fz(e)}async function f2(e,t,n){let r=function(e){switch(e){case w.NOTIFICATION_CLICKED:return"notification_open";case w.PUSH_RECEIVED:return"notification_foreground";default:throw Error()}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[fk],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function f4(e,t){let n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===w.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(fY(n)):e.onMessageHandler.next(fY(n)));let r=n.data;"object"==typeof r&&r&&fk in r&&"1"===r["google.c.a.e"]&&await f2(e,n.messageType,r)}let f3="@firebase/messaging",f5="0.12.21";ok(new s0("messaging",e=>{let t=new fQ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>f4(t,e)),t},"PUBLIC")),ok(new s0("messaging-internal",e=>{let t=e.getProvider("messaging").getImmediate();return{getToken:e=>f1(t,e)}},"PRIVATE")),oM(f3,f5),oM(f3,f5,"esm2017");let f6=oj({apiKey:"AIzaSyCnIHf8uvPskuAboz2z4A15d5sSEsRhelk",authDomain:"luxury-counter.firebaseapp.com",databaseURL:"https://luxury-counter-default-rtdb.firebaseio.com",projectId:"luxury-counter",storageBucket:"luxury-counter.firebasestorage.app",messagingSenderId:"380288570955",appId:"1:380288570955:web:4013d4326ab0beadb19fce",measurementId:"G-3XK8SW23VJ"});!function(e=oO()){let t=oS(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=oS(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(sq(n.getOptions(),{}))return e;oQ(e,"already-initialized")}return n.initialize({options:void 0})}(e),r=sv("auth");r&&function(e,t,n){let r=sZ(e);o1(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=aK(t),{host:s,port:o}=function(e){let t=aK(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:a$(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:a$(t)}}}(t),a=null===o?"":`:${o}`,l={url:`${i}//${s}${a}/`},c=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator){o1(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),o1(sq(l,r.config.emulator)&&sq(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,sw(s)?(sx(`${i}//${s}${a}`),sk("Auth",!0)):function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${r}`)}(f6);let f8=function(e=oO(),t){let n=oS(e,"database").getImmediate({identifier:void 0});if(!n._instanceStarted){let e=sy("database");e&&function(e,t,n,r={}){let i;(e=sZ(e))._checkNotDeleted("useEmulator");let s=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(s===e._repoInternal.repoInfo_.host&&sq(r,o.repoInfo_.emulatorOptions))return;lz("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}o.repoInfo_.nodeAdmin?(r.mockUserToken&&lz('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new cd(cd.OWNER)):r.mockUserToken&&(i=new cd("string"==typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[su(JSON.stringify({alg:"none",type:"JWT"})),su(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId))),sw(t)&&(sx(t),sk("Database",!0)),function(e,t,n,r){let i=t.lastIndexOf(":"),s=sw(t.substring(0,i));e.repoInfo_=new l8(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(o,s,r,i)}(n,...e)}return n}(f6);var f9=n(3032);let f7=i4("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),pe=i4("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),pt=i4("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),pn=i4("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function pr(){let[e,t]=(0,E.useState)(""),[n,r]=(0,E.useState)(""),[i,s]=(0,E.useState)(""),[o,a]=(0,E.useState)(!1),l=async()=>{if(!e.trim()||!n.trim()||!i){f9.o.error("Por favor completa todos los campos");return}if(e.trim().length<3){f9.o.error("El usuario debe tener al menos 3 caracteres");return}if(n.trim().length<4){f9.o.error("La contrase\xf1a debe tener al menos 4 caracteres");return}a(!0);try{let o=hM(f8,"users"),a=hL(o),l=new Date;l.setDate(l.getDate()+Number.parseInt(i));let c={username:e.trim(),password:n.trim(),expirationDate:l.toISOString(),createdAt:new Date().toISOString(),device:""};await hF(a,c),f9.o.success(`Usuario "${e.trim()}" creado exitosamente`),t(""),r(""),s("")}catch(e){console.error("Error creating user:",e),f9.o.error("Error al crear usuario. Verifica tu conexi\xf3n a Firebase.")}finally{a(!1)}};return(0,C.jsx)(ew,{className:"max-w-md mx-auto card-hover",children:(0,C.jsx)(eE,{className:"p-6",children:(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"username",className:"flex items-center gap-2",children:[(0,C.jsx)(f7,{className:"h-4 w-4"}),"Usuario"]}),(0,C.jsx)(tk,{id:"username",value:e,onChange:e=>t(e.target.value),placeholder:"Ingresa el nombre de usuario",disabled:o})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"password",className:"flex items-center gap-2",children:[(0,C.jsx)(pe,{className:"h-4 w-4"}),"Contrase\xf1a"]}),(0,C.jsxs)("div",{className:"flex gap-2",children:[(0,C.jsx)(tk,{id:"password",type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Ingresa la contrase\xf1a",disabled:o}),(0,C.jsx)(tE,{type:"button",variant:"outline",onClick:()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let n=0;n<8;n++)t+=e.charAt(Math.floor(Math.random()*e.length));r(t)},disabled:o,className:"interactive-element",children:"Generar"})]})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"expiration",className:"flex items-center gap-2",children:[(0,C.jsx)(pt,{className:"h-4 w-4"}),"D\xedas de vencimiento"]}),(0,C.jsxs)(id,{value:i,onValueChange:s,disabled:o,children:[(0,C.jsx)(i8,{children:(0,C.jsx)(im,{})}),(0,C.jsxs)(se,{children:[(0,C.jsx)(st,{value:"7",children:"7 d\xedas"}),(0,C.jsx)(st,{value:"30",children:"30 d\xedas"}),(0,C.jsx)(st,{value:"60",children:"60 d\xedas"}),(0,C.jsx)(st,{value:"90",children:"90 d\xedas"})]})]})]}),(0,C.jsxs)(tE,{onClick:l,disabled:o||!e.trim()||!n.trim(),className:"w-full btn-primary",children:[(0,C.jsx)(pn,{className:"h-4 w-4 mr-2"}),o?"Creando...":"Crear Usuario"]}),(0,C.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,C.jsx)("p",{children:"• El usuario se crear\xe1 en Firebase Realtime Database"}),(0,C.jsx)("p",{children:"• Las credenciales se pueden copiar despu\xe9s de la creaci\xf3n"}),(0,C.jsx)("p",{children:"• La fecha de vencimiento se calcula autom\xe1ticamente"}),(0,C.jsx)("p",{children:"• El usuario podr\xe1 acceder inmediatamente a la aplicaci\xf3n"})]})]})})})}var pi="Dialog",[ps,po]=eS(pi),[pa,pl]=ps(pi),pc=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=E.useRef(null),l=E.useRef(null),[c=!1,d]=ez({prop:r,defaultProp:i,onChange:s});return(0,C.jsx)(pa,{scope:t,triggerRef:a,contentRef:l,contentId:eF(),titleId:eF(),descriptionId:eF(),open:c,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(e=>!e),[d]),modal:o,children:n})};pc.displayName=pi;var pd="DialogTrigger",pu=E.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=pl(pd,n),s=eT(t,i.triggerRef);return(0,C.jsx)(eH.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pP(i.open),...r,ref:s,onClick:ek(e.onClick,i.onOpenToggle)})});pu.displayName=pd;var ph="DialogPortal",[pf,pp]=ps(ph,{forceMount:void 0}),pm=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=pl(ph,t);return(0,C.jsx)(pf,{scope:t,forceMount:n,children:E.Children.map(r,e=>(0,C.jsx)(e9,{present:n||s.open,children:(0,C.jsx)(rd,{asChild:!0,container:i,children:e})}))})};pm.displayName=ph;var pg="DialogOverlay",pv=E.forwardRef((e,t)=>{let n=pp(pg,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=pl(pg,e.__scopeDialog);return s.modal?(0,C.jsx)(e9,{present:r||s.open,children:(0,C.jsx)(py,{...i,ref:t})}):null});pv.displayName=pg;var py=E.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=pl(pg,n);return(0,C.jsx)(r5,{as:eP,allowPinchZoom:!0,shards:[i.contentRef],children:(0,C.jsx)(eH.div,{"data-state":pP(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),p_="DialogContent",pb=E.forwardRef((e,t)=>{let n=pp(p_,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=pl(p_,e.__scopeDialog);return(0,C.jsx)(e9,{present:r||s.open,children:s.modal?(0,C.jsx)(pw,{...i,ref:t}):(0,C.jsx)(px,{...i,ref:t})})});pb.displayName=p_;var pw=E.forwardRef((e,t)=>{let n=pl(p_,e.__scopeDialog),r=E.useRef(null),i=eT(t,n.contentRef,r);return E.useEffect(()=>{let e=r.current;if(e)return r_(e)},[]),(0,C.jsx)(pC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ek(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ek(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:ek(e.onFocusOutside,e=>e.preventDefault())})}),px=E.forwardRef((e,t)=>{let n=pl(p_,e.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return(0,C.jsx)(pC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let s=t.target;n.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),pC=E.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,a=pl(p_,n),l=E.useRef(null),c=eT(t,l);return tA(),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(tW,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:(0,C.jsx)(tj,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":pP(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(pD,{titleId:a.titleId}),(0,C.jsx)(pM,{contentRef:l,descriptionId:a.descriptionId})]})]})}),pE="DialogTitle",pk=E.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=pl(pE,n);return(0,C.jsx)(eH.h2,{id:i.titleId,...r,ref:t})});pk.displayName=pE;var pS="DialogDescription",pN=E.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=pl(pS,n);return(0,C.jsx)(eH.p,{id:i.descriptionId,...r,ref:t})});pN.displayName=pS;var pI="DialogClose",pT=E.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=pl(pI,n);return(0,C.jsx)(eH.button,{type:"button",...r,ref:t,onClick:ek(e.onClick,()=>i.onOpenChange(!1))})});function pP(e){return e?"open":"closed"}pT.displayName=pI;var pR="DialogTitleWarning",[pj,pO]=function(e,t){let n=E.createContext(t),r=e=>{let{children:t,...r}=e,i=E.useMemo(()=>r,Object.values(r));return(0,C.jsx)(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){let i=E.useContext(n);if(i)return i;if(void 0!==t)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}]}(pR,{contentName:p_,titleName:pE,docsSlug:"dialog"}),pD=({titleId:e})=>{let t=pO(pR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&!document.getElementById(e)&&console.error(n)},[n,e]),null},pM=({contentRef:e,descriptionId:t})=>{let n=pO("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return E.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&!document.getElementById(t)&&console.warn(r)},[r,e,t]),null};let pA=i4("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pL=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(pv,{ref:n,className:eb("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pL.displayName=pv.displayName;let pF=E.forwardRef(({className:e,children:t,...n},r)=>(0,C.jsxs)(pm,{children:[(0,C.jsx)(pL,{}),(0,C.jsxs)(pb,{ref:r,className:eb("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,(0,C.jsxs)(pT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,C.jsx)(pA,{className:"h-4 w-4"}),(0,C.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));pF.displayName=pb.displayName;let pU=({className:e,...t})=>(0,C.jsx)("div",{className:eb("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pU.displayName="DialogHeader";let pH=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(pk,{ref:n,className:eb("text-lg font-semibold leading-none tracking-tight",e),...t}));pH.displayName=pk.displayName;let pW=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(pN,{ref:n,className:eb("text-sm text-muted-foreground",e),...t}));pW.displayName=pN.displayName;let pq=t_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pz({className:e,variant:t,...n}){return(0,C.jsx)("div",{className:eb(pq({variant:t}),e),...n})}var pB="Popover",[pV,pK]=eS(pB,[n3]),p$=n3(),[pY,pG]=pV(pB),pQ=e=>{let{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=e,a=p$(t),l=E.useRef(null),[c,d]=E.useState(!1),[u=!1,h]=ez({prop:r,defaultProp:i,onChange:s});return(0,C.jsx)(n8,{...a,children:(0,C.jsx)(pY,{scope:t,contentId:eF(),triggerRef:l,open:u,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:c,onCustomAnchorAdd:E.useCallback(()=>d(!0),[]),onCustomAnchorRemove:E.useCallback(()=>d(!1),[]),modal:o,children:n})})};pQ.displayName=pB;var pX="PopoverAnchor";E.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=pG(pX,n),s=p$(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return E.useEffect(()=>(o(),()=>a()),[o,a]),(0,C.jsx)(n7,{...s,...r,ref:t})}).displayName=pX;var pJ="PopoverTrigger",pZ=E.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=pG(pJ,n),s=p$(n),o=eT(t,i.triggerRef),a=(0,C.jsx)(eH.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":me(i.open),...r,ref:o,onClick:ek(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:(0,C.jsx)(n7,{asChild:!0,...s,children:a})});pZ.displayName=pJ;var p0="PopoverPortal",[p1,p2]=pV(p0,{forceMount:void 0}),p4=e=>{let{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=pG(p0,t);return(0,C.jsx)(p1,{scope:t,forceMount:n,children:(0,C.jsx)(e9,{present:n||s.open,children:(0,C.jsx)(rd,{asChild:!0,container:i,children:r})})})};p4.displayName=p0;var p3="PopoverContent",p5=E.forwardRef((e,t)=>{let n=p2(p3,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=pG(p3,e.__scopePopover);return(0,C.jsx)(e9,{present:r||s.open,children:s.modal?(0,C.jsx)(p6,{...i,ref:t}):(0,C.jsx)(p8,{...i,ref:t})})});p5.displayName=p3;var p6=E.forwardRef((e,t)=>{let n=pG(p3,e.__scopePopover),r=E.useRef(null),i=eT(t,r),s=E.useRef(!1);return E.useEffect(()=>{let e=r.current;if(e)return r_(e)},[]),(0,C.jsx)(r5,{as:eP,allowPinchZoom:!0,children:(0,C.jsx)(p9,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ek(e.onCloseAutoFocus,e=>{e.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ek(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;s.current=2===t.button||n},{checkForDefaultPrevented:!1}),onFocusOutside:ek(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),p8=E.forwardRef((e,t)=>{let n=pG(p3,e.__scopePopover),r=E.useRef(!1),i=E.useRef(!1);return(0,C.jsx)(p9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let s=t.target;n.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),p9=E.forwardRef((e,t)=>{let{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=e,h=pG(p3,n),f=p$(n);return tA(),(0,C.jsx)(tW,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:(0,C.jsx)(tj,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:(0,C.jsx)(rr,{"data-state":me(h.open),role:"dialog",id:h.contentId,...f,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),p7="PopoverClose";function me(e){return e?"open":"closed"}E.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=pG(p7,n);return(0,C.jsx)(eH.button,{type:"button",...r,ref:t,onClick:ek(e.onClick,()=>i.onOpenChange(!1))})}).displayName=p7,E.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=p$(n);return(0,C.jsx)(ro,{...i,...r,ref:t})}).displayName="PopoverArrow";let mt=E.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>(0,C.jsx)(p4,{children:(0,C.jsx)(p5,{ref:i,align:t,sideOffset:n,className:eb("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));mt.displayName=p5.displayName;let mn=i4("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),mr=i4("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),mi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ms(e){return (t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}let mo={date:ms({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ms({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ms({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ma={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ml(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{let t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function mc(e){return(t,n={})=>{let r;let i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;let a=o[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(l,e=>e.test(a)):function(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(l,e=>e.test(a));return r=e.valueCallback?e.valueCallback(c):c,{value:r=n.valueCallback?n.valueCallback(r):r,rest:t.slice(a.length)}}}function md(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(i.length)}}}let mu={code:"en-US",formatDistance:(e,t,n)=>{let r;let i=mi[e];return(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix)?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:mo,formatRelative:(e,t,n,r)=>ma[e],localize:{ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ml({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ml({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ml({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ml({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ml({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:md({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:mc({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:mc({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mc({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:mc({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mc({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},mh={},mf=Symbol.for("constructDateFrom");function mp(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&mf in e?e[mf](t):e instanceof Date?new e.constructor(t):new Date(t)}function mm(e,t){return mp(t||e,e)}function mg(e){let t=mm(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mv(e,...t){let n=mp.bind(null,e||t.find(e=>"object"==typeof e));return t.map(n)}function my(e,t){let n=mm(e,t?.in);return n.setHours(0,0,0,0),n}function m_(e,t,n){let[r,i]=mv(n?.in,e,t),s=my(r),o=my(i);return Math.round((+s-mg(s)-(+o-mg(o)))/864e5)}function mb(e,t){let n=mm(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function mw(e,t){let n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??mh.weekStartsOn??mh.locale?.options?.weekStartsOn??0,r=mm(e,t?.in),i=r.getDay();return r.setDate(r.getDate()-(7*(i<n)+i-n)),r.setHours(0,0,0,0),r}function mx(e,t){return mw(e,{...t,weekStartsOn:1})}function mC(e,t){let n=mm(e,t?.in),r=n.getFullYear(),i=mp(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let s=mx(i),o=mp(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let a=mx(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function mE(e,t){let n=mm(e,t?.in);return Math.round((+mx(n)-+function(e,t){let n=mC(e,void 0),r=mp((void 0)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),mx(r)}(n))/6048e5)+1}function mk(e,t){let n=mm(e,t?.in),r=n.getFullYear(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??mh.firstWeekContainsDate??mh.locale?.options?.firstWeekContainsDate??1,s=mp(t?.in||e,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);let o=mw(s,t),a=mp(t?.in||e,0);a.setFullYear(r,0,i),a.setHours(0,0,0,0);let l=mw(a,t);return+n>=+o?r+1:+n>=+l?r:r-1}function mS(e,t){let n=mm(e,t?.in);return Math.round((+mw(n,t)-+function(e,t){let n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??mh.firstWeekContainsDate??mh.locale?.options?.firstWeekContainsDate??1,r=mk(e,t),i=mp(t?.in||e,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),mw(i,t)}(n,t))/6048e5)+1}function mN(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}let mI={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return mN("yy"===t?r%100:r,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):mN(n+1,2)},d:(e,t)=>mN(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>mN(e.getHours()%12||12,t.length),H:(e,t)=>mN(e.getHours(),t.length),m:(e,t)=>mN(e.getMinutes(),t.length),s:(e,t)=>mN(e.getSeconds(),t.length),S(e,t){let n=t.length;return mN(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},mT={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mP={G:function(e,t,n){let r=+(e.getFullYear()>0);switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return mI.y(e,t)},Y:function(e,t,n,r){let i=mk(e,r),s=i>0?i:1-i;return"YY"===t?mN(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):mN(s,t.length)},R:function(e,t){return mN(mC(e),t.length)},u:function(e,t){return mN(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mN(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mN(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){let r=e.getMonth();switch(t){case"M":case"MM":return mI.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){let r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mN(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){let i=mS(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):mN(i,t.length)},I:function(e,t,n){let r=mE(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):mN(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):mI.d(e,t)},D:function(e,t,n){let r=function(e,t){let n=mm(e,void 0);return m_(n,mb(n))+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):mN(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){let i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return mN(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){let i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return mN(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){let r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return mN(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){let r;let i=e.getHours();switch(r=12===i?mT.noon:0===i?mT.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){let r;let i=e.getHours();switch(r=i>=17?mT.evening:i>=12?mT.afternoon:i>=4?mT.morning:mT.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return mI.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):mI.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):mN(r,t.length)},k:function(e,t,n){let r=e.getHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):mN(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):mI.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):mI.s(e,t)},S:function(e,t){return mI.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return mj(r);case"XXXX":case"XX":return mO(r);default:return mO(r,":")}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"x":return mj(r);case"xxxx":case"xx":return mO(r);default:return mO(r,":")}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mR(r,":");default:return"GMT"+mO(r,":")}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mR(r,":");default:return"GMT"+mO(r,":")}},t:function(e,t,n){return mN(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return mN(+e,t.length)}};function mR(e,t=""){let n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+mN(s,2)}function mj(e,t){return e%60==0?(e>0?"-":"+")+mN(Math.abs(e)/60,2):mO(e,t)}function mO(e,t=""){let n=Math.abs(e);return(e>0?"-":"+")+mN(Math.trunc(n/60),2)+t+mN(n%60,2)}let mD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},mM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},mA={p:mM,P:(e,t)=>{let n;let r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return mD(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",mD(i,t)).replace("{{time}}",mM(s,t))}},mL=/^D+$/,mF=/^Y+$/,mU=["D","DD","YY","YYYY"];function mH(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}let mW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mz=/^'([^]*?)'?$/,mB=/''/g,mV=/[a-zA-Z]/;function mK(e,t,n){let r=n?.locale??mh.locale??mu,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??mh.firstWeekContainsDate??mh.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??mh.weekStartsOn??mh.locale?.options?.weekStartsOn??0,o=mm(e,n?.in);if(!mH(o)&&"number"!=typeof o||isNaN(+mm(o)))throw RangeError("Invalid time value");let a=t.match(mq).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,mA[t])(e,r.formatLong):e}).join("").match(mW).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(mz);return t?t[1].replace(mB,"'"):e}(e)};if(mP[t])return{isToken:!0,value:e};if(t.match(mV))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});r.localize.preprocessor&&(a=r.localize.preprocessor(o,a));let l={firstWeekContainsDate:i,weekStartsOn:s,locale:r};return a.map(i=>{if(!i.isToken)return i.value;let s=i.value;return(!n?.useAdditionalWeekYearTokens&&mF.test(s)||!n?.useAdditionalDayOfYearTokens&&mL.test(s))&&!function(e,t,n){let r=function(e,t,n){let r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),mU.includes(e))throw RangeError(r)}(s,t,String(e)),(0,mP[s[0]])(o,s,r.localize,l)}).join("")}function m$(e,t){let n=mm(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function mY(e,t){let n=mm(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function mG(e,t,n){let r=mm(e,n?.in),i=r.getFullYear(),s=r.getDate(),o=mp(n?.in||e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);let a=function(e,t){let n=mm(e,void 0),r=n.getFullYear(),i=n.getMonth(),s=mp(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}(o);return r.setMonth(t,Math.min(s,a)),r}function mQ(e,t,n){let r=mm(e,n?.in);return isNaN(+r)?mp(n?.in||e,NaN):(r.setFullYear(t),r)}function mX(e,t,n){let[r,i]=mv(n?.in,e,t);return 12*(r.getFullYear()-i.getFullYear())+(r.getMonth()-i.getMonth())}function mJ(e,t,n){let r=mm(e,n?.in);if(isNaN(t))return mp(n?.in||e,NaN);if(!t)return r;let i=r.getDate(),s=mp(n?.in||e,r.getTime());return(s.setMonth(r.getMonth()+t+1,0),i>=s.getDate())?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function mZ(e,t,n){let[r,i]=mv(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function m0(e,t,n){let r=mm(e,n?.in);return isNaN(t)?mp(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function m1(e,t,n){let[r,i]=mv(n?.in,e,t);return+my(r)==+my(i)}function m2(e,t){return+mm(e)>+mm(t)}function m4(e,t,n){return m0(e,7*t,n)}function m3(e,t,n){return mJ(e,12*t,n)}function m5(e,t){let n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??mh.weekStartsOn??mh.locale?.options?.weekStartsOn??0,r=mm(e,t?.in),i=r.getDay();return r.setDate(r.getDate()+((i<n?-7:0)+6-(i-n))),r.setHours(23,59,59,999),r}function m6(e,t){return m5(e,{...t,weekStartsOn:1})}var m8=function(){return(m8=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function m9(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function m7(e){return"multiple"===e.mode}function ge(e){return"range"===e.mode}function gt(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var gn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"},gr=Object.freeze({__proto__:null,formatCaption:function(e,t){return mK(e,"LLLL y",t)},formatDay:function(e,t){return mK(e,"d",t)},formatMonthCaption:function(e,t){return mK(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return mK(e,"cccccc",t)},formatYearCaption:function(e,t){return mK(e,"yyyy",t)}}),gi=Object.freeze({__proto__:null,labelDay:function(e,t,n){return mK(e,"do MMMM (EEEE)",n)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return mK(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}}),gs=(0,E.createContext)(void 0);function go(e){var t,n,r,i,s,o,a,l,c,d=e.initialProps,u={captionLayout:"buttons",classNames:gn,formatters:gr,labels:gi,locale:mu,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},h=(n=(t=d).fromYear,r=t.toYear,i=t.fromMonth,s=t.toMonth,o=t.fromDate,a=t.toDate,i?o=m$(i):n&&(o=new Date(n,0,1)),s?a=mY(s):r&&(a=new Date(r,11,31)),{fromDate:o?my(o):void 0,toDate:a?my(a):void 0}),f=h.fromDate,p=h.toDate,m=null!==(l=d.captionLayout)&&void 0!==l?l:u.captionLayout;"buttons"===m||f&&p||(m="buttons"),(gt(d)||m7(d)||ge(d))&&(c=d.onSelect);var g=m8(m8(m8({},u),d),{captionLayout:m,classNames:m8(m8({},u.classNames),d.classNames),components:m8({},d.components),formatters:m8(m8({},u.formatters),d.formatters),fromDate:f,labels:m8(m8({},u.labels),d.labels),mode:d.mode||u.mode,modifiers:m8(m8({},u.modifiers),d.modifiers),modifiersClassNames:m8(m8({},u.modifiersClassNames),d.modifiersClassNames),onSelect:c,styles:m8(m8({},u.styles),d.styles),toDate:p});return(0,C.jsx)(gs.Provider,{value:g,children:e.children})}function ga(){var e=(0,E.useContext)(gs);if(!e)throw Error("useDayPicker must be used within a DayPickerProvider.");return e}function gl(e){var t=ga(),n=t.locale,r=t.classNames,i=t.styles,s=t.formatters.formatCaption;return(0,C.jsx)("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:n})})}function gc(e){return(0,C.jsx)("svg",m8({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:(0,C.jsx)("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gd(e){var t,n,r=e.onChange,i=e.value,s=e.children,o=e.caption,a=e.className,l=e.style,c=ga(),d=null!==(n=null===(t=c.components)||void 0===t?void 0:t.IconDropdown)&&void 0!==n?n:gc;return(0,C.jsxs)("div",{className:a,style:l,children:[(0,C.jsx)("span",{className:c.classNames.vhidden,children:e["aria-label"]}),(0,C.jsx)("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),(0,C.jsxs)("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,(0,C.jsx)(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function gu(e){var t,n=ga(),r=n.fromDate,i=n.toDate,s=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r||!i)return(0,C.jsx)(C.Fragment,{});var u=[];if(function(e,t,n){let[r,i]=mv(void 0,e,t);return r.getFullYear()===i.getFullYear()}(r,i))for(var h=m$(r),f=r.getMonth();f<=i.getMonth();f++)u.push(mG(h,f));else for(var h=m$(new Date),f=0;f<=11;f++)u.push(mG(h,f));var p=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:gd;return(0,C.jsx)(p,{name:"months","aria-label":d(),className:l.dropdown_month,style:s.dropdown_month,onChange:function(t){var n=Number(t.target.value),r=mG(m$(e.displayMonth),n);e.onChange(r)},value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:o}),children:u.map(function(e){return(0,C.jsx)("option",{value:e.getMonth(),children:a(e,{locale:o})},e.getMonth())})})}function gh(e){var t,n=e.displayMonth,r=ga(),i=r.fromDate,s=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,u=r.labels.labelYearDropdown,h=[];if(!i||!s)return(0,C.jsx)(C.Fragment,{});for(var f=i.getFullYear(),p=s.getFullYear(),m=f;m<=p;m++)h.push(mQ(mb(new Date),m));var g=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:gd;return(0,C.jsx)(g,{name:"years","aria-label":u(),className:l.dropdown_year,style:a.dropdown_year,onChange:function(t){var r=mQ(m$(n),Number(t.target.value));e.onChange(r)},value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(e){return(0,C.jsx)("option",{value:e.getFullYear(),children:d(e,{locale:o})},e.getFullYear())})})}var gf=(0,E.createContext)(void 0);function gp(e){var t,n,r,i,s,o,a,l,c,d,u,h,f,p,m,g,v=ga(),y=(m=(r=(n=t=ga()).month,i=n.defaultMonth,s=n.today,o=r||i||s||new Date,a=n.toDate,l=n.fromDate,c=n.numberOfMonths,a&&0>mX(a,o)&&(o=mJ(a,-1*((void 0===c?1:c)-1))),l&&0>mX(o,l)&&(o=l),d=m$(o),u=t.month,f=(h=(0,E.useState)(d))[0],p=[void 0===u?f:u,h[1]])[0],g=p[1],[m,function(e){if(!t.disableNavigation){var n,r=m$(e);g(r),null===(n=t.onMonthChange)||void 0===n||n.call(t,r)}}]),_=y[0],b=y[1],w=function(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=m$(e),s=mX(m$(mJ(i,r)),i),o=[],a=0;a<s;a++){var l=mJ(i,a);o.push(l)}return n&&(o=o.reverse()),o}(_,v),x=function(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,s=void 0===i?1:i,o=r?s:1,a=m$(e);if(!n||!(mX(n,e)<s))return mJ(a,o)}}(_,v),k=function(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,s=r?void 0===i?1:i:1,o=m$(e);if(!n||!(0>=mX(o,n)))return mJ(o,-s)}}(_,v),S=function(e){return w.some(function(t){return mZ(e,t)})};return(0,C.jsx)(gf.Provider,{value:{currentMonth:_,displayMonths:w,goToMonth:b,goToDate:function(e,t){!S(e)&&(t&&+mm(e)<+mm(t)?b(mJ(e,1+-1*v.numberOfMonths)):b(e))},previousMonth:k,nextMonth:x,isDateDisplayed:S},children:e.children})}function gm(){var e=(0,E.useContext)(gf);if(!e)throw Error("useNavigation must be used within a NavigationProvider");return e}function gg(e){var t,n=ga(),r=n.classNames,i=n.styles,s=n.components,o=gm().goToMonth,a=function(t){o(mJ(t,e.displayIndex?-e.displayIndex:0))},l=null!==(t=null==s?void 0:s.CaptionLabel)&&void 0!==t?t:gl,c=(0,C.jsx)(l,{id:e.id,displayMonth:e.displayMonth});return(0,C.jsxs)("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[(0,C.jsx)("div",{className:r.vhidden,children:c}),(0,C.jsx)(gu,{onChange:a,displayMonth:e.displayMonth}),(0,C.jsx)(gh,{onChange:a,displayMonth:e.displayMonth})]})}function gv(e){return(0,C.jsx)("svg",m8({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,C.jsx)("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gy(e){return(0,C.jsx)("svg",m8({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,C.jsx)("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var g_=(0,E.forwardRef)(function(e,t){var n=ga(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];e.className&&s.push(e.className);var o=s.join(" "),a=m8(m8({},i.button_reset),i.button);return e.style&&Object.assign(a,e.style),(0,C.jsx)("button",m8({},e,{ref:t,type:"button",className:o,style:a}))});function gb(e){var t,n,r=ga(),i=r.dir,s=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,u=r.components;if(!e.nextMonth&&!e.previousMonth)return(0,C.jsx)(C.Fragment,{});var h=c(e.previousMonth,{locale:s}),f=[o.nav_button,o.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:s}),m=[o.nav_button,o.nav_button_next].join(" "),g=null!==(t=null==u?void 0:u.IconRight)&&void 0!==t?t:gy,v=null!==(n=null==u?void 0:u.IconLeft)&&void 0!==n?n:gv;return(0,C.jsxs)("div",{className:o.nav,style:a.nav,children:[!e.hidePrevious&&(0,C.jsx)(g_,{name:"previous-month","aria-label":h,className:f,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:"rtl"===i?(0,C.jsx)(g,{className:o.nav_icon,style:a.nav_icon}):(0,C.jsx)(v,{className:o.nav_icon,style:a.nav_icon})}),!e.hideNext&&(0,C.jsx)(g_,{name:"next-month","aria-label":p,className:m,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:"rtl"===i?(0,C.jsx)(v,{className:o.nav_icon,style:a.nav_icon}):(0,C.jsx)(g,{className:o.nav_icon,style:a.nav_icon})})]})}function gw(e){var t=ga().numberOfMonths,n=gm(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(t){return mZ(e.displayMonth,t)}),l=0===a,c=a===o.length-1;return(0,C.jsx)(gb,{displayMonth:e.displayMonth,hideNext:t>1&&(l||!c),hidePrevious:t>1&&(c||!l),nextMonth:i,previousMonth:r,onPreviousClick:function(){r&&s(r)},onNextClick:function(){i&&s(i)}})}function gx(e){var t,n,r=ga(),i=r.classNames,s=r.disableNavigation,o=r.styles,a=r.captionLayout,l=r.components,c=null!==(t=null==l?void 0:l.CaptionLabel)&&void 0!==t?t:gl;return n=s?(0,C.jsx)(c,{id:e.id,displayMonth:e.displayMonth}):"dropdown"===a?(0,C.jsx)(gg,{displayMonth:e.displayMonth,id:e.id}):"dropdown-buttons"===a?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(gg,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),(0,C.jsx)(gw,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,C.jsx)(gw,{displayMonth:e.displayMonth,id:e.id})]}),(0,C.jsx)("div",{className:i.caption,style:o.caption,children:n})}function gC(e){var t=ga(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?(0,C.jsx)("tfoot",{className:i,style:r.tfoot,children:(0,C.jsx)("tr",{children:(0,C.jsx)("td",{colSpan:8,children:n})})}):(0,C.jsx)(C.Fragment,{})}function gE(){var e=ga(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,o=e.ISOWeek,a=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,c=function(e,t,n){for(var r=n?mx(new Date):mw(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var o=m0(r,s);i.push(o)}return i}(i,s,o);return(0,C.jsxs)("tr",{style:n.head_row,className:t.head_row,children:[r&&(0,C.jsx)("td",{style:n.head_cell,className:t.head_cell}),c.map(function(e,r){return(0,C.jsx)("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(e,{locale:i}),children:a(e,{locale:i})},r)})]})}function gk(){var e,t=ga(),n=t.classNames,r=t.styles,i=t.components,s=null!==(e=null==i?void 0:i.HeadRow)&&void 0!==e?e:gE;return(0,C.jsx)("thead",{style:r.head,className:n.head,children:(0,C.jsx)(s,{})})}function gS(e){var t=ga(),n=t.locale,r=t.formatters.formatDay;return(0,C.jsx)(C.Fragment,{children:r(e.date,{locale:n})})}var gN=(0,E.createContext)(void 0);function gI(e){return m7(e.initialProps)?(0,C.jsx)(gT,{initialProps:e.initialProps,children:e.children}):(0,C.jsx)(gN.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:e.children})}function gT(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,s=t.max,o={disabled:[]};return r&&o.disabled.push(function(e){var t=s&&r.length>s-1,n=r.some(function(t){return m1(t,e)});return!!(t&&!n)}),(0,C.jsx)(gN.Provider,{value:{selected:r,onDayClick:function(e,n,o){if(null===(a=t.onDayClick)||void 0===a||a.call(t,e,n,o),(!n.selected||!i||(null==r?void 0:r.length)!==i)&&(n.selected||!s||(null==r?void 0:r.length)!==s)){var a,l,c=r?m9([],r,!0):[];if(n.selected){var d=c.findIndex(function(t){return m1(e,t)});c.splice(d,1)}else c.push(e);null===(l=t.onSelect)||void 0===l||l.call(t,c,e,n,o)}},modifiers:o},children:n})}function gP(){var e=(0,E.useContext)(gN);if(!e)throw Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var gR=(0,E.createContext)(void 0);function gj(e){return ge(e.initialProps)?(0,C.jsx)(gO,{initialProps:e.initialProps,children:e.children}):(0,C.jsx)(gR.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:e.children})}function gO(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},s=i.from,o=i.to,a=t.min,l=t.max,c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(c.range_start=[s],o?(c.range_end=[o],m1(s,o)||(c.range_middle=[{after:s,before:o}])):c.range_end=[s]):o&&(c.range_start=[o],c.range_end=[o]),a&&(s&&!o&&c.disabled.push({after:m0(s,-(a-1),void 0),before:m0(s,a-1)}),s&&o&&c.disabled.push({after:s,before:m0(s,a-1)}),!s&&o&&c.disabled.push({after:m0(o,-(a-1),void 0),before:m0(o,a-1)})),l){if(s&&!o&&(c.disabled.push({before:m0(s,-l+1)}),c.disabled.push({after:m0(s,l-1)})),s&&o){var d=l-(m_(o,s)+1);c.disabled.push({before:m0(s,-d,void 0)}),c.disabled.push({after:m0(o,d)})}!s&&o&&(c.disabled.push({before:m0(o,-l+1)}),c.disabled.push({after:m0(o,l-1)}))}return(0,C.jsx)(gR.Provider,{value:{selected:r,onDayClick:function(e,n,i){null===(s=t.onDayClick)||void 0===s||s.call(t,e,n,i);var s,o,a=function(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?m1(i,e)&&m1(r,e)?void 0:m1(i,e)?{from:i,to:void 0}:m1(r,e)?void 0:m2(r,e)?{from:e,to:i}:{from:r,to:e}:i?m2(e,i)?{from:i,to:e}:{from:e,to:i}:r?+mm(e)<+mm(r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}(e,r);null===(o=t.onSelect)||void 0===o||o.call(t,a,e,n,i)},modifiers:c},children:n})}function gD(){var e=(0,E.useContext)(gR);if(!e)throw Error("useSelectRange must be used within a SelectRangeProvider");return e}function gM(e){return Array.isArray(e)?m9([],e,!0):void 0!==e?[e]:[]}!function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"}(x||(x={}));var gA=x.Selected,gL=x.Disabled,gF=x.Hidden,gU=x.Today,gH=x.RangeEnd,gW=x.RangeMiddle,gq=x.RangeStart,gz=x.Outside,gB=(0,E.createContext)(void 0);function gV(e){var t,n,r,i=ga(),s=gP(),o=gD(),a=((t={})[gA]=gM(i.selected),t[gL]=gM(i.disabled),t[gF]=gM(i.hidden),t[gU]=[i.today],t[gH]=[],t[gW]=[],t[gq]=[],t[gz]=[],i.fromDate&&t[gL].push({before:i.fromDate}),i.toDate&&t[gL].push({after:i.toDate}),m7(i)?t[gL]=t[gL].concat(s.modifiers[gL]):ge(i)&&(t[gL]=t[gL].concat(o.modifiers[gL]),t[gq]=o.modifiers[gq],t[gW]=o.modifiers[gW],t[gH]=o.modifiers[gH]),t),l=(n=i.modifiers,r={},Object.entries(n).forEach(function(e){var t=e[0],n=e[1];r[t]=gM(n)}),r),c=m8(m8({},a),l);return(0,C.jsx)(gB.Provider,{value:c,children:e.children})}function gK(){var e=(0,E.useContext)(gB);if(!e)throw Error("useModifiers must be used within a ModifiersProvider");return e}function g$(e,t,n){var r=Object.keys(t).reduce(function(n,r){return t[r].some(function(t){if("boolean"==typeof t)return t;if(mH(t))return m1(e,t);if(Array.isArray(t)&&t.every(mH))return t.includes(e);if(t&&"object"==typeof t&&"from"in t)return r=t.from,i=t.to,r&&i?(0>m_(i,r)&&(r=(n=[i,r])[0],i=n[1]),m_(e,r)>=0&&m_(i,e)>=0):i?m1(i,e):!!r&&m1(r,e);if(t&&"object"==typeof t&&"dayOfWeek"in t)return t.dayOfWeek.includes(e.getDay());if(t&&"object"==typeof t&&"before"in t&&"after"in t){var n,r,i,s=m_(t.before,e),o=m_(t.after,e),a=s>0,l=o<0;return m2(t.before,t.after)?l&&a:a||l}return t&&"object"==typeof t&&"after"in t?m_(e,t.after)>0:t&&"object"==typeof t&&"before"in t?m_(t.before,e)>0:"function"==typeof t&&t(e)})&&n.push(r),n},[]),i={};return r.forEach(function(e){return i[e]=!0}),n&&!mZ(e,n)&&(i.outside=!0),i}var gY=(0,E.createContext)(void 0);function gG(e){var t=gm(),n=gK(),r=(0,E.useState)(),i=r[0],s=r[1],o=(0,E.useState)(),a=o[0],l=o[1],c=function(e,t){for(var n,r,i=m$(e[0]),s=mY(e[e.length-1]),o=i;o<=s;){var a=g$(o,t);if(!(!a.disabled&&!a.hidden)){o=m0(o,1);continue}if(a.selected)return o;a.today&&!r&&(r=o),n||(n=o),o=m0(o,1)}return r||n}(t.displayMonths,n),d=(null!=i?i:a&&t.isDateDisplayed(a))?a:c,u=function(e){s(e)},h=ga(),f=function(e,r){if(i){var s=function e(t,n){var r=n.moveBy,i=n.direction,s=n.context,o=n.modifiers,a=n.retry,l=void 0===a?{count:0,lastFocused:t}:a,c=s.weekStartsOn,d=s.fromDate,u=s.toDate,h=s.locale,f=({day:m0,week:m4,month:mJ,year:m3,startOfWeek:function(e){return s.ISOWeek?mx(e):mw(e,{locale:h,weekStartsOn:c})},endOfWeek:function(e){return s.ISOWeek?m6(e):m5(e,{locale:h,weekStartsOn:c})}})[r](t,"after"===i?1:-1);if("before"===i&&d){let e,t;t=void 0,[d,f].forEach(n=>{t||"object"!=typeof n||(t=mp.bind(null,n));let r=mm(n,t);(!e||e<r||isNaN(+r))&&(e=r)}),f=mp(t,e||NaN)}else if("after"===i&&u){let e,t;t=void 0,[u,f].forEach(n=>{t||"object"!=typeof n||(t=mp.bind(null,n));let r=mm(n,t);(!e||e>r||isNaN(+r))&&(e=r)}),f=mp(t,e||NaN)}var p=!0;if(o){var m=g$(f,o);p=!m.disabled&&!m.hidden}return p?f:l.count>365?l.lastFocused:e(f,{moveBy:r,direction:i,context:s,modifiers:o,retry:m8(m8({},l),{count:l.count+1})})}(i,{moveBy:e,direction:r,context:h,modifiers:n});m1(i,s)||(t.goToDate(s,i),u(s))}};return(0,C.jsx)(gY.Provider,{value:{focusedDay:i,focusTarget:d,blur:function(){l(i),s(void 0)},focus:u,focusDayAfter:function(){return f("day","after")},focusDayBefore:function(){return f("day","before")},focusWeekAfter:function(){return f("week","after")},focusWeekBefore:function(){return f("week","before")},focusMonthBefore:function(){return f("month","before")},focusMonthAfter:function(){return f("month","after")},focusYearBefore:function(){return f("year","before")},focusYearAfter:function(){return f("year","after")},focusStartOfWeek:function(){return f("startOfWeek","before")},focusEndOfWeek:function(){return f("endOfWeek","after")}},children:e.children})}function gQ(){var e=(0,E.useContext)(gY);if(!e)throw Error("useFocusContext must be used within a FocusProvider");return e}var gX=(0,E.createContext)(void 0);function gJ(e){return gt(e.initialProps)?(0,C.jsx)(gZ,{initialProps:e.initialProps,children:e.children}):(0,C.jsx)(gX.Provider,{value:{selected:void 0},children:e.children})}function gZ(e){var t=e.initialProps,n=e.children,r={selected:t.selected,onDayClick:function(e,n,r){var i,s,o;if(null===(i=t.onDayClick)||void 0===i||i.call(t,e,n,r),n.selected&&!t.required){null===(s=t.onSelect)||void 0===s||s.call(t,void 0,e,n,r);return}null===(o=t.onSelect)||void 0===o||o.call(t,e,e,n,r)}};return(0,C.jsx)(gX.Provider,{value:r,children:n})}function g0(){var e=(0,E.useContext)(gX);if(!e)throw Error("useSelectSingle must be used within a SelectSingleProvider");return e}function g1(e){var t,n,r,i,s,o,a,l,c,d,u,h,f,p,m,g,v,y,_,b,w,k,S,N,I,T,P,R,j,O,D,M,A,L,F,U,H,W,q,z,B,V=(0,E.useRef)(null),K=(t=e.date,n=e.displayMonth,o=ga(),a=gQ(),l=g$(t,gK(),n),c=ga(),d=g0(),u=gP(),h=gD(),p=(f=gQ()).focusDayAfter,m=f.focusDayBefore,g=f.focusWeekAfter,v=f.focusWeekBefore,y=f.blur,_=f.focus,b=f.focusMonthBefore,w=f.focusMonthAfter,k=f.focusYearBefore,S=f.focusYearAfter,N=f.focusStartOfWeek,I=f.focusEndOfWeek,T=ga(),P=g0(),R=gP(),j=gD(),O=gt(T)?P.selected:m7(T)?R.selected:ge(T)?j.selected:void 0,D=!!(o.onDayClick||"default"!==o.mode),(0,E.useEffect)(function(){var e;!l.outside&&a.focusedDay&&D&&m1(a.focusedDay,t)&&(null===(e=V.current)||void 0===e||e.focus())},[a.focusedDay,t,V,D,l.outside]),A=(M=[o.classNames.day],Object.keys(l).forEach(function(e){var t=o.modifiersClassNames[e];if(t)M.push(t);else if(Object.values(x).includes(e)){var n=o.classNames["day_".concat(e)];n&&M.push(n)}}),M).join(" "),L=m8({},o.styles.day),Object.keys(l).forEach(function(e){var t;L=m8(m8({},L),null===(t=o.modifiersStyles)||void 0===t?void 0:t[e])}),F=L,U=!!(l.outside&&!o.showOutsideDays||l.hidden),H=null!==(s=null===(i=o.components)||void 0===i?void 0:i.DayContent)&&void 0!==s?s:gS,W={style:F,className:A,children:(0,C.jsx)(H,{date:t,displayMonth:n,activeModifiers:l}),role:"gridcell"},q=a.focusTarget&&m1(a.focusTarget,t)&&!l.outside,z=a.focusedDay&&m1(a.focusedDay,t),B=m8(m8(m8({},W),((r={disabled:l.disabled,role:"gridcell"})["aria-selected"]=l.selected,r.tabIndex=z||q?0:-1,r)),{onClick:function(e){var n,r,i,s;gt(c)?null===(n=d.onDayClick)||void 0===n||n.call(d,t,l,e):m7(c)?null===(r=u.onDayClick)||void 0===r||r.call(u,t,l,e):ge(c)?null===(i=h.onDayClick)||void 0===i||i.call(h,t,l,e):null===(s=c.onDayClick)||void 0===s||s.call(c,t,l,e)},onFocus:function(e){var n;_(t),null===(n=c.onDayFocus)||void 0===n||n.call(c,t,l,e)},onBlur:function(e){var n;y(),null===(n=c.onDayBlur)||void 0===n||n.call(c,t,l,e)},onKeyDown:function(e){var n;switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),"rtl"===c.dir?p():m();break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),"rtl"===c.dir?m():p();break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),g();break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),v();break;case"PageUp":e.preventDefault(),e.stopPropagation(),e.shiftKey?k():b();break;case"PageDown":e.preventDefault(),e.stopPropagation(),e.shiftKey?S():w();break;case"Home":e.preventDefault(),e.stopPropagation(),N();break;case"End":e.preventDefault(),e.stopPropagation(),I()}null===(n=c.onDayKeyDown)||void 0===n||n.call(c,t,l,e)},onKeyUp:function(e){var n;null===(n=c.onDayKeyUp)||void 0===n||n.call(c,t,l,e)},onMouseEnter:function(e){var n;null===(n=c.onDayMouseEnter)||void 0===n||n.call(c,t,l,e)},onMouseLeave:function(e){var n;null===(n=c.onDayMouseLeave)||void 0===n||n.call(c,t,l,e)},onPointerEnter:function(e){var n;null===(n=c.onDayPointerEnter)||void 0===n||n.call(c,t,l,e)},onPointerLeave:function(e){var n;null===(n=c.onDayPointerLeave)||void 0===n||n.call(c,t,l,e)},onTouchCancel:function(e){var n;null===(n=c.onDayTouchCancel)||void 0===n||n.call(c,t,l,e)},onTouchEnd:function(e){var n;null===(n=c.onDayTouchEnd)||void 0===n||n.call(c,t,l,e)},onTouchMove:function(e){var n;null===(n=c.onDayTouchMove)||void 0===n||n.call(c,t,l,e)},onTouchStart:function(e){var n;null===(n=c.onDayTouchStart)||void 0===n||n.call(c,t,l,e)}}),{isButton:D,isHidden:U,activeModifiers:l,selectedDays:O,buttonProps:B,divProps:W});return K.isHidden?(0,C.jsx)("div",{role:"gridcell"}):K.isButton?(0,C.jsx)(g_,m8({name:"day",ref:V},K.buttonProps)):(0,C.jsx)("div",m8({},K.divProps))}function g2(e){var t=e.number,n=e.dates,r=ga(),i=r.onWeekNumberClick,s=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=(0,r.formatters.formatWeekNumber)(Number(t),{locale:a});if(!i)return(0,C.jsx)("span",{className:o.weeknumber,style:s.weeknumber,children:c});var d=l(Number(t),{locale:a});return(0,C.jsx)(g_,{name:"week-number","aria-label":d,className:o.weeknumber,style:s.weeknumber,onClick:function(e){i(t,n,e)},children:c})}function g4(e){var t,n,r,i=ga(),s=i.styles,o=i.classNames,a=i.showWeekNumber,l=i.components,c=null!==(t=null==l?void 0:l.Day)&&void 0!==t?t:g1,d=null!==(n=null==l?void 0:l.WeekNumber)&&void 0!==n?n:g2;return a&&(r=(0,C.jsx)("td",{className:o.cell,style:s.cell,children:(0,C.jsx)(d,{number:e.weekNumber,dates:e.dates})})),(0,C.jsxs)("tr",{className:o.row,style:s.row,children:[r,e.dates.map(function(t){return(0,C.jsx)("td",{className:o.cell,style:s.cell,role:"presentation",children:(0,C.jsx)(c,{displayMonth:e.displayMonth,date:t})},Math.trunc(+mm(t)/1e3))})]})}function g3(e,t,n){for(var r=(null==n?void 0:n.ISOWeek)?m6(t):m5(t,n),i=(null==n?void 0:n.ISOWeek)?mx(e):mw(e,n),s=m_(r,i),o=[],a=0;a<=s;a++)o.push(m0(i,a));return o.reduce(function(e,t){var r=(null==n?void 0:n.ISOWeek)?mE(t):mS(t,n),i=e.find(function(e){return e.weekNumber===r});return i?i.dates.push(t):e.push({weekNumber:r,dates:[t]}),e},[])}function g5(e){var t,n,r,i=ga(),s=i.locale,o=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,d=i.components,u=i.weekStartsOn,h=i.firstWeekContainsDate,f=i.ISOWeek,p=function(e,t){var n=g3(m$(e),mY(e),t);if(null==t?void 0:t.useFixedWeeks){var r=function(e,t){let n=mm(e,t?.in);return function(e,t,n){let[r,i]=mv(n?.in,e,t),s=mw(r,n),o=mw(i,n);return Math.round((+s-mg(s)-(+o-mg(o)))/6048e5)}(function(e,t){let n=mm(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),mm(n,t?.in)}(n,t),m$(n,t),t)+1}(e,t);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],o=m4(s,6-r),a=g3(m4(s,1),o,t);n.push.apply(n,a)}}return n}(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:f,locale:s,weekStartsOn:u,firstWeekContainsDate:h}),m=null!==(t=null==d?void 0:d.Head)&&void 0!==t?t:gk,g=null!==(n=null==d?void 0:d.Row)&&void 0!==n?n:g4,v=null!==(r=null==d?void 0:d.Footer)&&void 0!==r?r:gC;return(0,C.jsxs)("table",{id:e.id,className:o.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&(0,C.jsx)(m,{}),(0,C.jsx)("tbody",{className:o.tbody,style:a.tbody,children:p.map(function(t){return(0,C.jsx)(g,{displayMonth:e.displayMonth,dates:t.dates,weekNumber:t.weekNumber},t.weekNumber)})}),(0,C.jsx)(v,{displayMonth:e.displayMonth})]})}var g6="undefined"!=typeof window&&window.document&&window.document.createElement?E.useLayoutEffect:E.useEffect,g8=!1,g9=0;function g7(){return"react-day-picker-".concat(++g9)}function ve(e){var t,n,r,i,s,o,a,l,c=ga(),d=c.dir,u=c.classNames,h=c.styles,f=c.components,p=gm().displayMonths,m=(r=null!=(t=c.id?"".concat(c.id,"-").concat(e.displayIndex):void 0)?t:g8?g7():null,s=(i=(0,E.useState)(r))[0],o=i[1],g6(function(){null===s&&o(g7())},[]),(0,E.useEffect)(function(){!1===g8&&(g8=!0)},[]),null!==(n=null!=t?t:s)&&void 0!==n?n:void 0),g=c.id?"".concat(c.id,"-grid-").concat(e.displayIndex):void 0,v=[u.month],y=h.month,_=0===e.displayIndex,b=e.displayIndex===p.length-1,w=!_&&!b;"rtl"===d&&(b=(a=[_,b])[0],_=a[1]),_&&(v.push(u.caption_start),y=m8(m8({},y),h.caption_start)),b&&(v.push(u.caption_end),y=m8(m8({},y),h.caption_end)),w&&(v.push(u.caption_between),y=m8(m8({},y),h.caption_between));var x=null!==(l=null==f?void 0:f.Caption)&&void 0!==l?l:gx;return(0,C.jsxs)("div",{className:v.join(" "),style:y,children:[(0,C.jsx)(x,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,C.jsx)(g5,{id:g,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function vt(e){var t=ga(),n=t.classNames,r=t.styles;return(0,C.jsx)("div",{className:n.months,style:r.months,children:e.children})}function vn(e){var t,n,r=e.initialProps,i=ga(),s=gQ(),o=gm(),a=(0,E.useState)(!1),l=a[0],c=a[1];(0,E.useEffect)(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var u=m8(m8({},i.styles.root),i.style),h=Object.keys(r).filter(function(e){return e.startsWith("data-")}).reduce(function(e,t){var n;return m8(m8({},e),((n={})[t]=r[t],n))},{}),f=null!==(n=null===(t=r.components)||void 0===t?void 0:t.Months)&&void 0!==n?n:vt;return(0,C.jsx)("div",m8({className:d.join(" "),style:u,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:(0,C.jsx)(f,{children:o.displayMonths.map(function(e,t){return(0,C.jsx)(ve,{displayIndex:t,displayMonth:e},t)})})}))}function vr(e){var t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(e,["children"]);return(0,C.jsx)(go,{initialProps:n,children:(0,C.jsx)(gp,{children:(0,C.jsx)(gJ,{initialProps:n,children:(0,C.jsx)(gI,{initialProps:n,children:(0,C.jsx)(gj,{initialProps:n,children:(0,C.jsx)(gV,{children:(0,C.jsx)(gG,{children:t})})})})})})})}function vi(e){return(0,C.jsx)(vr,m8({},e,{children:(0,C.jsx)(vn,{initialProps:e})}))}function vs({className:e,classNames:t,showOutsideDays:n=!0,...r}){return(0,C.jsx)(vi,{showOutsideDays:n,className:eb("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:eb(tC({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:eb(tC({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>(0,C.jsx)(mn,{className:"h-4 w-4"}),IconRight:({...e})=>(0,C.jsx)(mr,{className:"h-4 w-4"})},...r})}vs.displayName="Calendar";var vo="AlertDialog",[va,vl]=eS(vo,[po]),vc=po(),vd=e=>{let{__scopeAlertDialog:t,...n}=e,r=vc(t);return(0,C.jsx)(pc,{...r,...n,modal:!0})};vd.displayName=vo;var vu=E.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=vc(n);return(0,C.jsx)(pu,{...i,...r,ref:t})});vu.displayName="AlertDialogTrigger";var vh=e=>{let{__scopeAlertDialog:t,...n}=e,r=vc(t);return(0,C.jsx)(pm,{...r,...n})};vh.displayName="AlertDialogPortal";var vf=E.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=vc(n);return(0,C.jsx)(pv,{...i,...r,ref:t})});vf.displayName="AlertDialogOverlay";var vp="AlertDialogContent",[vm,vg]=va(vp),vv=E.forwardRef((e,t)=>{let{__scopeAlertDialog:n,children:r,...i}=e,s=vc(n),o=E.useRef(null),a=eT(t,o),l=E.useRef(null);return(0,C.jsx)(pj,{contentName:vp,titleName:vy,docsSlug:"alert-dialog",children:(0,C.jsx)(vm,{scope:n,cancelRef:l,children:(0,C.jsxs)(pb,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:ek(i.onOpenAutoFocus,e=>{e.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,C.jsx)(ej,{children:r}),(0,C.jsx)(vk,{contentRef:o})]})})})});vv.displayName=vp;var vy="AlertDialogTitle",v_=E.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=vc(n);return(0,C.jsx)(pk,{...i,...r,ref:t})});v_.displayName=vy;var vb="AlertDialogDescription",vw=E.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=vc(n);return(0,C.jsx)(pN,{...i,...r,ref:t})});vw.displayName=vb;var vx=E.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=vc(n);return(0,C.jsx)(pT,{...i,...r,ref:t})});vx.displayName="AlertDialogAction";var vC="AlertDialogCancel",vE=E.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=vg(vC,n),s=vc(n),o=eT(t,i);return(0,C.jsx)(pT,{...s,...r,ref:o})});vE.displayName=vC;var vk=({contentRef:e})=>{let t=`\`${vp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vp}\` by passing a \`${vb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};let vS=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(vf,{className:eb("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));vS.displayName=vf.displayName;let vN=E.forwardRef(({className:e,...t},n)=>(0,C.jsxs)(vh,{children:[(0,C.jsx)(vS,{}),(0,C.jsx)(vv,{ref:n,className:eb("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));vN.displayName=vv.displayName;let vI=({className:e,...t})=>(0,C.jsx)("div",{className:eb("flex flex-col space-y-2 text-center sm:text-left",e),...t});vI.displayName="AlertDialogHeader";let vT=({className:e,...t})=>(0,C.jsx)("div",{className:eb("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});vT.displayName="AlertDialogFooter";let vP=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(v_,{ref:n,className:eb("text-lg font-semibold",e),...t}));vP.displayName=v_.displayName;let vR=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(vw,{ref:n,className:eb("text-sm text-muted-foreground",e),...t}));vR.displayName=vw.displayName;let vj=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(vx,{ref:n,className:eb(tC(),e),...t}));vj.displayName=vx.displayName;let vO=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(vE,{ref:n,className:eb(tC({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));vO.displayName=vE.displayName;let vD=i4("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),vM=i4("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),vA=i4("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),vL=i4("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),vF=i4("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),vU=i4("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),vH={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}},vW={date:ms({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:ms({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ms({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},vq={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},vz={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},vB={code:"es",formatDistance:(e,t,n)=>{let r;let i=vH[e];return(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix)?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},formatLong:vW,formatRelative:(e,t,n,r)=>1!==t.getHours()?vz[e]:vq[e],localize:{ordinalNumber:(e,t)=>Number(e)+"\xba",era:ml({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:ml({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:ml({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:ml({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:ml({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:md({matchPattern:/^(\d+)(º)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:mc({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},defaultParseWidth:"any"}),quarter:mc({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mc({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:mc({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mc({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function vV({users:e,loading:t}){let[n,r]=(0,E.useState)(null),[i,s]=(0,E.useState)(""),[o,a]=(0,E.useState)(""),[l,c]=(0,E.useState)(""),[d,u]=(0,E.useState)(""),[h,f]=(0,E.useState)(!1),[p,m]=(0,E.useState)(null),[g,v]=(0,E.useState)(""),[y,_]=(0,E.useState)(!1),b=e.filter(e=>{let t=g.toLowerCase();return e.username.toLowerCase().includes(t)}),w=async e=>{let t=`Usuario: ${e.username}
Contrase\xf1a: ${e.password}
Vence: ${I(e.expirationDate)}`;try{await navigator.clipboard.writeText(t),f9.o.success(`Credenciales de "${e.username}" copiadas al portapapeles`)}catch(r){let n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),f9.o.success(`Credenciales de "${e.username}" copiadas al portapapeles`)}},x=async(e,t)=>{m(e);try{let n=hM(f8,`users/${e}`);await (u8("remove",n._path),hF(n,null)),f9.o.success(`Usuario "${t}" eliminado exitosamente`)}catch(e){console.error("Error deleting user:",e),f9.o.error(`Error al eliminar usuario "${t}". Verifica tu conexi\xf3n.`)}finally{m(null)}},k=e=>{r(e),s(e.username),a(e.password);let t=new Date(e.expirationDate),n=new Date;c(Math.max(1,Math.ceil((t.getTime()-n.getTime())/864e5)).toString());let i=new Date(e.expirationDate),o=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),d=String(i.getDate()).padStart(2,"0");u(`${o}-${l}-${d}`)},S=async()=>{if(!n||!i.trim()||!o.trim()){f9.o.error("Por favor completa todos los campos");return}f(!0);try{let e;let t=hM(f8,`users/${n.id}`);d?e=new Date(d):(e=new Date).setDate(e.getDate()+Number.parseInt(l)),await function(e,t){u4("update",t,e._path,!1);let n=new sb;return function(e,t,n,r){hf(e,"update",{path:t.toString(),value:n});let i=!0,s=ho(e),o={};if(l1(n,(n,r)=>{i=!1,o[n]=uU(cI(t,n),c9(r),e.serverSyncTree_,s)}),i)lH("update() called with empty data.  Don't do anything."),hp(e,r,"ok",void 0);else{let i=hd(e),s=function(e,t,n,r){var i;i=e.pendingWriteTree_,si(r>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:n,writeId:r,visible:!0}),i.visibleWrites=dq(i.visibleWrites,t,n),i.lastWriteId=r;let s=dU.fromObject(n);return uS(e,new dT(dC(),t,s))}(e.serverSyncTree_,t,o,i);he(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{let o="ok"===n;o||lB("update at "+t+" failed: "+n);let a=uw(e.serverSyncTree_,i,!o),l=a.length>0?hg(e,t):t;hn(e.eventQueue_,l,a),hp(e,r,n,s)}),l1(n,n=>{let r=hb(e,cI(t,n));hg(e,r)}),hn(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}(t,{username:i.trim(),password:o.trim(),expirationDate:e.toISOString()}),f9.o.success(`Usuario "${i.trim()}" actualizado exitosamente`),r(null),u("")}catch(e){console.error("Error updating user:",e),f9.o.error("Error al actualizar usuario")}finally{f(!1)}},N=e=>{let t=new Date(e),n=new Date,r=Math.ceil((t.getTime()-n.getTime())/864e5);return r<=0?{status:"expired",days:r,color:"destructive",className:"status-expired"}:r<=7?{status:"warning",days:r,color:"secondary",className:"status-warning"}:{status:"active",days:r,color:"default",className:"status-active"}},I=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return t?(0,C.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"loading-spinner animate-spin rounded-full h-8 w-8 border-b-2 mx-auto"}),(0,C.jsx)("p",{className:"text-muted-foreground mt-2",children:"Cargando usuarios..."})]})}):(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)(vD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,C.jsx)(tk,{placeholder:"Buscar por usuario, ID o dispositivo...",value:g,onChange:e=>v(e.target.value),className:"pl-10 pr-10"}),g&&(0,C.jsx)(tE,{variant:"ghost",size:"sm",onClick:()=>v(""),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-muted",children:(0,C.jsx)(pA,{className:"h-3 w-3"})})]}),g&&(0,C.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[b.length," de ",e.length," usuarios encontrados"]})]}),t?(0,C.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"loading-spinner animate-spin rounded-full h-8 w-8 border-b-2 mx-auto"}),(0,C.jsx)("p",{className:"text-muted-foreground mt-2",children:"Cargando usuarios..."})]})}):0===b.length?(0,C.jsxs)("div",{className:"text-center py-12",children:[(0,C.jsx)("div",{className:"mx-auto h-12 w-12 text-muted-foreground",children:(0,C.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,C.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,C.jsx)("h3",{className:"mt-2 text-sm font-medium",children:g?"No se encontraron usuarios":"No hay usuarios"}),(0,C.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:g?"Intenta con otros t\xe9rminos de b\xfasqueda":'Comienza creando tu primer usuario en la pesta\xf1a "Crear Usuario"'})]}):(0,C.jsx)("div",{className:"space-y-3",children:b.slice().sort((e,t)=>{let n=e.createdAt?new Date(e.createdAt).getTime():0;return(t.createdAt?new Date(t.createdAt).getTime():0)-n}).map(e=>{let t=N(e.expirationDate);return(0,C.jsx)(ew,{className:"card-hover",children:(0,C.jsx)(eE,{className:"p-4",children:(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)("div",{className:"flex-1",children:(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[(0,C.jsx)("div",{className:"flex-shrink-0",children:(0,C.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,C.jsx)(f7,{className:"h-5 w-5 text-primary"})})}),(0,C.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,C.jsx)("h3",{className:"text-sm font-medium truncate",children:e.username}),(0,C.jsxs)("p",{className:"text-xs text-muted-foreground truncate mb-1",children:["ID: ",e.id]}),(0,C.jsx)("div",{className:"flex flex-col items-start justify-center my-2 gap-1",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(vM,{className:"h-4 w-4 text-primary"}),(0,C.jsx)("span",{className:`text-xs font-semibold ${e.device?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:e.device?e.device:"No asignado"})]})}),(0,C.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mt-2",children:[(0,C.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,C.jsx)(pt,{className:"h-3 w-3"}),(0,C.jsxs)("span",{children:["Vence: ",I(e.expirationDate)]})]}),(0,C.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,C.jsx)(vA,{className:"h-3 w-3"}),(0,C.jsxs)("span",{children:["Creado: ",e.createdAt?I(e.createdAt):"Desconocido"]})]})]}),(0,C.jsxs)("div",{className:"flex gap-2 mt-2 sm:hidden",children:[(0,C.jsx)(pz,{variant:t.color,className:t.className+" min-w-[48px] justify-center",children:t.days<=0?"Expirado":`${t.days} d\xedas`}),(0,C.jsx)(tE,{variant:"outline",size:"sm",onClick:()=>k(e),className:"interactive-element",children:(0,C.jsx)(vL,{className:"h-4 w-4"})}),(0,C.jsx)(tE,{variant:"outline",size:"sm",onClick:()=>w(e),className:"interactive-element hover:bg-green-50 hover:border-green-200 dark:hover:bg-green-900/20 dark:hover:border-green-700",children:(0,C.jsx)(vF,{className:"h-4 w-4"})}),(0,C.jsxs)(vd,{children:[(0,C.jsx)(vu,{asChild:!0,children:(0,C.jsx)(tE,{variant:"outline",size:"sm",className:"interactive-element hover:bg-red-50 hover:border-red-200 dark:hover:bg-red-900/20 dark:hover:border-red-700",disabled:p===e.id,children:p===e.id?(0,C.jsx)("div",{className:"loading-spinner animate-spin rounded-full h-4 w-4 border-b-2"}):(0,C.jsx)(vU,{className:"h-4 w-4"})})}),(0,C.jsxs)(vN,{className:"glass-effect",children:[(0,C.jsxs)(vI,{children:[(0,C.jsx)(vP,{children:"\xbfEliminar usuario?"}),(0,C.jsxs)(vR,{children:["Esta acci\xf3n eliminar\xe1 permanentemente al usuario ",(0,C.jsxs)("strong",{children:['"',e.username,'"']})," de Firebase. Esta acci\xf3n no se puede deshacer."]})]}),(0,C.jsxs)(vT,{children:[(0,C.jsx)(vO,{children:"Cancelar"}),(0,C.jsx)(vj,{onClick:()=>x(e.id,e.username),className:"bg-destructive hover:bg-destructive/90",children:"Eliminar Usuario"})]})]})]})]})]})]})}),(0,C.jsxs)("div",{className:"hidden sm:flex items-center gap-2",children:[(0,C.jsx)(pz,{variant:t.color,className:t.className+" min-w-[48px] justify-center",children:t.days<=0?"Expirado":`${t.days} d\xedas`}),(0,C.jsx)(tE,{variant:"outline",size:"sm",onClick:()=>k(e),className:"interactive-element",children:(0,C.jsx)(vL,{className:"h-4 w-4"})}),(0,C.jsx)(tE,{variant:"outline",size:"sm",onClick:()=>w(e),className:"interactive-element hover:bg-green-50 hover:border-green-200 dark:hover:bg-green-900/20 dark:hover:border-green-700",children:(0,C.jsx)(vF,{className:"h-4 w-4"})}),(0,C.jsxs)(vd,{children:[(0,C.jsx)(vu,{asChild:!0,children:(0,C.jsx)(tE,{variant:"outline",size:"sm",className:"interactive-element hover:bg-red-50 hover:border-red-200 dark:hover:bg-red-900/20 dark:hover:border-red-700",disabled:p===e.id,children:p===e.id?(0,C.jsx)("div",{className:"loading-spinner animate-spin rounded-full h-4 w-4 border-b-2"}):(0,C.jsx)(vU,{className:"h-4 w-4"})})}),(0,C.jsxs)(vN,{className:"glass-effect",children:[(0,C.jsxs)(vI,{children:[(0,C.jsx)(vP,{children:"\xbfEliminar usuario?"}),(0,C.jsxs)(vR,{children:["Esta acci\xf3n eliminar\xe1 permanentemente al usuario ",(0,C.jsxs)("strong",{children:['"',e.username,'"']})," de Firebase. Esta acci\xf3n no se puede deshacer."]})]}),(0,C.jsxs)(vT,{children:[(0,C.jsx)(vO,{children:"Cancelar"}),(0,C.jsx)(vj,{onClick:()=>x(e.id,e.username),className:"bg-destructive hover:bg-destructive/90",children:"Eliminar Usuario"})]})]})]})]})]})})},e.id)})}),(0,C.jsx)(pc,{open:!!n,onOpenChange:e=>{r(e?n:null),_(e)},children:(0,C.jsxs)(pF,{className:"glass-effect",children:[(0,C.jsxs)(pU,{children:[(0,C.jsx)(pH,{children:"Editar Usuario"}),(0,C.jsxs)(pW,{children:['Modifica los datos del usuario "',n?.username,'"']})]}),(0,C.jsxs)("div",{className:"space-y-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)(tI,{htmlFor:"edit-username",children:"Usuario"}),(0,C.jsx)(tk,{id:"edit-username",value:i,onChange:e=>s(e.target.value),disabled:h})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(tI,{htmlFor:"edit-password",children:"Contrase\xf1a"}),(0,C.jsx)(tk,{id:"edit-password",value:o,onChange:e=>a(e.target.value),disabled:h})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(tI,{htmlFor:"edit-expiration",children:"D\xedas de vencimiento"}),(0,C.jsxs)("div",{className:"flex gap-2",children:[(0,C.jsxs)(id,{value:l,onValueChange:e=>{c(e),u("")},disabled:h,children:[(0,C.jsx)(i8,{className:"flex-1",children:(0,C.jsx)(im,{placeholder:"Seleccionar d\xedas"})}),(0,C.jsxs)(se,{children:[(0,C.jsx)(st,{value:"7",children:"7 d\xedas"}),(0,C.jsx)(st,{value:"30",children:"30 d\xedas"}),(0,C.jsx)(st,{value:"60",children:"60 d\xedas"}),(0,C.jsx)(st,{value:"90",children:"90 d\xedas"})]})]}),(0,C.jsxs)(pQ,{children:[(0,C.jsx)(pZ,{asChild:!0,children:(0,C.jsx)(tE,{variant:"outline",size:"icon",className:"interactive-element",disabled:h,children:(0,C.jsx)(pt,{className:"h-4 w-4"})})}),(0,C.jsx)(mt,{className:"w-auto p-0",align:"end",children:(0,C.jsx)(vs,{mode:"single",selected:d?new Date(d+"T00:00:00"):void 0,onSelect:e=>{if(e){let t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");u(`${t}-${n}-${r}`),c("")}},disabled:e=>e<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0,locale:vB})})]})]}),d&&(0,C.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Fecha seleccionada: ",mK(new Date(d+"T00:00:00"),"PPP",{locale:vB})]})]}),(0,C.jsx)(tE,{onClick:S,disabled:h,className:"w-full btn-primary",children:h?"Guardando...":"Guardar Cambios"})]})]})})]})}let vK=E.forwardRef(({className:e,...t},n)=>(0,C.jsx)("textarea",{className:eb("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));vK.displayName="Textarea";let v$=i4("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),vY=i4("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),vG=i4("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),vQ=i4("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vX=i4("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),vJ=i4("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),vZ=i4("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),v0=i4("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),v1=i4("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function v2(){let[e,t]=(0,E.useState)(""),[n,r]=(0,E.useState)(""),[i,s]=(0,E.useState)(""),[o,a]=(0,E.useState)("notification"),[l,c]=(0,E.useState)("once"),[d,u]=(0,E.useState)(!1),[h,f]=(0,E.useState)(""),p=()=>e.trim()?n.trim()?e.trim().length<3?(f("El t\xedtulo debe tener al menos 3 caracteres"),!1):n.trim().length<10?(f("La descripci\xf3n debe tener al menos 10 caracteres"),!1):i.trim()&&!m(i.trim())?(f("La URL de la imagen no es v\xe1lida"),!1):(f(""),!0):(f("La descripci\xf3n es obligatoria"),!1):(f("El t\xedtulo es obligatorio"),!1),m=e=>{try{return new URL(e),!0}catch(e){return!1}},g=async()=>{if(p()){u(!0),f("");try{console.log("Enviando notificaci\xf3n:",{title:e.trim(),description:n.trim(),type:o,frequency:"in-app"===o?l:void 0});let a=hM(f8,"notifications"),c={title:e.trim(),description:n.trim(),image:i.trim()||null,type:o,frequency:"in-app"===o?l:"once",timestamp:new Date().toISOString(),sent:!0,active:!0,id:Date.now().toString()};await hL(a,c),console.log("Notificaci\xf3n enviada exitosamente");let d="in-app"===o?"once"===l?" (se mostrar\xe1 una sola vez)":" (se mostrar\xe1 siempre al iniciar la app)":"";f9.o.success(`${"notification"===o?"Notificaci\xf3n push":"Mensaje in-app"} enviado exitosamente${d}`),t(""),r(""),s(""),f("")}catch(t){console.error("Error sending notification:",t);let e=t instanceof Error?t.message:"Error desconocido";f(`Error al enviar notificaci\xf3n: ${e}`),f9.o.error("Error al enviar notificaci\xf3n. Revisa la consola para m\xe1s detalles.")}finally{u(!1)}}};return(0,C.jsx)(ew,{className:"max-w-md mx-auto card-hover",children:(0,C.jsx)(eE,{className:"p-6",children:(0,C.jsxs)("div",{className:"space-y-4",children:[h&&(0,C.jsxs)(tw,{variant:"destructive",className:"alert-error",children:[(0,C.jsx)(v$,{className:"h-4 w-4"}),(0,C.jsx)(tx,{children:h})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"notification-type",className:"flex items-center gap-2",children:["notification"===o?(0,C.jsx)(vY,{className:"h-4 w-4"}):(0,C.jsx)(vG,{className:"h-4 w-4"}),"Tipo de Notificaci\xf3n"]}),(0,C.jsxs)(id,{value:o,onValueChange:e=>a(e),disabled:d,children:[(0,C.jsx)(i8,{children:(0,C.jsx)(im,{})}),(0,C.jsxs)(se,{children:[(0,C.jsx)(st,{value:"notification",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(vY,{className:"h-4 w-4"}),"Notificaci\xf3n Push"]})}),(0,C.jsx)(st,{value:"in-app",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(vG,{className:"h-4 w-4"}),"In-App Messaging"]})})]})]})]}),"in-app"===o&&(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"notification-frequency",className:"flex items-center gap-2",children:["once"===l?(0,C.jsx)(vQ,{className:"h-4 w-4"}):(0,C.jsx)(vX,{className:"h-4 w-4"}),"Frecuencia de Visualizaci\xf3n"]}),(0,C.jsxs)(id,{value:l,onValueChange:e=>c(e),disabled:d,children:[(0,C.jsx)(i8,{children:(0,C.jsx)(im,{})}),(0,C.jsxs)(se,{children:[(0,C.jsx)(st,{value:"once",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(vQ,{className:"h-4 w-4"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{children:"Mostrar una vez"}),(0,C.jsx)("div",{className:"text-xs text-muted-foreground",children:"Se muestra solo la primera vez"})]})]})}),(0,C.jsx)(st,{value:"always",children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(vX,{className:"h-4 w-4"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{children:"Mostrar siempre"}),(0,C.jsx)("div",{className:"text-xs text-muted-foreground",children:"Se muestra cada vez que inicia la app"})]})]})})]})]}),(0,C.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,C.jsx)(vJ,{className:"h-3 w-3"}),(0,C.jsx)("span",{children:"once"===l?"El mensaje se mostrar\xe1 solo una vez por usuario":"El mensaje se mostrar\xe1 cada vez que el usuario abra la aplicaci\xf3n"})]})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"notification-title",className:"flex items-center gap-2",children:[(0,C.jsx)(vZ,{className:"h-4 w-4"}),"T\xedtulo *"]}),(0,C.jsx)(tk,{id:"notification-title",value:e,onChange:e=>{t(e.target.value),h&&f("")},placeholder:"T\xedtulo de la notificaci\xf3n",disabled:d})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"notification-description",className:"flex items-center gap-2",children:[(0,C.jsx)(vG,{className:"h-4 w-4"}),"Descripci\xf3n *"]}),(0,C.jsx)(vK,{id:"notification-description",value:n,onChange:e=>{r(e.target.value),h&&f("")},placeholder:"Descripci\xf3n de la notificaci\xf3n",rows:3,disabled:d,maxLength:500}),(0,C.jsxs)("p",{className:"text-xs text-gray-500",children:[n.length,"/500 caracteres"]})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"notification-image",className:"flex items-center gap-2",children:[(0,C.jsx)(v0,{className:"h-4 w-4"}),"Imagen (URL - Opcional)"]}),(0,C.jsx)(tk,{id:"notification-image",value:i,onChange:e=>{s(e.target.value),h&&f("")},placeholder:"https://ejemplo.com/imagen.jpg",disabled:d})]}),(0,C.jsxs)(tE,{onClick:g,disabled:d||!e.trim()||!n.trim(),className:"w-full btn-primary",children:[(0,C.jsx)(v1,{className:"h-4 w-4 mr-2"}),d?"Enviando...":"Enviar Notificaci\xf3n"]}),(0,C.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,C.jsx)("p",{children:"• Los campos marcados con * son obligatorios"}),(0,C.jsx)("p",{children:"• Las notificaciones push aparecen en la bandeja del sistema"}),(0,C.jsx)("p",{children:"• Los mensajes in-app aparecen dentro de la aplicaci\xf3n"}),(0,C.jsx)("p",{children:"• Se enviar\xe1 a todos los usuarios conectados"})]})]})})})}let v4=i4("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),v3=i4("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),v5=i4("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function v6(){let[e,t]=(0,E.useState)(""),[n,r]=(0,E.useState)(""),[i,s]=(0,E.useState)(""),[o,a]=(0,E.useState)(""),[l,c]=(0,E.useState)(!1),[d,u]=(0,E.useState)(""),h=()=>e.trim()?n.trim()?i.trim()?o.trim()?f(o.trim())?p(i.trim())?(u(""),!0):(u("El formato de versi\xf3n no es v\xe1lido (ejemplo: 1.2.0)"),!1):(u("El link de descarga no es v\xe1lido"),!1):(u("El link de descarga es obligatorio"),!1):(u("La versi\xf3n es obligatoria"),!1):(u("La descripci\xf3n es obligatoria"),!1):(u("El t\xedtulo es obligatorio"),!1),f=e=>{try{return new URL(e),!0}catch(e){return!1}},p=e=>/^\d+(\.\d+)*(-\w+)?$/.test(e),m=async()=>{if(h()){c(!0),u("");try{console.log("Enviando update:",{title:e.trim(),description:n.trim(),version:i.trim(),downloadLink:o.trim()});let l=hM(f8,"app_update"),c={title:e.trim(),description:n.trim(),version:i.trim(),downloadLink:o.trim(),timestamp:new Date().toISOString(),active:!0};await hF(l,c),console.log("Update enviado exitosamente"),f9.o.success("Update enviado exitosamente a todos los dispositivos"),t(""),r(""),s(""),a(""),u("")}catch(t){console.error("Error sending update:",t);let e=t instanceof Error?t.message:"Error desconocido";u(`Error al enviar update: ${e}`),f9.o.error("Error al enviar update. Revisa la consola para m\xe1s detalles.")}finally{c(!1)}}};return(0,C.jsx)(ew,{className:"max-w-md mx-auto card-hover",children:(0,C.jsx)(eE,{className:"p-6",children:(0,C.jsxs)("div",{className:"space-y-4",children:[d&&(0,C.jsxs)(tw,{variant:"destructive",className:"alert-error",children:[(0,C.jsx)(v$,{className:"h-4 w-4"}),(0,C.jsx)(tx,{children:d})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"update-title",className:"flex items-center gap-2",children:[(0,C.jsx)(vZ,{className:"h-4 w-4"}),"T\xedtulo del Update *"]}),(0,C.jsx)(tk,{id:"update-title",value:e,onChange:e=>{t(e.target.value),d&&u("")},placeholder:"Nueva versi\xf3n disponible",disabled:l})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"update-description",className:"flex items-center gap-2",children:[(0,C.jsx)(v4,{className:"h-4 w-4"}),"Descripci\xf3n *"]}),(0,C.jsx)(vK,{id:"update-description",value:n,onChange:e=>{r(e.target.value),d&&u("")},placeholder:"Descripci\xf3n de las mejoras y cambios en esta versi\xf3n",rows:3,disabled:l})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"update-version",className:"flex items-center gap-2",children:[(0,C.jsx)(vM,{className:"h-4 w-4"}),"Versi\xf3n *"]}),(0,C.jsx)(tk,{id:"update-version",value:i,onChange:e=>{s(e.target.value),d&&u("")},placeholder:"1.2.0",disabled:l}),(0,C.jsx)("p",{className:"text-xs text-muted-foreground",children:"Formato: 1.2.0 o 2.1 o 1.0.0-beta"})]}),(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsxs)(tI,{htmlFor:"update-link",className:"flex items-center gap-2",children:[(0,C.jsx)(v3,{className:"h-4 w-4"}),"Link de Descarga *"]}),(0,C.jsx)(tk,{id:"update-link",value:o,onChange:e=>{a(e.target.value),d&&u("")},placeholder:"https://ejemplo.com/app-v1.2.0.apk",disabled:l}),(0,C.jsx)("p",{className:"text-xs text-muted-foreground",children:"URL completa del archivo APK"})]}),(0,C.jsxs)(tE,{onClick:m,disabled:l||!e.trim()||!n.trim()||!i.trim()||!o.trim(),className:"w-full btn-primary",children:[(0,C.jsx)(v5,{className:"h-4 w-4 mr-2"}),l?"Enviando...":"Enviar Update"]}),(0,C.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,C.jsx)("p",{children:"• Todos los campos son obligatorios"}),(0,C.jsx)("p",{children:"• El update se enviar\xe1 a todos los usuarios conectados"}),(0,C.jsx)("p",{children:"• Los usuarios ver\xe1n un di\xe1logo para descargar la nueva versi\xf3n"}),(0,C.jsx)("p",{children:"• Aseg\xfarate de que el link de descarga sea accesible"})]})]})})})}let v8=i4("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),v9=i4("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function v7(){let[e,t]=(0,E.useState)({}),[n,r]=(0,E.useState)({}),[i,s]=(0,E.useState)(!1),[o,a]=(0,E.useState)(!1),l={Aimbot:"https://github.com/iFor-Lux/luxury-files/releases/download/v2.0/Aimbot.txt",Holograma:"https://github.com/iFor-Lux/luxury-files/releases/download/v2.0/Holograma.txt",WallHack:"https://github.com/iFor-Lux/luxury-files/releases/download/v2.0/WallHack.txt",Aimfov:"https://github.com/iFor-Lux/luxury-files/releases/download/v2.0/Aimfov.txt"},c=async()=>{s(!0);try{let e=hM(f8,"urls");await hF(e,n),t(n),a(!1),f9.o.success("URLs guardadas exitosamente")}catch(e){console.error("Error saving URLs:",e),f9.o.error("Error al guardar las URLs")}finally{s(!1)}},d=async()=>{s(!0);try{let e=hM(f8,"urls");await hF(e,l),t(l),r(l),a(!1),f9.o.success("URLs restauradas a valores por defecto")}catch(e){console.error("Error resetting URLs:",e),f9.o.error("Error al restaurar las URLs")}finally{s(!1)}},u=(e,t)=>{r(n=>({...n,[e]:t}))},h=e=>{try{return new URL(e),!0}catch{return!1}},f=e=>{window.open(e,"_blank")};return(0,C.jsxs)(ew,{className:"max-w-4xl mx-auto card-hover",children:[(0,C.jsxs)(ex,{children:[(0,C.jsxs)(eC,{className:"flex items-center gap-2",children:[(0,C.jsx)(v3,{className:"h-5 w-5"}),"Gestor de URLs de Botones"]}),(0,C.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gestiona los enlaces de los botones de la aplicaci\xf3n m\xf3vil"})]}),(0,C.jsx)(eE,{className:"p-6",children:(0,C.jsxs)("div",{className:"space-y-6",children:[(0,C.jsxs)("div",{className:"flex gap-2",children:[(0,C.jsx)(tE,{onClick:()=>a(!o),variant:o?"destructive":"default",disabled:i,children:o?"Cancelar Edici\xf3n":"Editar URLs"}),o&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(tE,{onClick:c,disabled:i,className:"flex items-center gap-2",children:[(0,C.jsx)(v8,{className:"h-4 w-4"}),"Guardar Cambios"]}),(0,C.jsxs)(tE,{onClick:d,variant:"outline",disabled:i,className:"flex items-center gap-2",children:[(0,C.jsx)(vX,{className:"h-4 w-4"}),"Restaurar por Defecto"]})]})]}),(0,C.jsx)("div",{className:"grid gap-4",children:Object.entries(o?n:e).map(([e,t])=>(0,C.jsxs)("div",{className:"space-y-2",children:[(0,C.jsx)(tI,{htmlFor:e,className:"text-sm font-medium",children:e}),(0,C.jsxs)("div",{className:"flex gap-2",children:[(0,C.jsx)(tk,{id:e,value:t,onChange:t=>o&&u(e,t.target.value),placeholder:`URL para ${e}`,disabled:!o||i,className:!h(t)&&o?"border-red-500":""}),!o&&(0,C.jsx)(tE,{variant:"outline",size:"icon",onClick:()=>f(t),disabled:!h(t),title:"Abrir URL",children:(0,C.jsx)(v9,{className:"h-4 w-4"})})]}),!h(t)&&o&&(0,C.jsx)("p",{className:"text-sm text-red-500",children:"URL inv\xe1lida. Por favor ingresa una URL v\xe1lida."})]},e))}),(0,C.jsxs)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[(0,C.jsx)("h4",{className:"font-medium mb-2",children:"Informaci\xf3n:"}),(0,C.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,C.jsx)("li",{children:"• Los cambios se guardan autom\xe1ticamente en Firebase Realtime Database"}),(0,C.jsx)("li",{children:"• Las URLs deben ser v\xe1lidas para que funcionen en la aplicaci\xf3n m\xf3vil"}),(0,C.jsx)("li",{children:"• Puedes restaurar los valores por defecto en cualquier momento"}),(0,C.jsx)("li",{children:"• Los cambios se reflejan inmediatamente en la aplicaci\xf3n m\xf3vil"})]})]})]})})]})}var ye=n(1086);let yt=i4("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),yn=i4("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),yr=i4("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var yi=["Enter"," "],ys=["ArrowUp","PageDown","End"],yo=["ArrowDown","PageUp","Home",...ys],ya={ltr:[...yi,"ArrowRight"],rtl:[...yi,"ArrowLeft"]},yl={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yc="Menu",[yd,yu,yh]=eD(yc),[yf,yp]=eS(yc,[yh,n3,eZ]),ym=n3(),yg=eZ(),[yv,yy]=yf(yc),[y_,yb]=yf(yc),yw=e=>{let{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,a=ym(t),[l,c]=E.useState(null),d=E.useRef(!1),u=eq(s),h=eV(i);return E.useEffect(()=>{let e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,C.jsx)(n8,{...a,children:(0,C.jsx)(yv,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:(0,C.jsx)(y_,{scope:t,onClose:E.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};yw.displayName=yc;var yx=E.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e,i=ym(n);return(0,C.jsx)(n7,{...i,...r,ref:t})});yx.displayName="MenuAnchor";var yC="MenuPortal",[yE,yk]=yf(yC,{forceMount:void 0}),yS=e=>{let{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=yy(yC,t);return(0,C.jsx)(yE,{scope:t,forceMount:n,children:(0,C.jsx)(e9,{present:n||s.open,children:(0,C.jsx)(rd,{asChild:!0,container:i,children:r})})})};yS.displayName=yC;var yN="MenuContent",[yI,yT]=yf(yN),yP=E.forwardRef((e,t)=>{let n=yk(yN,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=yy(yN,e.__scopeMenu),o=yb(yN,e.__scopeMenu);return(0,C.jsx)(yd.Provider,{scope:e.__scopeMenu,children:(0,C.jsx)(e9,{present:r||s.open,children:(0,C.jsx)(yd.Slot,{scope:e.__scopeMenu,children:o.modal?(0,C.jsx)(yR,{...i,ref:t}):(0,C.jsx)(yj,{...i,ref:t})})})})}),yR=E.forwardRef((e,t)=>{let n=yy(yN,e.__scopeMenu),r=E.useRef(null),i=eT(t,r);return E.useEffect(()=>{let e=r.current;if(e)return r_(e)},[]),(0,C.jsx)(yO,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ek(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),yj=E.forwardRef((e,t)=>{let n=yy(yN,e.__scopeMenu);return(0,C.jsx)(yO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yO=E.forwardRef((e,t)=>{let{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:f,disableOutsideScroll:p,...m}=e,g=yy(yN,n),v=yb(yN,n),y=ym(n),_=yg(n),b=yu(n),[w,x]=E.useState(null),k=E.useRef(null),S=eT(t,k,g.onContentChange),N=E.useRef(0),I=E.useRef(""),T=E.useRef(0),P=E.useRef(null),R=E.useRef("right"),j=E.useRef(0),O=p?r5:E.Fragment,D=p?{as:eP,allowPinchZoom:!0}:void 0,M=e=>{let t=I.current+e,n=b().filter(e=>!e.disabled),r=document.activeElement,i=n.find(e=>e.ref.current===r)?.textValue,s=function(e,t,n){var r;let i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=(r=Math.max(n?e.indexOf(n):-1,0),e.map((t,n)=>e[(r+n)%e.length]));1===i.length&&(s=s.filter(e=>e!==n));let o=s.find(e=>e.toLowerCase().startsWith(i.toLowerCase()));return o!==n?o:void 0}(n.map(e=>e.textValue),t,i),o=n.find(e=>e.textValue===s)?.ref.current;(function e(t){I.current=t,window.clearTimeout(N.current),""!==t&&(N.current=window.setTimeout(()=>e(""),1e3))})(t),o&&setTimeout(()=>o.focus())};E.useEffect(()=>()=>window.clearTimeout(N.current),[]),tA();let A=E.useCallback(e=>R.current===P.current?.side&&function(e,t){return!!t&&function(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let o=t[e].x,a=t[e].y,l=t[s].x,c=t[s].y;a>r!=c>r&&n<(l-o)*(r-a)/(c-a)+o&&(i=!i)}return i}({x:e.clientX,y:e.clientY},t)}(e,P.current?.area),[]);return(0,C.jsx)(yI,{scope:n,searchRef:I,onItemEnter:E.useCallback(e=>{A(e)&&e.preventDefault()},[A]),onItemLeave:E.useCallback(e=>{A(e)||(k.current?.focus(),x(null))},[A]),onTriggerLeave:E.useCallback(e=>{A(e)&&e.preventDefault()},[A]),pointerGraceTimerRef:T,onPointerGraceIntentChange:E.useCallback(e=>{P.current=e},[]),children:(0,C.jsx)(O,{...D,children:(0,C.jsx)(tW,{asChild:!0,trapped:i,onMountAutoFocus:ek(s,e=>{e.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,C.jsx)(tj,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:f,children:(0,C.jsx)(e2,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:x,onEntryFocus:ek(l,e=>{v.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,C.jsx)(rr,{role:"menu","aria-orientation":"vertical","data-state":y6(g.open),"data-radix-menu-content":"",dir:v.dir,...y,...m,ref:S,style:{outline:"none",...m.style},onKeyDown:ek(m.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&M(e.key));let i=k.current;if(e.target!==i||!yo.includes(e.key))return;e.preventDefault();let s=b().filter(e=>!e.disabled).map(e=>e.ref.current);ys.includes(e.key)&&s.reverse(),function(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}(s)}),onBlur:ek(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(N.current),I.current="")}),onPointerMove:ek(e.onPointerMove,y7(e=>{let t=e.target,n=j.current!==e.clientX;e.currentTarget.contains(t)&&n&&(R.current=e.clientX>j.current?"right":"left",j.current=e.clientX)}))})})})})})})});yP.displayName=yN;var yD=E.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,C.jsx)(eH.div,{role:"group",...r,ref:t})});yD.displayName="MenuGroup";var yM=E.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,C.jsx)(eH.div,{...r,ref:t})});yM.displayName="MenuLabel";var yA="MenuItem",yL="menu.itemSelect",yF=E.forwardRef((e,t)=>{let{disabled:n=!1,onSelect:r,...i}=e,s=E.useRef(null),o=yb(yA,e.__scopeMenu),a=yT(yA,e.__scopeMenu),l=eT(t,s),c=E.useRef(!1);return(0,C.jsx)(yU,{...i,ref:l,disabled:n,onClick:ek(e.onClick,()=>{let e=s.current;if(!n&&e){let t=new CustomEvent(yL,{bubbles:!0,cancelable:!0});e.addEventListener(yL,e=>r?.(e),{once:!0}),eW(e,t),t.defaultPrevented?c.current=!1:o.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),c.current=!0},onPointerUp:ek(e.onPointerUp,e=>{c.current||e.currentTarget?.click()}),onKeyDown:ek(e.onKeyDown,e=>{let t=""!==a.searchRef.current;!n&&(!t||" "!==e.key)&&yi.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});yF.displayName=yA;var yU=E.forwardRef((e,t)=>{let{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=yT(yA,n),a=yg(n),l=E.useRef(null),c=eT(t,l),[d,u]=E.useState(!1),[h,f]=E.useState("");return E.useEffect(()=>{let e=l.current;e&&f((e.textContent??"").trim())},[s.children]),(0,C.jsx)(yd.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:(0,C.jsx)(e5,{asChild:!0,...a,focusable:!r,children:(0,C.jsx)(eH.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:ek(e.onPointerMove,y7(e=>{r?o.onItemLeave(e):(o.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ek(e.onPointerLeave,y7(e=>o.onItemLeave(e))),onFocus:ek(e.onFocus,()=>u(!0)),onBlur:ek(e.onBlur,()=>u(!1))})})})}),yH=E.forwardRef((e,t)=>{let{checked:n=!1,onCheckedChange:r,...i}=e;return(0,C.jsx)(yY,{scope:e.__scopeMenu,checked:n,children:(0,C.jsx)(yF,{role:"menuitemcheckbox","aria-checked":y8(n)?"mixed":n,...i,ref:t,"data-state":y9(n),onSelect:ek(i.onSelect,()=>r?.(!!y8(n)||!n),{checkForDefaultPrevented:!1})})})});yH.displayName="MenuCheckboxItem";var yW="MenuRadioGroup",[yq,yz]=yf(yW,{value:void 0,onValueChange:()=>{}}),yB=E.forwardRef((e,t)=>{let{value:n,onValueChange:r,...i}=e,s=eq(r);return(0,C.jsx)(yq,{scope:e.__scopeMenu,value:n,onValueChange:s,children:(0,C.jsx)(yD,{...i,ref:t})})});yB.displayName=yW;var yV="MenuRadioItem",yK=E.forwardRef((e,t)=>{let{value:n,...r}=e,i=yz(yV,e.__scopeMenu),s=n===i.value;return(0,C.jsx)(yY,{scope:e.__scopeMenu,checked:s,children:(0,C.jsx)(yF,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":y9(s),onSelect:ek(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});yK.displayName=yV;var y$="MenuItemIndicator",[yY,yG]=yf(y$,{checked:!1}),yQ=E.forwardRef((e,t)=>{let{__scopeMenu:n,forceMount:r,...i}=e,s=yG(y$,n);return(0,C.jsx)(e9,{present:r||y8(s.checked)||!0===s.checked,children:(0,C.jsx)(eH.span,{...i,ref:t,"data-state":y9(s.checked)})})});yQ.displayName=y$;var yX=E.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,C.jsx)(eH.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});yX.displayName="MenuSeparator";var yJ=E.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e,i=ym(n);return(0,C.jsx)(ro,{...i,...r,ref:t})});yJ.displayName="MenuArrow";var yZ="MenuSub",[y0,y1]=yf(yZ),y2="MenuSubTrigger",y4=E.forwardRef((e,t)=>{let n=yy(y2,e.__scopeMenu),r=yb(y2,e.__scopeMenu),i=y1(y2,e.__scopeMenu),s=yT(y2,e.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>d,[d]),E.useEffect(()=>{let e=a.current;return()=>{window.clearTimeout(e),l(null)}},[a,l]),(0,C.jsx)(yx,{asChild:!0,...c,children:(0,C.jsx)(yU,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":y6(n.open),...e,ref:eI(t,i.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ek(e.onPointerMove,y7(t=>{s.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||o.current||(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ek(e.onPointerLeave,y7(e=>{d();let t=n.content?.getBoundingClientRect();if(t){let r=n.content?.dataset.side,i="right"===r,o=t[i?"left":"right"],l=t[i?"right":"left"];s.onPointerGraceIntentChange({area:[{x:e.clientX+(i?-5:5),y:e.clientY},{x:o,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:o,y:t.bottom}],side:r}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(e),e.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ek(e.onKeyDown,t=>{let i=""!==s.searchRef.current;!e.disabled&&(!i||" "!==t.key)&&ya[r.dir].includes(t.key)&&(n.onOpenChange(!0),n.content?.focus(),t.preventDefault())})})})});y4.displayName=y2;var y3="MenuSubContent",y5=E.forwardRef((e,t)=>{let n=yk(yN,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=yy(yN,e.__scopeMenu),o=yb(yN,e.__scopeMenu),a=y1(y3,e.__scopeMenu),l=E.useRef(null),c=eT(t,l);return(0,C.jsx)(yd.Provider,{scope:e.__scopeMenu,children:(0,C.jsx)(e9,{present:r||s.open,children:(0,C.jsx)(yd.Slot,{scope:e.__scopeMenu,children:(0,C.jsx)(yO,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{o.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:ek(e.onFocusOutside,e=>{e.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ek(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:ek(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),n=yl[o.dir].includes(e.key);t&&n&&(s.onOpenChange(!1),a.trigger?.focus(),e.preventDefault())})})})})})});function y6(e){return e?"open":"closed"}function y8(e){return"indeterminate"===e}function y9(e){return y8(e)?"indeterminate":e?"checked":"unchecked"}function y7(e){return t=>"mouse"===t.pointerType?e(t):void 0}y5.displayName=y3;var _e="DropdownMenu",[_t,_n]=eS(_e,[yp]),_r=yp(),[_i,_s]=_t(_e),_o=e=>{let{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=_r(t),c=E.useRef(null),[d=!1,u]=ez({prop:i,defaultProp:s,onChange:o});return(0,C.jsx)(_i,{scope:t,triggerId:eF(),triggerRef:c,contentId:eF(),open:d,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(e=>!e),[u]),modal:a,children:(0,C.jsx)(yw,{...l,open:d,onOpenChange:u,dir:r,modal:a,children:n})})};_o.displayName=_e;var _a="DropdownMenuTrigger",_l=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=_s(_a,n),o=_r(n);return(0,C.jsx)(yx,{asChild:!0,...o,children:(0,C.jsx)(eH.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:eI(t,s.triggerRef),onPointerDown:ek(e.onPointerDown,e=>{r||0!==e.button||!1!==e.ctrlKey||(s.onOpenToggle(),s.open||e.preventDefault())}),onKeyDown:ek(e.onKeyDown,e=>{!r&&(["Enter"," "].includes(e.key)&&s.onOpenToggle(),"ArrowDown"===e.key&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});_l.displayName=_a;var _c=e=>{let{__scopeDropdownMenu:t,...n}=e,r=_r(t);return(0,C.jsx)(yS,{...r,...n})};_c.displayName="DropdownMenuPortal";var _d="DropdownMenuContent",_u=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_s(_d,n),s=_r(n),o=E.useRef(!1);return(0,C.jsx)(yP,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:ek(e.onCloseAutoFocus,e=>{o.current||i.triggerRef.current?.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:ek(e.onInteractOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;(!i.modal||r)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_u.displayName=_d,E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yD,{...i,...r,ref:t})}).displayName="DropdownMenuGroup";var _h=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yM,{...i,...r,ref:t})});_h.displayName="DropdownMenuLabel";var _f=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yF,{...i,...r,ref:t})});_f.displayName="DropdownMenuItem";var _p=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yH,{...i,...r,ref:t})});_p.displayName="DropdownMenuCheckboxItem",E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yB,{...i,...r,ref:t})}).displayName="DropdownMenuRadioGroup";var _m=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yK,{...i,...r,ref:t})});_m.displayName="DropdownMenuRadioItem";var _g=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yQ,{...i,...r,ref:t})});_g.displayName="DropdownMenuItemIndicator";var _v=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yX,{...i,...r,ref:t})});_v.displayName="DropdownMenuSeparator",E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(yJ,{...i,...r,ref:t})}).displayName="DropdownMenuArrow";var _y=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(y4,{...i,...r,ref:t})});_y.displayName="DropdownMenuSubTrigger";var __=E.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=_r(n);return(0,C.jsx)(y5,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});__.displayName="DropdownMenuSubContent";let _b=i4("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);E.forwardRef(({className:e,inset:t,children:n,...r},i)=>(0,C.jsxs)(_y,{ref:i,className:eb("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,(0,C.jsx)(mr,{className:"ml-auto h-4 w-4"})]})).displayName=_y.displayName,E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(__,{ref:n,className:eb("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=__.displayName;let _w=E.forwardRef(({className:e,sideOffset:t=4,...n},r)=>(0,C.jsx)(_c,{children:(0,C.jsx)(_u,{ref:r,sideOffset:t,className:eb("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));_w.displayName=_u.displayName;let _x=E.forwardRef(({className:e,inset:t,...n},r)=>(0,C.jsx)(_f,{ref:r,className:eb("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));function _C(){let{theme:e,setTheme:t}=(0,ye.D)();return(0,C.jsxs)(_o,{children:[(0,C.jsx)(_l,{asChild:!0,children:(0,C.jsxs)(tE,{variant:"outline",size:"icon",className:"relative interactive-element",children:[(0,C.jsx)(yt,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,C.jsx)(yn,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,C.jsx)("span",{className:"sr-only",children:"Cambiar tema"})]})}),(0,C.jsxs)(_w,{align:"end",className:"glass-effect",children:[(0,C.jsxs)(_x,{onClick:()=>t("light"),className:"interactive-element cursor-pointer",children:[(0,C.jsx)(yt,{className:"mr-2 h-4 w-4"}),(0,C.jsx)("span",{children:"Claro"})]}),(0,C.jsxs)(_x,{onClick:()=>t("dark"),className:"interactive-element cursor-pointer",children:[(0,C.jsx)(yn,{className:"mr-2 h-4 w-4"}),(0,C.jsx)("span",{children:"Oscuro"})]}),(0,C.jsxs)(_x,{onClick:()=>{t(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},className:"interactive-element cursor-pointer",children:[(0,C.jsx)(yr,{className:"mr-2 h-4 w-4"}),(0,C.jsx)("span",{children:"Sistema"})]})]})]})}_x.displayName=_f.displayName,E.forwardRef(({className:e,children:t,checked:n,...r},i)=>(0,C.jsxs)(_p,{ref:i,className:eb("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[(0,C.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,C.jsx)(_g,{children:(0,C.jsx)(i6,{className:"h-4 w-4"})})}),t]})).displayName=_p.displayName,E.forwardRef(({className:e,children:t,...n},r)=>(0,C.jsxs)(_m,{ref:r,className:eb("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[(0,C.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,C.jsx)(_g,{children:(0,C.jsx)(_b,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=_m.displayName,E.forwardRef(({className:e,inset:t,...n},r)=>(0,C.jsx)(_h,{ref:r,className:eb("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n})).displayName=_h.displayName,E.forwardRef(({className:e,...t},n)=>(0,C.jsx)(_v,{ref:n,className:eb("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=_v.displayName;let _E=i4("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),_k=i4("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),_S=i4("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function _N(){let{user:e,loading:t,error:n,isAuthenticated:r}=function(){let[e,t]=(0,E.useState)(null),[n,r]=(0,E.useState)(!0),[i,s]=(0,E.useState)(null);return{user:e,loading:n,error:i,isAuthenticated:!!e}}(),[i,s]=(0,E.useState)([]),[o,a]=(0,E.useState)(!0),[l,c]=(0,E.useState)(null),[d,u]=(0,E.useState)(!0),[h,f]=(0,E.useState)("create");return t?(0,C.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("div",{className:"loading-spinner animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4"}),(0,C.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Conectando con Firebase..."}),(0,C.jsx)("p",{className:"text-muted-foreground",children:"Autenticando y configurando permisos"})]})}):n?(0,C.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,C.jsxs)(ew,{className:"max-w-md w-full glass-effect",children:[(0,C.jsx)(ex,{children:(0,C.jsxs)(eC,{className:"flex items-center gap-2 text-destructive",children:[(0,C.jsx)(v$,{className:"h-5 w-5"}),"Error de Autenticaci\xf3n"]})}),(0,C.jsxs)(eE,{children:[(0,C.jsx)("p",{className:"text-muted-foreground mb-4",children:n}),(0,C.jsx)(tE,{onClick:()=>window.location.reload(),className:"w-full btn-primary",children:"Reintentar Conexi\xf3n"})]})]})}):(0,C.jsx)("div",{className:"min-h-screen bg-background p-4",children:(0,C.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,C.jsxs)("div",{className:"mb-8 mt-6 sm:mt-8",children:[(0,C.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold luxury-logo mb-2 text-center sm:text-left",children:"Luxury Dashboard Admin"}),(0,C.jsxs)("div",{className:"grid grid-cols-1 sm:flex sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,C.jsx)("p",{className:"text-muted-foreground text-base sm:text-lg mb-0 sm:mb-0 col-span-1 sm:col-auto text-center sm:text-left",children:"Panel de administraci\xf3n para gestionar usuarios y notificaciones"}),(0,C.jsxs)("div",{className:"flex flex-row justify-center sm:justify-end items-center gap-2 sm:gap-4 mt-2 sm:mt-0 col-span-1 sm:col-auto",children:[(0,C.jsx)(_C,{}),r&&(0,C.jsxs)("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[(0,C.jsx)(_E,{className:"h-4 w-4"}),(0,C.jsx)("span",{className:"text-sm",children:"Autenticado"})]}),d?(0,C.jsxs)("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[(0,C.jsx)(_k,{className:"h-4 w-4"}),(0,C.jsx)("span",{className:"text-sm",children:"Conectado"})]}):(0,C.jsxs)("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[(0,C.jsx)(_S,{className:"h-4 w-4"}),(0,C.jsx)("span",{className:"text-sm",children:"Desconectado"})]})]})]}),l&&(0,C.jsxs)(tw,{variant:"destructive",className:"mt-4 alert-error",children:[(0,C.jsx)(v$,{className:"h-4 w-4"}),(0,C.jsxs)(tx,{className:"flex items-center justify-between",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"font-medium",children:"Error de conexi\xf3n"}),(0,C.jsx)("p",{className:"text-sm",children:l}),l.includes("PERMISSION_DENIED")&&(0,C.jsxs)("p",{className:"text-xs mt-2",children:[(0,C.jsx)(vJ,{className:"inline mr-2 text-green-400"}),"Soluci\xf3n: Ve a Firebase Console → Realtime Database → Rules y configura las reglas de seguridad"]})]}),(0,C.jsx)(tE,{onClick:()=>{a(!0),c(null),window.location.reload()},variant:"outline",size:"sm",className:"interactive-element",children:"Reintentar"})]})]})]}),(0,C.jsx)("div",{className:"sm:hidden mb-4",children:(0,C.jsxs)(id,{value:h,onValueChange:f,children:[(0,C.jsx)(i8,{className:"w-full",children:(0,C.jsx)(im,{placeholder:"Selecciona una secci\xf3n"})}),(0,C.jsxs)(se,{children:[(0,C.jsx)(st,{value:"create",children:"Crear Usuario"}),(0,C.jsx)(st,{value:"users",children:"Gesti\xf3n de Usuarios"}),(0,C.jsx)(st,{value:"notifications",children:"Notificaciones"}),(0,C.jsx)(st,{value:"updates",children:"Updates"}),(0,C.jsx)(st,{value:"files",children:"Archivos"}),(0,C.jsx)(st,{value:"urls",children:"Gestor de URLs"})]})]})}),(0,C.jsxs)(to,{value:h,onValueChange:f,className:"space-y-4",children:[(0,C.jsxs)(tm,{className:"hidden sm:grid w-full grid-cols-6",children:[(0,C.jsx)(tg,{value:"create",className:"interactive-element",children:"Crear Usuario"}),(0,C.jsx)(tg,{value:"users",className:"interactive-element",children:"Gesti\xf3n de Usuarios"}),(0,C.jsx)(tg,{value:"notifications",className:"interactive-element",children:"Notificaciones"}),(0,C.jsx)(tg,{value:"updates",className:"interactive-element",children:"Updates"}),(0,C.jsx)(tg,{value:"files",className:"interactive-element",children:"Archivos"}),(0,C.jsx)(tg,{value:"urls",className:"interactive-element",children:"Gestor de URLs"})]}),(0,C.jsx)(tv,{value:"create",children:(0,C.jsxs)(ew,{className:"card-hover",children:[(0,C.jsxs)(ex,{children:[(0,C.jsx)(eC,{children:"Secci\xf3n 1: Crear Nuevo Usuario"}),(0,C.jsx)("p",{className:"text-sm text-muted-foreground",children:"Crea nuevos usuarios con credenciales personalizadas y fecha de vencimiento"})]}),(0,C.jsx)(eE,{children:r&&d?(0,C.jsx)(pr,{}):(0,C.jsxs)(tw,{variant:"destructive",className:"alert-error",children:[(0,C.jsx)(v$,{className:"h-4 w-4"}),(0,C.jsx)(tx,{children:r?"No hay conexi\xf3n con Firebase. No se pueden crear usuarios.":"Esperando autenticaci\xf3n con Firebase..."})]})})]})}),(0,C.jsx)(tv,{value:"users",children:(0,C.jsxs)(ew,{className:"card-hover",children:[(0,C.jsxs)(ex,{children:[(0,C.jsx)(eC,{children:"Secci\xf3n 2: Gesti\xf3n de Usuarios"}),(0,C.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visualiza, edita y elimina usuarios registrados en la aplicaci\xf3n m\xf3vil"})]}),(0,C.jsx)(eE,{children:r&&d?(0,C.jsx)(vV,{users:i,loading:o}):(0,C.jsxs)(tw,{variant:"destructive",className:"alert-error",children:[(0,C.jsx)(v$,{className:"h-4 w-4"}),(0,C.jsx)(tx,{children:r?"No hay conexi\xf3n con Firebase. Los datos no se pueden cargar.":"Esperando autenticaci\xf3n con Firebase..."})]})})]})}),(0,C.jsx)(tv,{value:"notifications",children:(0,C.jsxs)(ew,{className:"card-hover",children:[(0,C.jsxs)(ex,{children:[(0,C.jsx)(eC,{children:"Secci\xf3n 3: Enviar Notificaciones"}),(0,C.jsx)("p",{className:"text-sm text-muted-foreground",children:"Env\xeda notificaciones push o mensajes in-app a los usuarios de la aplicaci\xf3n m\xf3vil"})]}),(0,C.jsx)(eE,{children:r&&d?(0,C.jsx)(v2,{}):(0,C.jsxs)(tw,{variant:"destructive",className:"alert-error",children:[(0,C.jsx)(v$,{className:"h-4 w-4"}),(0,C.jsx)(tx,{children:r?"No hay conexi\xf3n con Firebase. Las notificaciones no se pueden enviar.":"Esperando autenticaci\xf3n con Firebase..."})]})})]})}),(0,C.jsx)(tv,{value:"updates",children:(0,C.jsxs)(ew,{className:"card-hover",children:[(0,C.jsxs)(ex,{children:[(0,C.jsx)(eC,{children:"Secci\xf3n 4: Enviar Updates"}),(0,C.jsx)("p",{className:"text-sm text-muted-foreground",children:"Notifica a los usuarios sobre nuevas versiones disponibles de la aplicaci\xf3n"})]}),(0,C.jsx)(eE,{children:r&&d?(0,C.jsx)(v6,{}):(0,C.jsxs)(tw,{variant:"destructive",className:"alert-error",children:[(0,C.jsx)(v$,{className:"h-4 w-4"}),(0,C.jsx)(tx,{children:r?"No hay conexi\xf3n con Firebase. Los updates no se pueden enviar.":"Esperando autenticaci\xf3n con Firebase..."})]})})]})}),(0,C.jsx)(tv,{value:"urls",children:(0,C.jsxs)(ew,{className:"card-hover",children:[(0,C.jsxs)(ex,{children:[(0,C.jsx)(eC,{children:"Secci\xf3n 6: Gestor de URLs"}),(0,C.jsx)("p",{className:"text-sm text-muted-foreground",children:"Gestiona los enlaces de los botones de la aplicaci\xf3n m\xf3vil"})]}),(0,C.jsx)(eE,{children:r&&d?(0,C.jsx)(v7,{}):(0,C.jsxs)(tw,{variant:"destructive",className:"alert-error",children:[(0,C.jsx)(v$,{className:"h-4 w-4"}),(0,C.jsx)(tx,{children:r?"No hay conexi\xf3n con Firebase. Los cambios no se pueden guardar.":"Esperando autenticaci\xf3n con Firebase..."})]})})]})})]})]})})}},7751:(e,t,n)=>{"use strict";var r=n(8354),i=n(9713),s=n(4061),o=n(9433),a=n(7224),l=n(7062),c=function(e){s.call(this,null,null,e),this._http=new i("request")};r.inherits(c,s);var d={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",function(){}),this.on("error",function(){})},parse:function(e){if(this._delegate)return this._delegate.parse(e);if(this._http.parse(e),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var t=this;this._delegate=c.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach(function(e){this._delegate.on(e,function(n){t.emit(e,n)})},this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new s.ConnectEvent)}},_open:function(){this.__queue.forEach(function(e){this._delegate[e[0]].apply(this._delegate,e[1])},this),this.__queue=[]}};for(var u in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach(function(e){d[e]=function(){return this._delegate?this._delegate[e].apply(this._delegate,arguments):(this.__queue.push([e,arguments]),!0)}}),d)c.prototype[u]=d[u];c.isSecureRequest=function(e){if(e.connection&&void 0!==e.connection.authorized||e.socket&&e.socket.secure)return!0;var t=e.headers;return!!t&&("on"===t.https||"on"===t["x-forwarded-ssl"]||"https"===t["x-forwarded-scheme"]||"https"===t["x-forwarded-proto"])},c.determineUrl=function(e){return(this.isSecureRequest(e)?"wss:":"ws:")+"//"+e.headers.host+e.url},c.http=function(e,t){void 0===(t=t||{}).requireMasking&&(t.requireMasking=!0);var n=e.headers,r=n["sec-websocket-version"],i=n["sec-websocket-key"],s=n["sec-websocket-key1"],c=n["sec-websocket-key2"],d=this.determineUrl(e);return r||i?new l(e,d,t):s||c?new a(e,d,t):new o(e,d,t)},e.exports=c},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},8446:(e,t,n)=>{"use strict";var r=n(6012).Buffer,i=n(7910).Stream,s=n(9551),o=n(8354),a=n(4061),l=n(7012),c=n(9713),d={"ws:":80,"wss:":443},u=function(e,t,n){this._client=e,this._http=new c("response"),this._origin="object"==typeof e.url?e.url:s.parse(e.url),this._url="object"==typeof t?t:s.parse(t),this._options=n||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new l,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var i=this._url.auth&&r.from(this._url.auth,"utf8").toString("base64");i&&this._headers.set("Proxy-Authorization","Basic "+i)};o.inherits(u,i);var h={setHeader:function(e,t){return 0===this._state&&(this._headers.set(e,t),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var e=this._origin,t=e.port||d[e.protocol],n=["CONNECT "+e.hostname+":"+t+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",r.from(n.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(e){if(!this.writable)return!1;if(this._http.parse(e),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new a.ConnectEvent);else{var t="Can't establish a connection to the server at "+this._origin.href;this.emit("error",Error(t))}return this.end(),!this._paused},end:function(e){this.writable&&(void 0!==e&&this.write(e),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var f in h)u.prototype[f]=h[f];e.exports=u},8970:(e,t,n)=>{"use strict";var r=n(7910).Stream,i=n(8354),s=function(e){this.readable=this.writable=!0,this._paused=!1,this._driver=e};i.inherits(s,r),s.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},s.prototype.resume=function(){this._paused=!1,this.emit("drain");var e=this._driver.messages;e._paused=!1,e.emit("drain")},s.prototype.write=function(e){return!!this.writable&&(this._driver.parse(e),!this._paused)},s.prototype.end=function(e){if(this.writable){void 0!==e&&this.write(e),this.writable=!1;var t=this._driver.messages;t.readable&&(t.readable=t.writable=!1,t.emit("end"))}},s.prototype.destroy=function(){this.end()};var o=function(e){this.readable=this.writable=!0,this._paused=!1,this._driver=e};i.inherits(o,r),o.prototype.pause=function(){this._driver.io._paused=!0},o.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},o.prototype.write=function(e){return!!this.writable&&("string"==typeof e?this._driver.text(e):this._driver.binary(e),!this._paused)},o.prototype.end=function(e){void 0!==e&&this.write(e)},o.prototype.destroy=function(){},t.IO=s,t.Messages=o},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9225:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(1129).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Luxury\\\\Downloads\\\\luxury-dashboard-main\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Luxury\\Downloads\\luxury-dashboard-main\\app\\page.tsx","default")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9313:(e,t,n)=>{"use strict";var r=n(8354),i=n(1645),s=n(4631),o=n(9551),a=n(2461),l=n(1364);n(6867);var c={"http:":80,"https:":443,"ws:":80,"wss:":443},d=["https:","wss:"],u=function(e,t,n){n=n||{},this.url=e,this._driver=a.client(this.url,{maxLength:n.maxLength,protocols:t}),["open","error"].forEach(function(e){this._driver.on(e,function(){y.headers=y._driver.headers,y.statusCode=y._driver.statusCode})},this);var r=n.proxy||{},u=o.parse(r.origin||this.url),h=u.port||c[u.protocol],f=d.indexOf(u.protocol)>=0,p=function(){y._onConnect()},m=n.net||{},g=n.tls||{},v=r.origin?r.tls||{}:g,y=this;m.host=v.host=u.hostname,m.port=v.port=h,g.ca=g.ca||n.ca,v.servername=v.servername||u.hostname,this._stream=f?s.connect(v,p):i.connect(m,p),r.origin&&this._configureProxy(r,g),l.call(this,n)};r.inherits(u,l),u.prototype._onConnect=function(){(this._proxy||this._driver).start()},u.prototype._configureProxy=function(e,t){var n,r=o.parse(this.url),i=d.indexOf(r.protocol)>=0,a=this;if(this._proxy=this._driver.proxy(e.origin),e.headers)for(n in e.headers)this._proxy.setHeader(n,e.headers[n]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",function(){if(i){var e={socket:a._stream,servername:r.hostname};for(n in t)e[n]=t[n];a._stream=s.connect(e),a._configureStream()}a._driver.io.pipe(a._stream),a._stream.pipe(a._driver.io),a._driver.start()}),this._proxy.on("error",function(e){a._driver.emit("error",e)})},e.exports=u},9318:e=>{"use strict";var t=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,n=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,r=RegExp(t.source+"(?:=(?:"+t.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/.source+"))?"),i=RegExp(t.source+"(?: *; *"+r.source+")*","g"),s=RegExp("^"+i.source+"(?: *, *"+i.source+")*$"),o=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,a=Object.prototype.hasOwnProperty,l=function(){this._byName={},this._inOrder=[]};l.prototype.push=function(e,t){a.call(this._byName,e)||(this._byName[e]=[]),this._byName[e].push(t),this._inOrder.push({name:e,params:t})},l.prototype.eachOffer=function(e,t){for(var n=this._inOrder,r=0,i=n.length;r<i;r++)e.call(t,n[r].name,n[r].params)},l.prototype.byName=function(e){return this._byName[e]||[]},l.prototype.toArray=function(){return this._inOrder.slice()},e.exports={parseHeader:function(e){var t=new l;if(""===e||void 0===e)return t;if(!s.test(e))throw SyntaxError("Invalid Sec-WebSocket-Extensions header: "+e);return e.match(i).forEach(function(e){var n=e.match(RegExp(r.source,"g")),i=n.shift(),s={};n.forEach(function(e){var t,n=e.match(r),i=n[1];t=void 0!==n[2]?n[2]:void 0===n[3]||n[3].replace(/\\/g,""),o.test(t)&&(t=parseFloat(t)),a.call(s,i)?(s[i]=[].concat(s[i]),s[i].push(t)):s[i]=t},this),t.push(i,s)},this),t},serializeParams:function(e,t){var r=[],i=function(e,t){t instanceof Array?t.forEach(function(t){i(e,t)}):!0===t?r.push(e):"number"==typeof t?r.push(e+"="+t):n.test(t)?r.push(e+'="'+t.replace(/"/g,'\\"')+'"'):r.push(e+"="+t)};for(var s in t)i(s,t[s]);return[e].concat(r).join("; ")}}},9371:(e,t,n)=>{Promise.resolve().then(n.bind(n,5296)),Promise.resolve().then(n.bind(n,2422))},9428:e=>{"use strict";e.exports=require("buffer")},9433:(e,t,n)=>{"use strict";var r=n(6012).Buffer,i=n(4061),s=n(8354),o=function(e,t,n){i.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};s.inherits(o,i);var a={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new i.CloseEvent(null,null)),!0)},parse:function(e){this.readyState>1||(this._reader.put(e),this._reader.eachByte(function(e){var t;switch(this._stage){case -1:this._body.push(e),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(e);break;case 1:if(this._length=(127&e)+128*this._length,this._closing&&0===this._length)return this.close();(128&e)!=128&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===e)this._stage=0,t=r.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new i.MessageEvent(t));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(e),this._buffer.length>this._maxLength)return this.close()}},this))},frame:function(e){if(0===this.readyState)return this._queue([e]);if(this.readyState>1)return!1;"string"!=typeof e&&(e=e.toString());var t=r.byteLength(e),n=r.allocUnsafe(t+2);return n[0]=0,n.write(e,1),n[n.length-1]=255,this._write(n),!0},_handshakeResponse:function(){var e=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return r.from(e.join("\r\n"),"utf8")},_parseLeadingByte:function(e){(128&e)==128?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var l in a)o.prototype[l]=a[l];e.exports=o},9551:e=>{"use strict";e.exports=require("url")},9650:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,metadata:()=>l});var r=n(5479),i=n(6119),s=n.n(i);n(5290);var o=n(2422),a=n(5296);let l={title:"Luxury Dashboard Admin",description:"Panel de administraci\xf3n para Luxury App"};function c({children:e}){return(0,r.jsx)("html",{lang:"es",suppressHydrationWarning:!0,children:(0,r.jsx)("body",{className:s().className,children:(0,r.jsxs)(a.ThemeProvider,{children:[e,(0,r.jsx)(o.Toaster,{position:"top-right",toastOptions:{duration:4e3,className:"glass-effect",style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})})})}},9713:(e,t,n)=>{"use strict";var r=n(1902).e,i=n(6012).Buffer,s={request:r.REQUEST||"request",response:r.RESPONSE||"response"},o=function(e){this._type=e,this._parser=new r(s[e]),this._complete=!1,this.headers={};var t=null,n=this;this._parser.onHeaderField=function(e,n,r){t=e.toString("utf8",n,n+r).toLowerCase()},this._parser.onHeaderValue=function(e,r,i){var s=e.toString("utf8",r,r+i);n.headers.hasOwnProperty(t)?n.headers[t]+=", "+s:n.headers[t]=s},this._parser.onHeadersComplete=this._parser[r.kOnHeadersComplete]=function(e,t,r,i,s,a){var l=arguments[0];if("object"==typeof l&&(i=l.method,s=l.url,a=l.statusCode,r=l.headers),n.method="number"==typeof i?o.METHODS[i]:i,n.statusCode=a,n.url=s,r){for(var c,d,u=0,h=r.length;u<h;u+=2)c=r[u].toLowerCase(),d=r[u+1],n.headers.hasOwnProperty(c)?n.headers[c]+=", "+d:n.headers[c]=d;n._complete=!0}}};o.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var a=process.version?process.version.match(/[0-9]+/g).map(function(e){return parseInt(e,10)}):[];0===a[0]&&12===a[1]&&(o.METHODS[16]="REPORT",o.METHODS[17]="MKACTIVITY",o.METHODS[18]="CHECKOUT",o.METHODS[19]="MERGE",o.METHODS[20]="M-SEARCH",o.METHODS[21]="NOTIFY",o.METHODS[22]="SUBSCRIBE",o.METHODS[23]="UNSUBSCRIBE",o.METHODS[24]="PATCH",o.METHODS[25]="PURGE"),o.prototype.isComplete=function(){return this._complete},o.prototype.parse=function(e){var t=this._parser.execute(e,0,e.length);if("number"!=typeof t){this.error=t,this._complete=!0;return}this._complete&&(this.body=t<e.length?e.slice(t):i.alloc(0))},e.exports=o},9740:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=n(7025),i=n(8198),s=n(2576),o=n.n(s),a=n(5239),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);n.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,9225)),"C:\\Users\\Luxury\\Downloads\\luxury-dashboard-main\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,9650)),"C:\\Users\\Luxury\\Downloads\\luxury-dashboard-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,4540,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,3117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,6874,23)),"next/dist/client/components/unauthorized-error"]}],d=["C:\\Users\\Luxury\\Downloads\\luxury-dashboard-main\\app\\page.tsx"],u={require:n,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[127],()=>n(9740));module.exports=r})();